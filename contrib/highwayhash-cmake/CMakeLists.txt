SET(LIBRARY_DIR "${ClickHouse_SOURCE_DIR}/contrib/highwayhash")

add_library(highwayhash "${LIBRARY_DIR}/highwayhash/arch_specific.cc"
                        "${LIBRARY_DIR}/highwayhash/arch_specific.h"
                        "${LIBRARY_DIR}/highwayhash/benchmark.cc"
                        "${LIBRARY_DIR}/highwayhash/c_bindings.cc"
                        "${LIBRARY_DIR}/highwayhash/c_bindings.h"
                        "${LIBRARY_DIR}/highwayhash/compiler_specific.h"
                        "${LIBRARY_DIR}/highwayhash/data_parallel.h"
                        "${LIBRARY_DIR}/highwayhash/data_parallel_benchmark.cc"
                        "${LIBRARY_DIR}/highwayhash/data_parallel_test.cc"
                        "${LIBRARY_DIR}/highwayhash/endianess.h"
                        "${LIBRARY_DIR}/highwayhash/example.cc"
                        "${LIBRARY_DIR}/highwayhash/hh_avx2.cc"
                        "${LIBRARY_DIR}/highwayhash/hh_avx2.h"
                        "${LIBRARY_DIR}/highwayhash/hh_buffer.h"
                        "${LIBRARY_DIR}/highwayhash/hh_neon.cc"
                        "${LIBRARY_DIR}/highwayhash/hh_neon.h"
                        "${LIBRARY_DIR}/highwayhash/hh_portable.cc"
                        "${LIBRARY_DIR}/highwayhash/hh_portable.h"
                        "${LIBRARY_DIR}/highwayhash/hh_sse41.cc"
                        "${LIBRARY_DIR}/highwayhash/hh_sse41.h"
                        "${LIBRARY_DIR}/highwayhash/hh_types.h"
                        "${LIBRARY_DIR}/highwayhash/hh_vsx.cc"
                        "${LIBRARY_DIR}/highwayhash/hh_vsx.h"
                        "${LIBRARY_DIR}/highwayhash/highwayhash.h"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_fuzzer.cc"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_target.cc"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_target.h"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_test.cc"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_test_avx2.cc"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_test_neon.cc"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_test_portable.cc"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_test_sse41.cc"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_test_target.cc"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_test_target.h"
                        "${LIBRARY_DIR}/highwayhash/highwayhash_test_vsx.cc"
                        "${LIBRARY_DIR}/highwayhash/iaca.h"
                        "${LIBRARY_DIR}/highwayhash/instruction_sets.cc"
                        "${LIBRARY_DIR}/highwayhash/instruction_sets.h"
                        "${LIBRARY_DIR}/highwayhash/load3.h"
                        "${LIBRARY_DIR}/highwayhash/nanobenchmark.cc"
                        "${LIBRARY_DIR}/highwayhash/nanobenchmark.h"
                        "${LIBRARY_DIR}/highwayhash/nanobenchmark_example.cc"
                        "${LIBRARY_DIR}/highwayhash/os_mac.cc"
                        "${LIBRARY_DIR}/highwayhash/os_mac.h"
                        "${LIBRARY_DIR}/highwayhash/os_specific.cc"
                        "${LIBRARY_DIR}/highwayhash/os_specific.h"
                        "${LIBRARY_DIR}/highwayhash/profiler.h"
                        "${LIBRARY_DIR}/highwayhash/profiler_example.cc"
                        "${LIBRARY_DIR}/highwayhash/robust_statistics.h"
                        "${LIBRARY_DIR}/highwayhash/scalar.h"
                        "${LIBRARY_DIR}/highwayhash/scalar_sip_tree_hash.cc"
                        "${LIBRARY_DIR}/highwayhash/scalar_sip_tree_hash.h"
                        "${LIBRARY_DIR}/highwayhash/sip_hash.cc"
                        "${LIBRARY_DIR}/highwayhash/sip_hash.h"
                        "${LIBRARY_DIR}/highwayhash/sip_hash_fuzzer.cc"
                        "${LIBRARY_DIR}/highwayhash/sip_hash_test.cc"
                        "${LIBRARY_DIR}/highwayhash/sip_tree_hash.cc"
                        "${LIBRARY_DIR}/highwayhash/sip_tree_hash.h"
                        "${LIBRARY_DIR}/highwayhash/state_helpers.h"
                        "${LIBRARY_DIR}/highwayhash/tsc_timer.h"
                        "${LIBRARY_DIR}/highwayhash/vector128.h"
                        "${LIBRARY_DIR}/highwayhash/vector256.h"
                        "${LIBRARY_DIR}/highwayhash/vector_neon.h"
                        "${LIBRARY_DIR}/highwayhash/vector_test.cc"
                        "${LIBRARY_DIR}/highwayhash/vector_test_avx2.cc"
                        "${LIBRARY_DIR}/highwayhash/vector_test_neon.cc"
                        "${LIBRARY_DIR}/highwayhash/vector_test_portable.cc"
                        "${LIBRARY_DIR}/highwayhash/vector_test_sse41.cc"
                        "${LIBRARY_DIR}/highwayhash/vector_test_target.cc"
                        "${LIBRARY_DIR}/highwayhash/vector_test_target.h"

        )

target_include_directories(highwayhash PUBLIC ${LIBRARY_DIR})

add_library(ch_contrib::highwayhash ALIAS highwayhash)
