---
title: フォーマット設定
sidebar_label: フォーマット設定
slug: /ja/operations/settings/formats
toc_max_heading_level: 2
---
<!-- Autogenerated -->
これらの設定は、[source](https://github.com/ClickHouse/ClickHouse/blob/master/src/Core/FormatFactorySettings.h) から自動生成されています。

## bool_false_representation {#bool_false_representation}

タイプ: String

デフォルト値: false

TSV/CSV/Vertical/Pretty フォーマットで false のブール値を表現するテキスト。

## bool_true_representation {#bool_true_representation}

タイプ: String

デフォルト値: true

TSV/CSV/Vertical/Pretty フォーマットで true のブール値を表現するテキスト。

## column_names_for_schema_inference {#column_names_for_schema_inference}

タイプ: String

デフォルト値: 

カラム名なしでフォーマットのスキーマ推論に使用するカラム名のリスト。形式: 'column1,column2,column3,...'

## cross_to_inner_join_rewrite {#cross_to_inner_join_rewrite}

タイプ: UInt64

デフォルト値: 1

WHERE セクションに結合式がある場合、カンマ/クロス結合の代わりに内部結合を使用します。値: 0 - 書き換えなし, 1 - カンマ/クロスで可能なら適用, 2 - 全てのカンマ結合を強制的に書き換え, クロス - 可能なら

## date_time_64_output_format_cut_trailing_zeros_align_to_groups_of_thousands {#date_time_64_output_format_cut_trailing_zeros_align_to_groups_of_thousands}

タイプ: Bool

デフォルト値: 0

datetime64 値の終端のゼロを動的に削除して、出力スケールを '秒'、'ミリ秒'、'マイクロ秒' に対応する [0, 3, 6] に調整します。

## date_time_input_format {#date_time_input_format}

タイプ: DateTimeInputFormat

デフォルト値: basic

日付と時刻のテキスト表現のパーサーを選択可能。

この設定は[日付と時間の関数](../../sql-reference/functions/date-time-functions.md)には適用されません。

利用可能な値:

- `'best_effort'` — 拡張解析を有効にします。

    ClickHouse は基本の `YYYY-MM-DD HH:MM:SS` 形式およびすべての [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) の日付と時刻の形式を解析できます。例えば、`'2018-06-08T01:02:03.000Z'`。

- `'basic'` — 基本的なパーサーを使用。

    ClickHouse は基本の `YYYY-MM-DD HH:MM:SS` または `YYYY-MM-DD` の形式のみ解析できます。例えば、`2019-08-20 10:18:56` または `2019-08-20`。

クラウドのデフォルト値: `'best_effort'`。

参照:

- [DateTime データ型。](../../sql-reference/data-types/datetime.md)
- [日付と時間を扱うための関数。](../../sql-reference/functions/date-time-functions.md)

## date_time_output_format {#date_time_output_format}

タイプ: DateTimeOutputFormat

デフォルト値: simple

日付と時刻のテキスト表現の異なる出力フォーマットを選択可能。

利用可能な値:

- `simple` - シンプルな出力フォーマット。

    ClickHouse は日付と時刻を `YYYY-MM-DD hh:mm:ss` 形式で出力します。例えば、`2019-08-20 10:18:56`。計算はデータ型のタイムゾーン（存在する場合）またはサーバーのタイムゾーンに基づいて行われます。

- `iso` - ISO 出力フォーマット。

    ClickHouse は日付と時刻を [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) `YYYY-MM-DDThh:mm:ssZ` 形式で出力します。例えば、`2019-08-20T10:18:56Z`。出力は UTC (`Z` は UTC を意味します) です。

- `unix_timestamp` - Unix タイムスタンプ出力フォーマット。

    ClickHouse は日付と時刻を [Unix タイムスタンプ](https://en.wikipedia.org/wiki/Unix_time)形式で出力します。例えば `1566285536`。

参照:

- [DateTime データ型。](../../sql-reference/data-types/datetime.md)
- [日付と時間を扱うための関数。](../../sql-reference/functions/date-time-functions.md)

## date_time_overflow_behavior {#date_time_overflow_behavior}

タイプ: DateTimeOverflowBehavior

デフォルト値: ignore

Date, Date32, DateTime, DateTime64 型のオーバーフローモード。利用可能な値: 'ignore', 'throw', 'saturate'。

## dictionary_use_async_executor {#dictionary_use_async_executor}

タイプ: Bool

デフォルト値: 0

複数のスレッドでディクショナリソースを読むパイプラインを実行します。これはローカル CLICKHOUSE ソースのディクショナリでのみサポートされています。

## errors_output_format {#errors_output_format}

タイプ: String

デフォルト値: CSV

エラーをテキスト出力に書き出す方法。

## exact_rows_before_limit {#exact_rows_before_limit}

タイプ: Bool

デフォルト値: 0

有効にすると、ClickHouse は rows_before_limit_at_least 統計の正確な値を提供しますが、リミット前のデータを完全に読み取る必要があります。

## format_avro_schema_registry_url {#format_avro_schema_registry_url}

タイプ: URI

デフォルト値: 

AvroConfluent フォーマット用: Confluent スキーマレジストリ URL。

## format_binary_max_array_size {#format_binary_max_array_size}

タイプ: UInt64

デフォルト値: 1073741824

RowBinary フォーマットで Array に許可される最大サイズです。破損したデータの際に大量のメモリを割り当てないようにします。0 は制限がないことを意味します。

## format_binary_max_string_size {#format_binary_max_string_size}

タイプ: UInt64

デフォルト値: 1073741824

RowBinary フォーマットで String に許可される最大サイズです。破損したデータの際に大量のメモリを割り当てないようにします。0 は制限がないことを意味します。

## format_capn_proto_enum_comparising_mode {#format_capn_proto_enum_comparising_mode}

タイプ: CapnProtoEnumComparingMode

デフォルト値: by_values

ClickHouse Enum と CapnProto Enum のマッピング方法

## format_capn_proto_use_autogenerated_schema {#format_capn_proto_use_autogenerated_schema}

タイプ: Bool

デフォルト値: 1

format_schema が設定されていない場合、自動生成された CapnProto スキーマを使用

## format_csv_allow_double_quotes {#format_csv_allow_double_quotes}

タイプ: Bool

デフォルト値: 1

true に設定されている場合、二重引用符で囲まれた文字列を許可します。

## format_csv_allow_single_quotes {#format_csv_allow_single_quotes}

タイプ: Bool

デフォルト値: 0

true に設定されている場合、単一引用符で囲まれた文字列を許可します。

## format_csv_delimiter {#format_csv_delimiter}

タイプ: Char

デフォルト値: ,

CSV データで区切り文字と見なされる文字。文字列で設定する場合、文字列の長さは 1 でなければなりません。

## format_csv_null_representation {#format_csv_null_representation}

タイプ: String

デフォルト値: \N

CSV フォーマットでのカスタム NULL 表現

## format_custom_escaping_rule {#format_custom_escaping_rule}

タイプ: EscapingRule

デフォルト値: Escaped

フィールドのエスケープルール (CustomSeparated フォーマット用)

## format_custom_field_delimiter {#format_custom_field_delimiter}

タイプ: String

デフォルト値: 	

フィールド間の区切り文字 (CustomSeparated フォーマット用)

## format_custom_result_after_delimiter {#format_custom_result_after_delimiter}

タイプ: String

デフォルト値: 

結果セットの後に付けるサフィックス (CustomSeparated フォーマット用)

## format_custom_result_before_delimiter {#format_custom_result_before_delimiter}

タイプ: String

デフォルト値: 

結果セットの前に付けるプレフィックス (CustomSeparated フォーマット用)

## format_custom_row_after_delimiter {#format_custom_row_after_delimiter}

タイプ: String

デフォルト値: 

最後のカラムのフィールドの後の区切り文字 (CustomSeparated フォーマット用)

## format_custom_row_before_delimiter {#format_custom_row_before_delimiter}

タイプ: String

デフォルト値: 

最初のカラムのフィールドの前の区切り文字 (CustomSeparated フォーマット用)

## format_custom_row_between_delimiter {#format_custom_row_between_delimiter}

タイプ: String

デフォルト値: 

行間の区切り文字 (CustomSeparated フォーマット用)

## format_display_secrets_in_show_and_select {#format_display_secrets_in_show_and_select}

タイプ: Bool

デフォルト値: 0

テーブル、データベース、テーブル関数、ディクショナリの `SHOW` と `SELECT` クエリで秘密を表示するかどうかを有効または無効にします。

秘密を見るユーザーは、[`display_secrets_in_show_and_select` サーバー設定](../server-configuration-parameters/settings#display_secrets_in_show_and_select) をオンにし、
[`displaySecretsInShowAndSelect`](../../sql-reference/statements/grant#display-secrets) 特権を持つ必要があります。

可能な値:

- 0 — 無効。
- 1 — 有効。

## format_json_object_each_row_column_for_object_name {#format_json_object_each_row_column_for_object_name}

タイプ: String

デフォルト値: 

[JSONObjectEachRow](../../interfaces/formats.md/#jsonobjecteachrow) フォーマットでオブジェクト名の保存/書き込みに使用されるカラムの名前。
カラムタイプは String でなければなりません。値が空の場合、デフォルトの名前 `row_{i}`がオブジェクト名として使用されます。

### input_format_json_compact_allow_variable_number_of_columns {#input_format_json_compact_allow_variable_number_of_columns}

JSONCompact/JSONCompactEachRow 入力フォーマットで行のカラム数を変動可能に許可する。
予想より多いカラムを持つ行では余分なカラムを無視し、欠けているカラムをデフォルト値として扱います。

デフォルトでは無効。

### output_format_markdown_escape_special_characters {#output_format_markdown_escape_special_characters}

有効にすると、Markdown の特殊文字をエスケープします。

[Common Mark](https://spec.commonmark.org/0.30/#example-12)は以下の特殊文字を \ でエスケープできると定義しています:

```
! " # $ % & ' ( ) * + , - . / : ; < = > ? @ [ \ ] ^ _ ` { | } ~
```

可能な値:

+ 0 — 無効。
+ 1 — 有効。

### input_format_json_empty_as_default {#input_format_json_empty_as_default}

有効にすると、JSON の空の入力フィールドをデフォルト値で置き換えます。複雑なデフォルト式に対しては `input_format_defaults_for_omitted_fields` も有効にする必要があります。

可能な値:

+ 0 — 無効。
+ 1 — 有効。

## format_protobuf_use_autogenerated_schema {#format_protobuf_use_autogenerated_schema}

タイプ: Bool

デフォルト値: 1

format_schema が設定されていない場合、自動生成された Protobuf を使用

## format_regexp {#format_regexp}

タイプ: String

デフォルト値: 

正規表現 (Regexp フォーマット用)

## format_regexp_escaping_rule {#format_regexp_escaping_rule}

タイプ: EscapingRule

デフォルト値: Raw

フィールドのエスケープルール (Regexp フォーマット用)

## format_regexp_skip_unmatched {#format_regexp_skip_unmatched}

タイプ: Bool

デフォルト値: 0

正規表現によって一致しない行をスキップする (Regexp フォーマット用)

## format_schema {#format_schema}

タイプ: String

デフォルト値: 

[Cap’n Proto](https://capnproto.org/) や [Protobuf](https://developers.google.com/protocol-buffers/) のようにスキーマ定義を必要とするフォーマットを使用する場合に便利です。値はフォーマットによります。

## format_template_resultset {#format_template_resultset}

タイプ: String

デフォルト値: 

結果セット用のフォーマット文字列が含まれるファイルのパス (Template フォーマット用)

## format_template_resultset_format {#format_template_resultset_format}

タイプ: String

デフォルト値: 

結果セットのフォーマット文字列 (Template フォーマット用)

## format_template_row {#format_template_row}

タイプ: String

デフォルト値: 

行用のフォーマット文字列が含まれるファイルのパス (Template フォーマット用)

## format_template_row_format {#format_template_row_format}

タイプ: String

デフォルト値: 

行のフォーマット文字列 (Template フォーマット用)

## format_template_rows_between_delimiter {#format_template_rows_between_delimiter}

タイプ: String

デフォルト値: 

行間の区切り文字 (Template フォーマット用)

## format_tsv_null_representation {#format_tsv_null_representation}

タイプ: String

デフォルト値: \N

TSV フォーマットでのカスタム NULL 表現

## input_format_allow_errors_num {#input_format_allow_errors_num}

タイプ: UInt64

デフォルト値: 0

テキストフォーマット (CSV, TSV, など) の読み取り時に許容される最大エラー数を設定します。

デフォルト値は 0 です。

常に `input_format_allow_errors_ratio` とペアで使用してください。

行の読み取り中にエラーが発生してもエラーカウンターが `input_format_allow_errors_num` をまだ下回っている場合、ClickHouse はその行を無視し次の行へ進みます。

`input_format_allow_errors_num` と `input_format_allow_errors_ratio` が両方とも超過した場合、ClickHouse は例外をスローします。

## input_format_allow_errors_ratio {#input_format_allow_errors_ratio}

タイプ: Float

デフォルト値: 0

テキストフォーマット (CSV, TSV, など) の読み取り時に許容されるエラーの最大割合を設定します。
エラーの割合は 0 と 1 の間の浮動小数点数で設定されます。

デフォルト値は 0 です。

常に `input_format_allow_errors_num` とペアで使用してください。

行の読み取り中にエラーが発生してもエラーカウンターが `input_format_allow_errors_ratio` をまだ下回っている場合、ClickHouse はその行を無視し次の行へ進みます。

`input_format_allow_errors_num` と `input_format_allow_errors_ratio` が両方とも超過した場合、ClickHouse は例外をスローします。

## input_format_allow_seeks {#input_format_allow_seeks}

タイプ: Bool

デフォルト値: 1

ORC/Parquet/Arrow 入力フォーマットで読み取り時のシークを許可します。

デフォルトで有効。

## input_format_arrow_allow_missing_columns {#input_format_arrow_allow_missing_columns}

タイプ: Bool

デフォルト値: 1

Arrow 入力フォーマットの読み取り時に欠損カラムを許可します。

## input_format_arrow_case_insensitive_column_matching {#input_format_arrow_case_insensitive_column_matching}

タイプ: Bool

デフォルト値: 0

Arrow のカラムと CH のカラムを一致させるときに大文字と小文字を無視します。

## input_format_arrow_skip_columns_with_unsupported_types_in_schema_inference {#input_format_arrow_skip_columns_with_unsupported_types_in_schema_inference}

タイプ: Bool

デフォルト値: 0

Arrow フォーマットのスキーマ推論でサポートされない型のカラムをスキップします。

## input_format_avro_allow_missing_fields {#input_format_avro_allow_missing_fields}

タイプ: Bool

デフォルト値: 0

Avro/AvroConfluent フォーマット用: フィールドがスキーマに見つからない場合、エラーの代わりにデフォルト値を使用

## input_format_avro_null_as_default {#input_format_avro_null_as_default}

タイプ: Bool

デフォルト値: 0

Avro/AvroConfluent フォーマット用: null の場合、Nullable でないカラムにデフォルトを挿入

## input_format_binary_decode_types_in_binary_format {#input_format_binary_decode_types_in_binary_format}

タイプ: Bool

デフォルト値: 0

RowBinaryWithNamesAndTypes 入力フォーマットで型名の代わりにバイナリ形式でデータ型を読み取る

## input_format_binary_read_json_as_string {#input_format_binary_read_json_as_string}

タイプ: Bool

デフォルト値: 0

RowBinary 入力フォーマットで [JSON](../../sql-reference/data-types/newjson.md) データ型の値を JSON [String](../../sql-reference/data-types/string.md) 値として読み取る。

## input_format_bson_skip_fields_with_unsupported_types_in_schema_inference {#input_format_bson_skip_fields_with_unsupported_types_in_schema_inference}

タイプ: Bool

デフォルト値: 0

BSON フォーマットのスキーマ推論でサポートされない型のフィールドをスキップします。

## input_format_capn_proto_skip_fields_with_unsupported_types_in_schema_inference {#input_format_capn_proto_skip_fields_with_unsupported_types_in_schema_inference}

タイプ: Bool

デフォルト値: 0

CapnProto フォーマットのスキーマ推論でサポートされない型のカラムをスキップします。

## input_format_csv_allow_cr_end_of_line {#input_format_csv_allow_cr_end_of_line}

タイプ: Bool

デフォルト値: 0

true に設定すると、\\r が \\n の後に続かなくても行末に許可されます。

## input_format_csv_allow_variable_number_of_columns {#input_format_csv_allow_variable_number_of_columns}

タイプ: Bool

デフォルト値: 0

CSV 入力 (ファイルが予想より多くのカラムを持つ場合) で余分なカラムを無視し、CSV 入力で欠けているフィールドをデフォルト値として扱います。

## input_format_csv_allow_whitespace_or_tab_as_delimiter {#input_format_csv_allow_whitespace_or_tab_as_delimiter}

タイプ: Bool

デフォルト値: 0

CSV 文字列でフィールドの区切り文字としてスペースやタブ (\\t) を使用可能にします。

## input_format_csv_arrays_as_nested_csv {#input_format_csv_arrays_as_nested_csv}

タイプ: Bool

デフォルト値: 0

CSV から Array を読み取る際、要素がネストされた CSV にシリアライズされてから文字列に格納されたと仮定します。例: \"[\"\"Hello\"\", \"\"world\"\", \"\"42\"\"\"\" TV\"\"]\"。配列の括弧は省略可能です。

## input_format_csv_deserialize_separate_columns_into_tuple {#input_format_csv_deserialize_separate_columns_into_tuple}

タイプ: Bool

デフォルト値: 1

true に設定されている場合、CSV フォーマットに書かれた別々のカラムを Tuple カラムにデシリアライズ可能です。

## input_format_csv_detect_header {#input_format_csv_detect_header}

タイプ: Bool

デフォルト値: 1

CSV フォーマットで名前と型のヘッダーを自動的に検出

## input_format_csv_empty_as_default {#input_format_csv_empty_as_default}

タイプ: Bool

デフォルト値: 1

CSV 入力で空のフィールドをデフォルト値として扱う。

## input_format_csv_enum_as_number {#input_format_csv_enum_as_number}

タイプ: Bool

デフォルト値: 0

CSV フォーマットで挿入された enum 値を enum インデックスとして扱う

## input_format_csv_skip_first_lines {#input_format_csv_skip_first_lines}

タイプ: UInt64

デフォルト値: 0

CSV フォーマットのデータの先頭でスキップする行数を指定します。

## input_format_csv_skip_trailing_empty_lines {#input_format_csv_skip_trailing_empty_lines}

タイプ: Bool

デフォルト値: 0

CSV フォーマットで末尾の空行をスキップ

## input_format_csv_trim_whitespaces {#input_format_csv_trim_whitespaces}

タイプ: Bool

デフォルト値: 1

CSV 文字列の先頭と末尾のスペースとタブ (\\t) 文字をトリムします。

## input_format_csv_try_infer_numbers_from_strings {#input_format_csv_try_infer_numbers_from_strings}

タイプ: Bool

デフォルト値: 0

有効にすると、スキーマ推論中に ClickHouse は文字列フィールドから数値を推論しようとします。
CSV データが引用符付きの UInt64 数値を含む場合に有効です。

デフォルトで無効。

## input_format_csv_try_infer_strings_from_quoted_tuples {#input_format_csv_try_infer_strings_from_quoted_tuples}

タイプ: Bool

デフォルト値: 1

入力データ内の引用されたタプルを String 型の値として解釈します。

## input_format_csv_use_best_effort_in_schema_inference {#input_format_csv_use_best_effort_in_schema_inference}

タイプ: Bool

デフォルト値: 1

CSV フォーマットでスキーマを推論するためにいくつかの調整とヒューリスティックを使用する

## input_format_csv_use_default_on_bad_values {#input_format_csv_use_default_on_bad_values}

タイプ: Bool

デフォルト値: 0

CSV フィールドのデシリアライズに失敗した不良値にカラムのデフォルト値を設定可能にする

## input_format_custom_allow_variable_number_of_columns {#input_format_custom_allow_variable_number_of_columns}

タイプ: Bool

デフォルト値: 0

CustomSeparated 入力 (ファイルが予想より多くのカラムを持つ場合) で余分なカラムを無視し、CustomSeparated 入力で欠けているフィールドをデフォルト値として扱います

## input_format_custom_detect_header {#input_format_custom_detect_header}

タイプ: Bool

デフォルト値: 1

CustomSeparated フォーマットで名前と型のヘッダーを自動的に検出

## input_format_custom_skip_trailing_empty_lines {#input_format_custom_skip_trailing_empty_lines}

タイプ: Bool

デフォルト値: 0

CustomSeparated フォーマットで末尾の空行をスキップ

## input_format_defaults_for_omitted_fields {#input_format_defaults_for_omitted_fields}

タイプ: Bool

デフォルト値: 1

`INSERT` クエリを実行するとき、省略された入力カラムの値をそれぞれのカラムのデフォルト値に置き換えます。このオプションは、[JSONEachRow](../../interfaces/formats.md/#jsoneachrow)（および他の JSON フォーマット）、[CSV](../../interfaces/formats.md/#csv)、[TabSeparated](../../interfaces/formats.md/#tabseparated)、[TSKV](../../interfaces/formats.md/#tskv)、[Parquet](../../interfaces/formats.md/#parquet)、[Arrow](../../interfaces/formats.md/#arrow)、[Avro](../../interfaces/formats.md/#avro)、[ORC](../../interfaces/formats.md/#orc)、[Native](../../interfaces/formats.md/#native) フォーマット、および `WithNames`/`WithNamesAndTypes` サフィックス付きのフォーマットに適用されます。

:::note
このオプションが有効であるとき、拡張されたテーブルメタデータがサーバーからクライアントに送信されます。サーバー上で追加の計算リソースを消費し、パフォーマンスを低下させる可能性があります。
:::

可能な値:

- 0 — 無効。
- 1 — 有効。

## input_format_force_null_for_omitted_fields {#input_format_force_null_for_omitted_fields}

タイプ: Bool

デフォルト値: 0

省略されたフィールドを null 値で強制初期化

## input_format_hive_text_allow_variable_number_of_columns {#input_format_hive_text_allow_variable_number_of_columns}

タイプ: Bool

デフォルト値: 1

Hive Text 入力 (ファイルが予想より多くのカラムを持つ場合) で余分なカラムを無視し、Hive Text 入力で欠けているフィールドをデフォルト値として扱います

## input_format_hive_text_collection_items_delimiter {#input_format_hive_text_collection_items_delimiter}

タイプ: Char

デフォルト値: 

Hive テキストファイルのコレクション（配列またはマップ）アイテム間の区切り文字

## input_format_hive_text_fields_delimiter {#input_format_hive_text_fields_delimiter}

タイプ: Char

デフォルト値: 

Hive テキストファイルのフィールド間の区切り文字

## input_format_hive_text_map_keys_delimiter {#input_format_hive_text_map_keys_delimiter}

タイプ: Char

デフォルト値: 

Hive テキストファイルのマップキー/値ペア間の区切り文字

## input_format_import_nested_json {#input_format_import_nested_json}

タイプ: Bool

デフォルト値: 0

ネストされたオブジェクトを持つ JSON データの挿入を有効または無効にします。

サポートされているフォーマット:

- [JSONEachRow](../../interfaces/formats.md/#jsoneachrow)

可能な値:

- 0 — 無効。
- 1 — 有効。

関連情報:

- JSONEachRow フォーマットでの[ネストされた構造の使用](../../interfaces/formats.md/#jsoneachrow-nested)

## input_format_ipv4_default_on_conversion_error {#input_format_ipv4_default_on_conversion_error}

タイプ: Bool

デフォルト値: 0

IPv4 のデシリアライズ中の変換エラーをデフォルト値に置き換えます。

デフォルトでは無効。

## input_format_ipv6_default_on_conversion_error {#input_format_ipv6_default_on_conversion_error}

タイプ: Bool

デフォルト値: 0

IPV6 のデシリアライズ中の変換エラーをデフォルト値に置き換えます。

デフォルトでは無効。

## input_format_json_compact_allow_variable_number_of_columns {#input_format_json_compact_allow_variable_number_of_columns}

タイプ: Bool

デフォルト値: 0

JSONCompact(EachRow) 入力 (ファイルが予想より多くのカラムを持つ場合) で余分なカラムを無視し、JSONCompact(EachRow) 入力で欠けているフィールドをデフォルト値として扱います

## input_format_json_defaults_for_missing_elements_in_named_tuple {#input_format_json_defaults_for_missing_elements_in_named_tuple}

タイプ: Bool

デフォルト値: 1

名前付きタプルを解析するときに、JSON オブジェクトの欠けている要素にデフォルト値を挿入します。
この設定は、`input_format_json_named_tuples_as_objects` 設定が有効になっている場合にのみ動作します。

デフォルトで有効。

## input_format_json_empty_as_default {#input_format_json_empty_as_default}

タイプ: Bool

デフォルト値: 0

JSON 入力で空のフィールドをデフォルト値として扱う。

## input_format_json_ignore_unknown_keys_in_named_tuple {#input_format_json_ignore_unknown_keys_in_named_tuple}

タイプ: Bool

デフォルト値: 1

名前付きタプルの JSON オブジェクトで未知のキーを無視する。

デフォルトで有効。

## input_format_json_ignore_unnecessary_fields {#input_format_json_ignore_unnecessary_fields}

タイプ: Bool

デフォルト値: 1

不要なフィールドを無視し、解析しない。これを有効にすると、不正な形式の JSON 文字列や重複するフィールドを持つ JSON 文字列で例外をスローしない可能性があります。

## input_format_json_infer_incomplete_types_as_strings {#input_format_json_infer_incomplete_types_as_strings}

タイプ: Bool

デフォルト値: 1

スキーマ推論中にデータサンプルで `Null`/`{}`/`[]` のみを含む JSON キーに対して String 型を使用可能にします。
JSON フォーマットでは、任意の値を String として読み取ることができ、スキーマ推論中に `Cannot determine type for column 'column_name' by first 25000 rows of data, most likely this column contains only Nulls or empty Arrays/Maps` のようなエラーを回避できます。
未知の型のキーに String 型を使用して、エラーを回避できます。

例:

```sql
SET input_format_json_infer_incomplete_types_as_strings = 1, input_format_json_try_infer_named_tuples_from_objects = 1;
DESCRIBE format(JSONEachRow, '{"obj" : {"a" : [1,2,3], "b" : "hello", "c" : null, "d" : {}, "e" : []}}');
SELECT * FROM format(JSONEachRow, '{"obj" : {"a" : [1,2,3], "b" : "hello", "c" : null, "d" : {}, "e" : []}}');
```

結果:
```
┌─name─┬─type───────────────────────────────────────────────────────────────────────────────────────────────────────────────────┬─default_type─┬─default_expression─┬─comment─┬─codec_expression─┬─ttl_expression─┐
│ obj  │ Tuple(a Array(Nullable(Int64)), b Nullable(String), c Nullable(String), d Nullable(String), e Array(Nullable(String))) │              │                    │         │                  │                │
└──────┴────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴────────────────────┴─────────┴──────────────────┴────────────────┘

┌─obj────────────────────────────┐
│ ([1,2,3],'hello',NULL,'{}',[]) │
└────────────────────────────────┘
```

デフォルトで有効。

## input_format_json_max_depth {#input_format_json_max_depth}

タイプ: UInt64

デフォルト値: 1000

JSON 内のフィールドの最大深度。この制限は厳密なものではなく、正確に適用される必要はありません。

## input_format_json_named_tuples_as_objects {#input_format_json_named_tuples_as_objects}

タイプ: Bool

デフォルト値: 1

名前付きタプルカラムを JSON オブジェクトとして解析。

デフォルトで有効。

## input_format_json_read_arrays_as_strings {#input_format_json_read_arrays_as_strings}

タイプ: Bool

デフォルト値: 1

JSON 入力フォーマットで JSON 配列を文字列として解析を許可。

例:

```sql
SET input_format_json_read_arrays_as_strings = 1;
SELECT arr, toTypeName(arr), JSONExtractArrayRaw(arr)[3] from format(JSONEachRow, 'arr String', '{"arr" : [1, "Hello", [1,2,3]]}');
```

結果:
```
┌─arr───────────────────┬─toTypeName(arr)─┬─arrayElement(JSONExtractArrayRaw(arr), 3)─┐
│ [1, "Hello", [1,2,3]] │ String          │ [1,2,3]                                   │
└───────────────────────┴─────────────────┴───────────────────────────────────────────┘
```

デフォルトで有効。

## input_format_json_read_bools_as_numbers {#input_format_json_read_bools_as_numbers}

タイプ: Bool

デフォルト値: 1

JSON 入力フォーマットでブールを数値として解析を許可。

デフォルトで有効。

## input_format_json_read_bools_as_strings {#input_format_json_read_bools_as_strings}

タイプ: Bool

デフォルト値: 1

JSON 入力フォーマットでブールを文字列として解析を許可。

デフォルトで有効。

## input_format_json_read_numbers_as_strings {#input_format_json_read_numbers_as_strings}

タイプ: Bool

デフォルト値: 1

JSON 入力フォーマットで数値を文字列として解析を許可。

デフォルトで有効。

## input_format_json_read_objects_as_strings {#input_format_json_read_objects_as_strings}

タイプ: Bool

デフォルト値: 1

JSON 入力フォーマットで JSON オブジェクトを文字列として解析を許可。

例:

```sql
SET input_format_json_read_objects_as_strings = 1;
CREATE TABLE test (id UInt64, obj String, date Date) ENGINE=Memory();
INSERT INTO test FORMAT JSONEachRow {"id" : 1, "obj" : {"a" : 1, "b" : "Hello"}, "date" : "2020-01-01"};
SELECT * FROM test;
```

結果:

```
┌─id─┬─obj──────────────────────┬───────date─┐
│  1 │ {"a" : 1, "b" : "Hello"} │ 2020-01-01 │
└────┴──────────────────────────┴────────────┘
```

デフォルトで有効。

## input_format_json_throw_on_bad_escape_sequence {#input_format_json_throw_on_bad_escape_sequence}

タイプ: Bool

デフォルト値: 1

JSON 入力フォーマットで、JSON 文字列に不正なエスケープシーケンスが含まれている場合に例外をスローします。無効にすると、不正なエスケープシーケンスはデータ内にそのまま残ります。

デフォルトで有効。

## input_format_json_try_infer_named_tuples_from_objects {#input_format_json_try_infer_named_tuples_from_objects}

タイプ: Bool

デフォルト値: 1

有効にすると、スキーマ推論中に ClickHouse は JSON オブジェクトから名前付きタプルを推論しようとします。
結果の名前付きタプルには、サンプルデータからすべての対応する JSON オブジェクトからのすべての要素が含まれます。

例:

```sql
SET input_format_json_try_infer_named_tuples_from_objects = 1;
DESC format(JSONEachRow, '{"obj" : {"a" : 42, "b" : "Hello"}}, {"obj" : {"a" : 43, "c" : [1, 2, 3]}}, {"obj" : {"d" : {"e" : 42}}}')
```

結果:

```
┌─name─┬─type───────────────────────────────────────────────────────────────────────────────────────────────┬─default_type─┬─default_expression─┬─comment─┬─codec_expression─┬─ttl_expression─┐
│ obj  │ Tuple(a Nullable(Int64), b Nullable(String), c Array(Nullable(Int64)), d Tuple(e Nullable(Int64))) │              │                    │         │                  │                │
└──────┴────────────────────────────────────────────────────────────────────────────────────────────────────┴──────────────┴────────────────────┴─────────┴──────────────────┴────────────────┘
```

デフォルトで有効。

## input_format_json_try_infer_numbers_from_strings {#input_format_json_try_infer_numbers_from_strings}

タイプ: Bool

デフォルト値: 0

有効にすると、スキーマ推論中に ClickHouse は文字列フィールドから数値を推論しようとします。
JSON データが引用符付きの UInt64 数値を含む場合に有効です。

デフォルトで無効。

## input_format_json_use_string_type_for_ambiguous_paths_in_named_tuples_inference_from_objects {#input_format_json_use_string_type_for_ambiguous_paths_in_named_tuples_inference_from_objects}

タイプ: Bool

デフォルト値: 0

JSON オブジェクトの名前付きタプル推論中にあいまいなパスの場合、例外の代わりに String 型を使用します

## input_format_json_validate_types_from_metadata {#input_format_json_validate_types_from_metadata}

タイプ: Bool

デフォルト値: 1

JSON/JSONCompact/JSONColumnsWithMetadata 入力フォーマットの場合、この設定が 1 に設定されている場合、
入力データのメタデータの型がテーブルの対応するカラムの型と比較されます。

デフォルトで有効。

## input_format_max_bytes_to_read_for_schema_inference {#input_format_max_bytes_to_read_for_schema_inference}

タイプ: UInt64

デフォルト値: 33554432

自動スキーマ推論のために読み取るデータの最大バイト数。

## input_format_max_rows_to_read_for_schema_inference {#input_format_max_rows_to_read_for_schema_inference}

タイプ: UInt64

デフォルト値: 25000

自動スキーマ推論のために読み取るデータの最大行数。

## input_format_msgpack_number_of_columns {#input_format_msgpack_number_of_columns}

タイプ: UInt64

デフォルト値: 0

挿入された MsgPack データのカラム数。データからの自動スキーマ推論に使用されます。

## input_format_mysql_dump_map_column_names {#input_format_mysql_dump_map_column_names}

タイプ: Bool

デフォルト値: 1

MySQL ダンプのテーブルからのカラムと ClickHouse テーブルからのカラムを名前で一致させる

## input_format_mysql_dump_table_name {#input_format_mysql_dump_table_name}

タイプ: String

デフォルト値: 

MySQL ダンプからデータを読み取るテーブルの名前

## input_format_native_allow_types_conversion {#input_format_native_allow_types_conversion}

タイプ: Bool

デフォルト値: 1

Native 入力フォーマットでのデータ型の変換を許可する

## input_format_native_decode_types_in_binary_format {#input_format_native_decode_types_in_binary_format}

タイプ: Bool

デフォルト値: 0

Native 入力フォーマットで型名の代わりにバイナリ形式でデータ型を読み取る

## input_format_null_as_default {#input_format_null_as_default}

タイプ: Bool

デフォルト値: 1

データ型が[nullable](../../sql-reference/data-types/nullable.md/#data_type-nullable)でない [NULL](../../sql-reference/syntax.md/#null-literal) フィールドに[デフォルト値](../../sql-reference/statements/create/table.md/#create-default-values)での初期化を有効または無効にします。
カラムタイプが nullable でなく、この設定が無効な場合、`NULL` を挿入すると例外が発生します。カラムタイプが nullable の場合、この設定に関わらず `NULL` 値がそのまま挿入されます。

この設定は、ほとんどの入力フォーマットに適用されます。

複雑なデフォルト式に対しては `input_format_defaults_for_omitted_fields` も有効にする必要があります。

可能な値:

- 0 — nullable でないカラムに `NULL` を挿入すると例外が発生します。
- 1 — `NULL` フィールドがデフォルトのカラム値で初期化されます。

## input_format_orc_allow_missing_columns {#input_format_orc_allow_missing_columns}

タイプ: Bool

デフォルト値: 1

ORC 入力フォーマットの読み取り時に欠損カラムを許可します。

## input_format_orc_case_insensitive_column_matching {#input_format_orc_case_insensitive_column_matching}

タイプ: Bool

デフォルト値: 0

ORC のカラムと CH のカラムを一致させるときに大文字と小文字を無視します。

## input_format_orc_dictionary_as_low_cardinality {#input_format_orc_dictionary_as_low_cardinality}

タイプ: Bool

デフォルト値: 1

ORC Dictionaryエンコードされたカラムを ORC ファイルの読み取り中に LowCardinality カラムとして扱います。

## input_format_orc_filter_push_down {#input_format_orc_filter_push_down}

タイプ: Bool

デフォルト値: 1

ORC ファイルを読み取るとき、ORC メタデータの WHERE/PREWHERE 式、最小/最大統計、ブルームフィルタに基づいて、全ストライプまたは行グループをスキップします。

## input_format_orc_reader_time_zone_name {#input_format_orc_reader_time_zone_name}

タイプ: String

デフォルト値: GMT

ORC 行リーダーのタイムゾーン名、デフォルトの ORC 行リーダーのタイムゾーンは GMT です。

## input_format_orc_row_batch_size {#input_format_orc_row_batch_size}

タイプ: Int64

デフォルト値: 100000

ORC ストライプを読み取るときのバッチサイズ。

## input_format_orc_skip_columns_with_unsupported_types_in_schema_inference {#input_format_orc_skip_columns_with_unsupported_types_in_schema_inference}

タイプ: Bool

デフォルト値: 0

ORC フォーマットのスキーマ推論でサポートされない型のカラムをスキップします

## input_format_orc_use_fast_decoder {#input_format_orc_use_fast_decoder}

タイプ: Bool

デフォルト値: 1

より高速な ORC デコーダー実装を使用します。

## input_format_parquet_allow_missing_columns {#input_format_parquet_allow_missing_columns}

タイプ: Bool

デフォルト値: 1

Parquet 入力フォーマットの読み取り時に欠損カラムを許可します。

## input_format_parquet_bloom_filter_push_down {#input_format_parquet_bloom_filter_push_down}

タイプ: Bool

デフォルト値: 0

Parquet ファイルを読み取るとき、WHERE 式と Parquet メタデータのブルームフィルタに基づいて、全行グループをスキップします。

## input_format_parquet_case_insensitive_column_matching {#input_format_parquet_case_insensitive_column_matching}

タイプ: Bool

デフォルト値: 0

Parquet のカラムと CH のカラムを一致させるときに大文字と小文字を無視します。

## input_format_parquet_enable_row_group_prefetch {#input_format_parquet_enable_row_group_prefetch}

タイプ: Bool

デフォルト値: 1

パーケット解析中に行グループのプリフェッチを有効にします。現在、単一スレッドの解析のみがプリフェッチを行えます。

## input_format_parquet_filter_push_down {#input_format_parquet_filter_push_down}

タイプ: Bool

デフォルト値: 1

Parquet ファイルを読み取るとき、WHERE/PREWHERE 式と Parquet メタデータの最小/最大統計に基づいて、全行グループをスキップします。

## input_format_parquet_local_file_min_bytes_for_seek {#input_format_parquet_local_file_min_bytes_for_seek}

タイプ: UInt64

デフォルト値: 8192

Parquet 入力フォーマットで無視することなく、シークを行うためのローカル読み取り (ファイル) に必要な最小バイト数

## input_format_parquet_max_block_size {#input_format_parquet_max_block_size}

タイプ: UInt64

デフォルト値: 65409

Parquet リーダーの最大ブロックサイズ。

## input_format_parquet_prefer_block_bytes {#input_format_parquet_prefer_block_bytes}

タイプ: UInt64

デフォルト値: 16744704

Parquet リーダーによる平均ブロックバイト出力

## input_format_parquet_preserve_order {#input_format_parquet_preserve_order}

タイプ: Bool

デフォルト値: 0

Parquet ファイルの読み取り時に行の順序を保持します。通常は非常に遅くなります。

## input_format_parquet_skip_columns_with_unsupported_types_in_schema_inference {#input_format_parquet_skip_columns_with_unsupported_types_in_schema_inference}

タイプ: Bool

デフォルト値: 0

Parquet フォーマットのスキーマ推論でサポートされない型のカラムをスキップします。

## input_format_parquet_use_native_reader {#input_format_parquet_use_native_reader}

タイプ: Bool

デフォルト値: 0

Parquet ファイルを読み取るとき、ネイティブリーダーを使用する代わりにアローリーダーを使用します。

## input_format_protobuf_flatten_google_wrappers {#input_format_protobuf_flatten_google_wrappers}

タイプ: Bool

デフォルト値: 0

通常の非ネストカラムに対して Google ラッパーを有効にします。例えば、google.protobuf.StringValue 'str' は String カラム 'str' に対応します。Nullable カラムの場合、空のラッパーはデフォルトとして認識され、欠けた場合は null として認識されます

## input_format_protobuf_skip_fields_with_unsupported_types_in_schema_inference {#input_format_protobuf_skip_fields_with_unsupported_types_in_schema_inference}

タイプ: Bool

デフォルト値: 0

Protobuf フォーマットのスキーマ推論でサポートされない型のフィールドをスキップします。

## input_format_record_errors_file_path {#input_format_record_errors_file_path}

タイプ: String

デフォルト値: 

テキストフォーマット (CSV、TSV) の読み取り中にエラーを記録するファイルのパス。

## input_format_skip_unknown_fields {#input_format_skip_unknown_fields}

タイプ: Bool

デフォルト値: 1

追加データの挿入をスキップするか否かを有効または無効にします。

データを書き込むとき、ClickHouse は入力データにターゲットテーブルに存在しないカラムが含まれている場合、例外をスローします。スキップが有効な場合、ClickHouse は追加データを挿入せず、例外をスローしません。

サポートフォーマット:

- [JSONEachRow](../../interfaces/formats.md/#jsoneachrow)（およびその他の JSON フォーマット）
- [BSONEachRow](../../interfaces/formats.md/#bsoneachrow)（およびその他の JSON フォーマット）
- [TSKV](../../interfaces/formats.md/#tskv)
- WithNames/WithNamesAndTypes のサフィックス付き全フォーマット
- [MySQLDump](../../interfaces/formats.md/#mysqldump)
- [Native](../../interfaces/formats.md/#native)

可能な値:

- 0 — 無効。
- 1 — 有効。

## input_format_try_infer_dates {#input_format_try_infer_dates}

タイプ: Bool

デフォルト値: 1

有効にすると、ClickHouse はテキストフォーマットのスキーマ推論中に文字列フィールドから `Date` 型を推論しようとします。入力データのカラムからすべての日付が正常にパースされた場合、結果の型は `Date` になります。少なくとも1つの日付がパースされなかった場合、結果の型は `String` になります。

デフォルトで有効。

## input_format_try_infer_datetimes {#input_format_try_infer_datetimes}

タイプ: Bool

デフォルト値: 1

有効にすると、ClickHouse はテキストフォーマットのスキーマ推論中に文字列フィールドから `DateTime64` 型を推論しようとします。入力データのカラムからすべてのフィールドが正常に日時としてパースされた場合、結果の型は `DateTime64` になります。少なくとも1つのフィールドが日時としてパースされなかった場合、結果の型は `String` になります。

デフォルトで有効。

## input_format_try_infer_datetimes_only_datetime64 {#input_format_try_infer_datetimes_only_datetime64}

タイプ: Bool

デフォルト値: 0

input_format_try_infer_datetimes が有効なときのみ、DateTime 型ではなく DateTime64 型を推論します。

## input_format_try_infer_exponent_floats {#input_format_try_infer_exponent_floats}

タイプ: Bool

デフォルト値: 0

JSON を除くテキストフォーマットのスキーマ推論で指数表記による浮動小数点数を推論しようとします （JSONでは指数数が常に推論されます）

## input_format_try_infer_integers {#input_format_try_infer_integers}

タイプ: Bool

デフォルト値: 1

有効にすると、ClickHouse はテキストフォーマットのスキーマ推論中に整数を浮動小数点数の代わりに推論しようとします。入力データのカラムのすべての数が整数である場合、結果のタイプは `Int64` になります。少なくとも1つの数が浮動小数点数である場合、結果のタイプは `Float64` になります。

デフォルトで有効。

## input_format_try_infer_variants {#input_format_try_infer_variants}

タイプ: Bool

デフォルト値: 0

有効にすると、ClickHouse はテキストフォーマットのスキーマ推論中にカラム/配列要素に対して可能な型が複数ある場合に [`Variant`](../../sql-reference/data-types/variant.md) 型を推論しようとします。

可能な値:

- 0 — 無効。
- 1 — 有効。

## input_format_tsv_allow_variable_number_of_columns {#input_format_tsv_allow_variable_number_of_columns}

タイプ: Bool

デフォルト値: 0

TSV 入力 (ファイルが予想より多くのカラムを持つ場合) で余分なカラムを無視し、TSV 入力で欠けているフィールドをデフォルト値として扱います。

## input_format_tsv_crlf_end_of_line {#input_format_tsv_crlf_end_of_line}

タイプ: Bool

デフォルト値: 0

true に設定されている場合、ファイル関数は \\n の代わりに \\r\\n で TSV フォーマットを読み取ります。

## input_format_tsv_detect_header {#input_format_tsv_detect_header}

タイプ: Bool

デフォルト値: 1

TSV フォーマットで名前と型のヘッダーを自動的に検出

## input_format_tsv_empty_as_default {#input_format_tsv_empty_as_default}

タイプ: Bool

デフォルト値: 0

TSV 入力で空のフィールドをデフォルト値として扱う。

## input_format_tsv_enum_as_number {#input_format_tsv_enum_as_number}

タイプ: Bool

デフォルト値: 0

TSV フォーマットで挿入された enum 値を enum インデックスとして扱う。

## input_format_tsv_skip_first_lines {#input_format_tsv_skip_first_lines}

タイプ: UInt64

デフォルト値: 0

TSV フォーマットのデータの先頭でスキップする行数を指定します。

## input_format_tsv_skip_trailing_empty_lines {#input_format_tsv_skip_trailing_empty_lines}

タイプ: Bool

デフォルト値: 0

TSV フォーマットで末尾の空行をスキップ

## input_format_tsv_use_best_effort_in_schema_inference {#input_format_tsv_use_best_effort_in_schema_inference}

タイプ: Bool

デフォルト値: 1

TSV フォーマットでスキーマを推論するためにいくつかの調整とヒューリスティックを使用する

## input_format_values_accurate_types_of_literals {#input_format_values_accurate_types_of_literals}

タイプ: Bool

デフォルト値: 1

Values フォーマット用: テンプレートを使用して式を解析し解釈する際、オーバーフローや精度の問題を避けるためにリテラルの実際の型を確認します。

## input_format_values_deduce_templates_of_expressions {#input_format_values_deduce_templates_of_expressions}

タイプ: Bool

デフォルト値: 1

Values フォーマット用: フィールドがストリーミングパーサーによって解析できなかった場合、SQL パーサーを実行し、SQL 式のテンプレートを推論し、テンプレートを使用してすべての行を解析し、それから全行で式を解釈しようとします。

## input_format_values_interpret_expressions {#input_format_values_interpret_expressions}

タイプ: Bool

デフォルト値: 1

Values フォーマット用: フィールドがストリーミングパーサーによって解析できなかった場合、SQL パーサーを実行し、SQL 式として解釈しようとします。

## input_format_with_names_use_header {#input_format_with_names_use_header}

タイプ: Bool

デフォルト値: 1

データ挿入時のカラム順序の確認を有効または無効にします。

挿入性能を向上させるために、入力データのカラム順がターゲットテーブルと同じであることがわかっている場合は、このチェックを無効にすることをお勧めします。

サポートされているフォーマット:

- [CSVWithNames](../../interfaces/formats.md/#csvwithnames)
- [CSVWithNamesAndTypes](../../interfaces/formats.md/#csvwithnamesandtypes)
- [TabSeparatedWithNames](../../interfaces/formats.md/#tabseparatedwithnames)
- [TabSeparatedWithNamesAndTypes](../../interfaces/formats.md/#tabseparatedwithnamesandtypes)
- [JSONCompactEachRowWithNames](../../interfaces/formats.md/#jsoncompacteachrowwithnames)
- [JSONCompactEachRowWithNamesAndTypes](../../interfaces/formats.md/#jsoncompacteachrowwithnamesandtypes)
- [JSONCompactStringsEachRowWithNames](../../interfaces/formats.md/#jsoncompactstringseachrowwithnames)
- [JSONCompactStringsEachRowWithNamesAndTypes](../../interfaces/formats.md/#jsoncompactstringseachrowwithnamesandtypes)
- [RowBinaryWithNames](../../interfaces/formats.md/#rowbinarywithnames)
- [RowBinaryWithNamesAndTypes](../../interfaces/formats.md/#rowbinarywithnamesandtypes)
- [CustomSeparatedWithNames](../../interfaces/formats.md/#customseparatedwithnames)
- [CustomSeparatedWithNamesAndTypes](../../interfaces/formats.md/#customseparatedwithnamesandtypes)

可能な値:

- 0 — 無効。
- 1 — 有効。

## input_format_with_types_use_header {#input_format_with_types_use_header}

タイプ: Bool

デフォルト値: 1

フォーマットパーサーが入力データのデータ型とターゲットテーブルのデータ型が一致するかをチェックするかどうかを制御します。

サポートされているフォーマット:

- [CSVWithNamesAndTypes](../../interfaces/formats.md/#csvwithnamesandtypes)
- [TabSeparatedWithNamesAndTypes](../../interfaces/formats.md/#tabseparatedwithnamesandtypes)
- [JSONCompactEachRowWithNamesAndTypes](../../interfaces/formats.md/#jsoncompacteachrowwithnamesandtypes)
- [JSONCompactStringsEachRowWithNamesAndTypes](../../interfaces/formats.md/#jsoncompactstringseachrowwithnamesandtypes)
- [RowBinaryWithNamesAndTypes](../../interfaces/formats.md/#rowbinarywithnamesandtypes-rowbinarywithnamesandtypes)
- [CustomSeparatedWithNamesAndTypes](../../interfaces/formats.md/#customseparatedwithnamesandtypes)

可能な値:

- 0 — 無効。
- 1 — 有効。

## insert_distributed_one_random_shard {#insert_distributed_one_random_shard}

タイプ: Bool

デフォルト値: 0

[分散](../../engines/table-engines/special/distributed.md/#distributed)テーブルに分散キーがない場合にランダムシャード挿入を有効または無効にします。

デフォルトでは、分散キーがない場合に、複数のシャードを持つ `Distributed` テーブルへのデータ挿入を ClickHouse サーバーは拒否します。`insert_distributed_one_random_shard = 1` の場合、挿入が許可され、すべてのシャードの間でランダムにデータが転送されます。

可能な値:

- 0 — 複数のシャードがあり分散キーが与えられていない場合、挿入は拒否されます。
- 1 — 分散キーが与えられていない場合、利用可能なすべてのシャード間でランダムに挿入されます。

## interval_output_format {#interval_output_format}

タイプ: IntervalOutputFormat

デフォルト値: numeric

インターバル型のテキスト表現の異なる出力フォーマットを選択可能。

可能な値:

- `kusto` - KQL スタイルの出力フォーマット。

    ClickHouse はインターバルを [KQL フォーマット](https://learn.microsoft.com/en-us/dotnet/standard/base-types/standard-timespan-format-strings#the-constant-c-format-specifier)で出力します。例えば、`toIntervalDay(2)` は `2.00:00:00` としてフォーマットされます。インターバル型が異なる長さである場合（例えば、`IntervalMonth` と `IntervalYear`）、インターバルあたりの平均秒数が考慮されます。

- `numeric` - 数字による出力フォーマット。

    ClickHouse はインターバルをその基礎となる数字表現として出力します。例えば、`toIntervalDay(2)` は `2` としてフォーマットされます。

参照:

- [Interval](../../sql-reference/data-types/special-data-types/interval.md)

## output_format_arrow_compression_method {#output_format_arrow_compression_method}

タイプ: ArrowCompression

デフォルト値: lz4_frame

Arrow 出力フォーマットの圧縮方法。サポートされているコーデック: lz4_frame, zstd, none (非圧縮)

## output_format_arrow_fixed_string_as_fixed_byte_array {#output_format_arrow_fixed_string_as_fixed_byte_array}

タイプ: Bool

デフォルト値: 1

FixedString カラムに対して Binary の代わりに Arrow FIXED_SIZE_BINARY タイプを使用します。

## output_format_arrow_low_cardinality_as_dictionary {#output_format_arrow_low_cardinality_as_dictionary}

タイプ: Bool

デフォルト値: 0

LowCardinality 型を Dictionary Arrow 型として出力することを可能にする

## output_format_arrow_string_as_string {#output_format_arrow_string_as_string}

タイプ: Bool

デフォルト値: 1

String カラムに対して Binary の代わりに Arrow String タイプを使用します

## output_format_arrow_use_64_bit_indexes_for_dictionary {#output_format_arrow_use_64_bit_indexes_for_dictionary}

タイプ: Bool

デフォルト値: 0

Arrow フォーマットでDictionaryインデックスに常に 64 ビット整数を使用する

## output_format_arrow_use_signed_indexes_for_dictionary {#output_format_arrow_use_signed_indexes_for_dictionary}

タイプ: Bool

デフォルト値: 1

Arrow フォーマットでDictionaryインデックスに符号付き整数を使用する

## output_format_avro_codec {#output_format_avro_codec}

タイプ: String

デフォルト値: 

出力に使用する圧縮コーデック。可能な値: 'null', 'deflate', 'snappy', 'zstd'。

## output_format_avro_rows_in_file {#output_format_avro_rows_in_file}

タイプ: UInt64

デフォルト値: 1

ファイル内の最大行数 (ストレージで許可されている場合)

## output_format_avro_string_column_pattern {#output_format_avro_string_column_pattern}

タイプ: String

デフォルト値: 

Avro フォーマット用: Avro 文字列として選択する String カラムの正規表現。

## output_format_avro_sync_interval {#output_format_avro_sync_interval}

タイプ: UInt64

デフォルト値: 16384

同期間隔（バイト単位）。

## output_format_binary_encode_types_in_binary_format {#output_format_binary_encode_types_in_binary_format}

タイプ: Bool

デフォルト値: 0

RowBinaryWithNamesAndTypes 出力フォーマットで、型名の代わりにバイナリ形式でデータ型を書き込む

## output_format_binary_write_json_as_string {#output_format_binary_write_json_as_string}

タイプ: Bool

デフォルト値: 0

RowBinary 出力フォーマットで、[JSON](../../sql-reference/data-types/newjson.md) データ型の値を JSON [String](../../sql-reference/data-types/string.md) 値として書き込む。

## output_format_bson_string_as_string {#output_format_bson_string_as_string}

タイプ: Bool

デフォルト値: 0

String カラムに対して Binary の代わりに BSON String 型を使用します。

## output_format_csv_crlf_end_of_line {#output_format_csv_crlf_end_of_line}

タイプ: Bool

デフォルト値: 0

true に設定されている場合、CSV フォーマットの行末は \\n の代わりに \\r\\n になります。

## output_format_csv_serialize_tuple_into_separate_columns {#output_format_csv_serialize_tuple_into_separate_columns}

タイプ: Bool

デフォルト値: 1

true に設定されている場合、CSV フォーマットのタプルは別々のカラムとしてシリアライズされます（つまり、タプル内のネストが失われます）

## output_format_decimal_trailing_zeros {#output_format_decimal_trailing_zeros}

タイプ: Bool

デフォルト値: 0

Decimal 値を出力する際に終端のゼロを出力します。例: 1.230000 の代わりに 1.23。

デフォルトでは無効。

## output_format_enable_streaming {#output_format_enable_streaming}

タイプ: Bool

デフォルト値: 0

ストリーミングをサポートする出力フォーマットでストリーミングを有効にします。

デフォルトでは無効。

## output_format_json_array_of_rows {#output_format_json_array_of_rows}

タイプ: Bool

デフォルト値: 0

[JSONEachRow](../../interfaces/formats.md/#jsoneachrow) フォーマットで全行を JSON 配列として出力する機能を有効にします。

可能な値:

- 1 — ClickHouse はすべての行を `JSONEachRow` フォーマットの配列として出力します。
- 0 — ClickHouse は各行を `JSONEachRow` フォーマットで個別に出力します。

**設定を有効にしたクエリの例**

クエリ:

```sql
SET output_format_json_array_of_rows = 1;
SELECT number FROM numbers(3) FORMAT JSONEachRow;
```

結果:

```text
[
{"number":"0"},
{"number":"1"},
{"number":"2"}
]
```

**設定を無効にしたクエリの例**

クエリ:

```sql
SET output_format_json_array_of_rows = 0;
SELECT number FROM numbers(3) FORMAT JSONEachRow;
```

結果:

```text
{"number":"0"}
{"number":"1"}
{"number":"2"}
```


## output_format_json_escape_forward_slashes {#output_format_json_escape_forward_slashes}

タイプ: Bool

デフォルト値: 1

文字列出力をJSON形式で出力する際に、スラッシュのエスケープを制御します。これはJavaScriptとの互換性を意図したものです。常にエスケープされるバックスラッシュとは混同しないでください。

デフォルトで有効になっています。

## output_format_json_named_tuples_as_objects {#output_format_json_named_tuples_as_objects}

タイプ: Bool

デフォルト値: 1

名前付きタプルカラムをJSONオブジェクトとしてシリアライズします。

デフォルトで有効になっています。

## output_format_json_quote_64bit_floats {#output_format_json_quote_64bit_floats}

タイプ: Bool

デフォルト値: 0

64ビット[浮動小数点数](../../sql-reference/data-types/float.md)のJSON形式におけるクォートを制御します。

デフォルトでは無効になっています。

## output_format_json_quote_64bit_integers {#output_format_json_quote_64bit_integers}

タイプ: Bool

デフォルト値: 1

64ビット以上の[整数](../../sql-reference/data-types/int-uint.md)（例: `UInt64` や `Int128`）を[JSON](../../interfaces/formats.md/#json)形式で出力する際のクォートを制御します。
これらの整数はデフォルトでクォートに囲まれます。この動作は多くのJavaScriptの実装と互換性があります。

可能な値:

- 0 — 整数はクォートなしで出力されます。
- 1 — 整数はクォートで囲まれて出力されます。

## output_format_json_quote_decimals {#output_format_json_quote_decimals}

タイプ: Bool

デフォルト値: 0

JSON出力形式での小数点数のクォートを制御します。

デフォルトでは無効になっています。

## output_format_json_quote_denormals {#output_format_json_quote_denormals}

タイプ: Bool

デフォルト値: 0

[JSON](../../interfaces/formats.md/#json)出力形式で`+nan`、`-nan`、`+inf`、`-inf`の出力を有効にします。

可能な値:

- 0 — 無効。
- 1 — 有効。

**例**

次のテーブル `account_orders` を考えてみます：

```text
┌─id─┬─name───┬─duration─┬─period─┬─area─┐
│  1 │ Andrew │       20 │      0 │  400 │
│  2 │ John   │       40 │      0 │    0 │
│  3 │ Bob    │       15 │      0 │ -100 │
└────┴────────┴──────────┴────────┴──────┘
```

`output_format_json_quote_denormals = 0` の場合、クエリは出力に `null` 値を返します：

```sql
SELECT area/period FROM account_orders FORMAT JSON;
```

```json
{
        "meta":
        [
                {
                        "name": "divide(area, period)",
                        "type": "Float64"
                }
        ],

        "data":
        [
                {
                        "divide(area, period)": null
                },
                {
                        "divide(area, period)": null
                },
                {
                        "divide(area, period)": null
                }
        ],

        "rows": 3,

        "statistics":
        {
                "elapsed": 0.003648093,
                "rows_read": 3,
                "bytes_read": 24
        }
}
```

`output_format_json_quote_denormals = 1` の場合、クエリは以下のように返します：

```json
{
        "meta":
        [
                {
                        "name": "divide(area, period)",
                        "type": "Float64"
                }
        ],

        "data":
        [
                {
                        "divide(area, period)": "inf"
                },
                {
                        "divide(area, period)": "-nan"
                },
                {
                        "divide(area, period)": "-inf"
                }
        ],

        "rows": 3,

        "statistics":
        {
                "elapsed": 0.000070241,
                "rows_read": 3,
                "bytes_read": 24
        }
}
```

## output_format_json_skip_null_value_in_named_tuples {#output_format_json_skip_null_value_in_named_tuples}

タイプ: Bool

デフォルト値: 0

名前付きタプルカラムをJSONオブジェクトとしてシリアライズする際に、nullの値を持つキーと値のペアをスキップします。`output_format_json_named_tuples_as_objects`がtrueのときにのみ有効です。

## output_format_json_validate_utf8 {#output_format_json_validate_utf8}

タイプ: Bool

デフォルト値: 0

UTF-8シーケンスの検証をJSON出力形式で制御します。ただし、JSON/JSONCompact/JSONColumnsWithMetadata形式には影響しません。これらは常にUTF-8を検証します。

デフォルトでは無効になっています。

## output_format_markdown_escape_special_characters {#output_format_markdown_escape_special_characters}

タイプ: Bool

デフォルト値: 0

Markdown内の特殊文字をエスケープします。

## output_format_msgpack_uuid_representation {#output_format_msgpack_uuid_representation}

タイプ: MsgPackUUIDRepresentation

デフォルト値: ext

MsgPack形式でUUIDを出力する方法。

## output_format_native_encode_types_in_binary_format {#output_format_native_encode_types_in_binary_format}

タイプ: Bool

デフォルト値: 0

Native出力形式でタイプ名ではなくデータ型をバイナリ形式で記述。

## output_format_native_write_json_as_string {#output_format_native_write_json_as_string}

タイプ: Bool

デフォルト値: 0

[JSON](../../sql-reference/data-types/newjson.md)カラムのデータをデフォルトのネイティブJSONシリアライゼーションの代わりに、JSON文字列を含む[String](../../sql-reference/data-types/string.md)カラムとして記述。

## output_format_orc_compression_method {#output_format_orc_compression_method}

タイプ: ORCCompression

デフォルト値: zstd

ORC出力形式の圧縮方法。サポートされているコーデック: lz4, snappy, zlib, zstd, none (無圧縮)

## output_format_orc_dictionary_key_size_threshold {#output_format_orc_dictionary_key_size_threshold}

タイプ: Double

デフォルト値: 0

ORC出力形式の文字列カラムにおいて、一意の値の数が非null行の総数のこの割合を超える場合、Dictionaryエンコーディングをオフにします。そうでなければDictionaryエンコーディングを有効にします。

## output_format_orc_row_index_stride {#output_format_orc_row_index_stride}

タイプ: UInt64

デフォルト値: 10000

ORC出力形式でのターゲット行インデックスのストライド

## output_format_orc_string_as_string {#output_format_orc_string_as_string}

タイプ: Bool

デフォルト値: 1

Stringカラムに対してBinaryの代わりにORC String型を使用

## output_format_parquet_batch_size {#output_format_parquet_batch_size}

タイプ: UInt64

デフォルト値: 1024

指定された行数ごとにページサイズを確認します。カラムの平均値のサイズが数KBを超える場合は、考慮してサイズを減らしてください。

## output_format_parquet_compliant_nested_types {#output_format_parquet_compliant_nested_types}

タイプ: Bool

デフォルト値: 1

Parquetファイルのスキーマにおいて、リスト要素に対して'item'の代わりに'element'という名前を使用します。これはArrowライブラリの実装の歴史的遺産です。一般的には互換性が向上しますが、古いバージョンのArrowには例外があるかもしれません。

## output_format_parquet_compression_method {#output_format_parquet_compression_method}

タイプ: ParquetCompression

デフォルト値: zstd

Parquet出力形式の圧縮方法。サポートされているコーデック: snappy, lz4, brotli, zstd, gzip, none (無圧縮)

## output_format_parquet_data_page_size {#output_format_parquet_data_page_size}

タイプ: UInt64

デフォルト値: 1048576

圧縮前のターゲットページサイズ（バイト単位）。

## output_format_parquet_fixed_string_as_fixed_byte_array {#output_format_parquet_fixed_string_as_fixed_byte_array}

タイプ: Bool

デフォルト値: 1

FixedStringカラムに対してBinaryの代わりにParquet FIXED_LENGTH_BYTE_ARRAY型を使用。

## output_format_parquet_parallel_encoding {#output_format_parquet_parallel_encoding}

タイプ: Bool

デフォルト値: 1

複数のスレッドでParquetエンコードを行います。`output_format_parquet_use_custom_encoder`が必要です。

## output_format_parquet_row_group_size {#output_format_parquet_row_group_size}

タイプ: UInt64

デフォルト値: 1000000

行グループサイズのターゲット（行単位）。

## output_format_parquet_row_group_size_bytes {#output_format_parquet_row_group_size_bytes}

タイプ: UInt64

デフォルト値: 536870912

圧縮前の行グループサイズのターゲット（バイト単位）。

## output_format_parquet_string_as_string {#output_format_parquet_string_as_string}

タイプ: Bool

デフォルト値: 1

Stringカラムに対してBinaryの代わりにParquet String型を使用。

## output_format_parquet_use_custom_encoder {#output_format_parquet_use_custom_encoder}

タイプ: Bool

デフォルト値: 1

より高速なParquetエンコーダ実装を使用。

## output_format_parquet_version {#output_format_parquet_version}

タイプ: ParquetVersion

デフォルト値: 2.latest

出力形式のParquetフォーマットバージョン。サポートされているバージョン: 1.0, 2.4, 2.6 および 2.latest (デフォルト)

## output_format_parquet_write_page_index {#output_format_parquet_write_page_index}

タイプ: Bool

デフォルト値: 1

Parquetファイルにページインデックスを書き込むための機能を追加。

## output_format_pretty_color {#output_format_pretty_color}

タイプ: UInt64Auto

デフォルト値: auto

Pretty形式でANSIエスケープシーケンスを使用。0 - 無効, 1 - 有効, 'auto' - 端末で有効。

## output_format_pretty_display_footer_column_names {#output_format_pretty_display_footer_column_names}

タイプ: UInt64

デフォルト値: 1

テーブル行が多い場合、フッターにカラム名を表示。

可能な値:

- 0 — フッターにはカラム名を表示しない。
- 1 — フッターには行数が設定されたしきい値（デフォルトで50）以上の場合にカラム名を表示する。

**例**

クエリ:

```sql
SELECT *, toTypeName(*) FROM (SELECT * FROM system.numbers LIMIT 1000);
```

結果:

```response
      ┌─number─┬─toTypeName(number)─┐
   1. │      0 │ UInt64             │
   2. │      1 │ UInt64             │
   3. │      2 │ UInt64             │
   ...
 999. │    998 │ UInt64             │
1000. │    999 │ UInt64             │
      └─number─┴─toTypeName(number)─┘
```

## output_format_pretty_display_footer_column_names_min_rows {#output_format_pretty_display_footer_column_names_min_rows}

タイプ: UInt64

デフォルト値: 50

設定 [output_format_pretty_display_footer_column_names](#output_format_pretty_display_footer_column_names) が有効な場合、フッターにカラム名を表示するための行の最小数を設定します。

## output_format_pretty_grid_charset {#output_format_pretty_grid_charset}

タイプ: String

デフォルト値: UTF-8

グリッドの枠線を印刷するための文字セットです。利用可能な文字セット： ASCII, UTF-8 (デフォルト)。

## output_format_pretty_highlight_digit_groups {#output_format_pretty_highlight_digit_groups}

タイプ: Bool

デフォルト値: 1

もし有効であり、出力が端末の場合、千、百万などの桁に対応する桁を下線でハイライトします。

## output_format_pretty_max_column_pad_width {#output_format_pretty_max_column_pad_width}

タイプ: UInt64

デフォルト値: 250

Pretty形式でカラム内のすべての値をパディングする最大幅。

## output_format_pretty_max_rows {#output_format_pretty_max_rows}

タイプ: UInt64

デフォルト値: 10000

Pretty形式の行数制限。

## output_format_pretty_max_value_width {#output_format_pretty_max_value_width}

タイプ: UInt64

デフォルト値: 10000

Pretty形式で表示する値の最大幅。これを超えると切り取られる。

## output_format_pretty_max_value_width_apply_for_single_value {#output_format_pretty_max_value_width_apply_for_single_value}

タイプ: UInt64

デフォルト値: 0

値を切り取るのは単一の値がブロックにない場合のみに制限します。それ以外の場合、完全に出力します。これは `SHOW CREATE TABLE` クエリに有用です。

## output_format_pretty_row_numbers {#output_format_pretty_row_numbers}

タイプ: Bool

デフォルト値: 1

Pretty出力形式のために各行の前に行番号を追加。

## output_format_pretty_single_large_number_tip_threshold {#output_format_pretty_single_large_number_tip_threshold}

タイプ: UInt64

デフォルト値: 1000000

ブロックが唯一の大きな数を含む場合、その数がこの値（0を除く）を超える場合はテーブルの右側に読みやすい数を表示。

## output_format_protobuf_nullables_with_google_wrappers {#output_format_protobuf_nullables_with_google_wrappers}

タイプ: Bool

デフォルト値: 0

Googleラッパーを使用してNullableカラムをシリアライズする際、デフォルト値を空のラッパーとしてシリアライズします。無効にすると、デフォルト値とnull値はシリアライズされません。

## output_format_schema {#output_format_schema}

タイプ: String

デフォルト値: 

自動生成されたスキーマを [Cap’n Proto](../../interfaces/formats.md#capnproto-capnproto) または [Protobuf](../../interfaces/formats.md#protobuf-protobuf) 形式で保存するファイルへのパス。

## output_format_sql_insert_include_column_names {#output_format_sql_insert_include_column_names}

タイプ: Bool

デフォルト値: 1

INSERTクエリ内にカラム名を含める

## output_format_sql_insert_max_batch_size {#output_format_sql_insert_max_batch_size}

タイプ: UInt64

デフォルト値: 65409

1つのINSERT文での行数の最大数。

## output_format_sql_insert_quote_names {#output_format_sql_insert_quote_names}

タイプ: Bool

デフォルト値: 1

カラム名を '`' 文字でクォート

## output_format_sql_insert_table_name {#output_format_sql_insert_table_name}

タイプ: String

デフォルト値: table

出力INSERTクエリ内のテーブル名

## output_format_sql_insert_use_replace {#output_format_sql_insert_use_replace}

タイプ: Bool

デフォルト値: 0

INSERTの代わりにREPLACE文を使用

## output_format_tsv_crlf_end_of_line {#output_format_tsv_crlf_end_of_line}

タイプ: Bool

デフォルト値: 0

真に設定すると、TSV形式で行の終端が\\r\\nになります。そうでなければ\\nです。

## output_format_values_escape_quote_with_quote {#output_format_values_escape_quote_with_quote}

タイプ: Bool

デフォルト値: 0

真なら'を''でエスケープし、そうでなければ\\'でクォート

## output_format_write_statistics {#output_format_write_statistics}

タイプ: Bool

デフォルト値: 1

読み取った行、バイト、経過時間に関する統計を適切な出力形式で書き込みます。

デフォルトで有効

## precise_float_parsing {#precise_float_parsing}

タイプ: Bool

デフォルト値: 0

より正確（しかし遅い）浮動小数点数の解析アルゴリズムを優先

## regexp_dict_allow_hyperscan {#regexp_dict_allow_hyperscan}

タイプ: Bool

デフォルト値: 1

Hyperscanライブラリを使用したregexp_treeDictionaryを許可する。

## regexp_dict_flag_case_insensitive {#regexp_dict_flag_case_insensitive}

タイプ: Bool

デフォルト値: 0

regexp_tree Dictionaryに対して大文字小文字を区別しないマッチングを使用する。個々の表現で(?i)と(?-i)で上書き可能。

## regexp_dict_flag_dotall {#regexp_dict_flag_dotall}

タイプ: Bool

デフォルト値: 0

regexp_tree Dictionaryに対して'.'が改行文字にマッチすることを許可。

## rows_before_aggregation {#rows_before_aggregation}

タイプ: Bool

デフォルト値: 0

有効にすると、ClickHouseは集計前に読み取った行数を表す`rows_before_aggregation`統計の正確な値を提供します。

## schema_inference_hints {#schema_inference_hints}

タイプ: String

デフォルト値: 

スキーマなしのフォーマットに対してスキーマ推論でヒントとして使用するカラム名とタイプのリスト。

例:

クエリ:
```sql
desc format(JSONEachRow, '{"x" : 1, "y" : "String", "z" : "0.0.0.0" }') settings schema_inference_hints='x UInt8, z IPv4';
```

結果:
```sql
x   UInt8
y   Nullable(String)
z   IPv4
```

:::note
`schema_inference_hints` が正しくフォーマットされていない場合、またはタイプミスや誤ったデータ型がある場合、全体の`s**chema_inference_hints**` が無視されます。
:::

## schema_inference_make_columns_nullable {#schema_inference_make_columns_nullable}

タイプ: UInt64Auto

デフォルト値: 1

スキーマ推論で推論された型を `Nullable` にすることを制御します。設定が有効な場合、すべての推論された型は `Nullable` になり、無効の場合、推論された型は決して `Nullable` ではなく、 `auto` に設定されると、スキーマ推論中に解析されたサンプルでカラムに `NULL` が含まれている場合、またはファイルメタデータにカラムのヌル可能性に関する情報が含まれている場合にのみ、推論された型は`Nullable` になります。

## schema_inference_mode {#schema_inference_mode}

タイプ: SchemaInferenceMode

デフォルト値: default

スキーマ推論のモード。 'default' - すべてのファイルが同じスキーマを持っていると仮定し、どのファイルからもスキーマを推論できることを仮定する、 'union' - ファイルのスキーマは異なっても良く、結果として得られるスキーマはすべてのファイルのスキーマの集合でなければならない

## show_create_query_identifier_quoting_rule {#show_create_query_identifier_quoting_rule}

タイプ: IdentifierQuotingRule

デフォルト値: when_necessary

SHOW CREATEクエリにおける識別子のクォートルールを設定

## show_create_query_identifier_quoting_style {#show_create_query_identifier_quoting_style}

タイプ: IdentifierQuotingStyle

デフォルト値: Backticks

SHOW CREATEクエリにおける識別子のクォートスタイルを設定

## type_json_skip_duplicated_paths {#type_json_skip_duplicated_paths}

タイプ: Bool

デフォルト値: 0

有効にすると、JSONオブジェクトをJSON型に解析する際に重複したパスが無視され、例外の代わりに最初のもののみが挿入されます

## validate_experimental_and_suspicious_types_inside_nested_types {#validate_experimental_and_suspicious_types_inside_nested_types}

タイプ: Bool

デフォルト値: 1

Array/Map/Tupleのようなネストされた型の内部でエクスペリメンタルおよび怪しい型の使用を検証する
