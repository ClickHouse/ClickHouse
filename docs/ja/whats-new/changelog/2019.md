---
machine_translated: true
machine_translated_rev: 72537a2d527c63c07aa5d2361a8829f3895cf2bd
toc_priority: 77
toc_title: '2019'
---

## ClickHouseリリース19.17 {#clickhouse-release-v19-17}

### ClickHouse Release19.17.6.36,2019年12月27日 {#clickhouse-release-v19-17-6-36-2019-12-27}

#### バグ修正 {#bug-fix}

-   固定力バッファオーバーフローして展開す. 悪意のあるユーザーで製作した圧縮データが読み後のバッファです。 この問題は、Yandex情報セキュリティチームのEldar Zaitovによって発見されました。 [\#8404](https://github.com/ClickHouse/ClickHouse/pull/8404) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定可能なサーバのクラッシュ (`std::terminate`）サーバーが文字列データ型の値を持つJSONまたはXML形式でデータを送信または書き込むことができない場合（UTF-8検証が必要）、またはBrotliアルゴリズムで結果デー [\#8384](https://github.com/ClickHouse/ClickHouse/pull/8384) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Clickhouseからのソースを持つ固定辞書 `VIEW` そのような辞書を読んでもエラーは発生しません `There is no query`. [\#8351](https://github.com/ClickHouse/ClickHouse/pull/8351) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   固定照合するクライアントホストで許可されhost\_regexp指定されます。xml。 [\#8241](https://github.com/ClickHouse/ClickHouse/pull/8241), [\#8342](https://github.com/ClickHouse/ClickHouse/pull/8342) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   `RENAME TABLE` 分散表現に変更、フォルダが挿入されデータを送信する前に破片. これにより、連続した名前変更の問題が修正されます `tableA->tableB`, `tableC->tableA`. [\#8306](https://github.com/ClickHouse/ClickHouse/pull/8306) ([tavplubix](https://github.com/tavplubix))
-   `range_hashed` 外部辞書作成DDLわきの範囲は任意の数値です。 [\#8275](https://github.com/ClickHouse/ClickHouse/pull/8275) ([アレサピン](https://github.com/alesapin))
-   固定 `INSERT INTO table SELECT ... FROM mysql(...)` テーブル関数。 [\#8234](https://github.com/ClickHouse/ClickHouse/pull/8234) ([tavplubix](https://github.com/tavplubix))
-   で固定segfault `INSERT INTO TABLE FUNCTION file()` 存在しないファイルに挿入中。 この場合、ファイルが作成され、挿入が処理されます。 [\#8177](https://github.com/ClickHouse/ClickHouse/pull/8177) ([Olga Khvostikova](https://github.com/stavrolia))
-   固定bitmapAnd場合にはエラーに交差に集約ビットマップおよびスカラービットマップ. [\#8082](https://github.com/ClickHouse/ClickHouse/pull/8082) ([越黄](https://github.com/moon03432))
-   Segfaultを修正しました `EXISTS` クエリが使用されなかった `TABLE` または `DICTIONARY` 修飾子、ちょうどのような `EXISTS t`. [\#8213](https://github.com/ClickHouse/ClickHouse/pull/8213) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   関数の戻り値の型を修正しました `rand` と `randConstant` null許容引数の場合。 今すぐ関数は常に戻ります `UInt32` そして決して `Nullable(UInt32)`. [\#8204](https://github.com/ClickHouse/ClickHouse/pull/8204) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   固定 `DROP DICTIONARY IF EXISTS db.dict` これで例外はスローされません `db` 存在しない [\#8185](https://github.com/ClickHouse/ClickHouse/pull/8185) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   さん完全に落ちてしまったがサーバのクラッシュ、サーバへの復元とその負荷で [\#8176](https://github.com/ClickHouse/ClickHouse/pull/8176) ([tavplubix](https://github.com/tavplubix))
-   複数のシャードローカルテーブルが存在する場合、分散テーブルの些細なカウントクエリを修正しました。 [\#8164](https://github.com/ClickHouse/ClickHouse/pull/8164) ([小路](https://github.com/nicelulu))
-   DB::BlockStreamProfileInfo::calculateRowsBeforeLimitでデータレースにつながるバグを修正しました() [\#8143](https://github.com/ClickHouse/ClickHouse/pull/8143) ([Alexander Kazakov](https://github.com/Akazz))
-   固定 `ALTER table MOVE part` 指定されたパーツをマージした直後に実行されます。 指定された部分を正しく移動します。 [\#8104](https://github.com/ClickHouse/ClickHouse/pull/8104) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   辞書の式を文字列として指定できるようになりました。 これは、クリックハウス以外のソースからデータを抽出する際に属性の計算に役立ちます。 [\#8098](https://github.com/ClickHouse/ClickHouse/pull/8098) ([アレサピン](https://github.com/alesapin))
-   で非常にまれなレースを修正しました `clickhouse-copier` ZXidのオーバーフローのため。 [\#8088](https://github.com/ClickHouse/ClickHouse/pull/8088) ([丁翔飛](https://github.com/dingxiangfei2009))
-   クエリが失敗した後（原因に “Too many simultaneous queries” たとえば）外部テーブル情報を読み込まず、
    次の要求はこの情報を次のクエリの先頭として解釈し、次のようなエラーを引き起こします `Unknown packet from client`. [\#8084](https://github.com/ClickHouse/ClickHouse/pull/8084) ([Azat Khuzhin](https://github.com/azat))
-   後のnull逆参照を避ける “Unknown packet X from server” [\#8071](https://github.com/ClickHouse/ClickHouse/pull/8071) ([Azat Khuzhin](https://github.com/azat))
-   すべてのICUロケールのサポートを復元し、定数式の照合順序を適用し、言語名をシステムに追加する機能を追加します。照合テーブル。 [\#8051](https://github.com/ClickHouse/ClickHouse/pull/8051) ([アレサピン](https://github.com/alesapin))
-   読み取り元のストリームの数 `StorageFile` と `StorageHDFS` メモリ制限を超えないように制限されるようになりました。 [\#7981](https://github.com/ClickHouse/ClickHouse/pull/7981) ([アレサピン](https://github.com/alesapin))
-   固定 `CHECK TABLE` クエリ `*MergeTree` キーのない表。 [\#7979](https://github.com/ClickHouse/ClickHouse/pull/7979) ([アレサピン](https://github.com/alesapin))
-   突然変異がない場合に備えて、部品名から変異番号を削除しました。 これにより古いバージョンとの互換性が向上した。 [\#8250](https://github.com/ClickHouse/ClickHouse/pull/8250) ([アレサピン](https://github.com/alesapin))
-   Data\_versionがテーブルの突然変異バージョンより大きいため、添付されている部分で突然変異がスキップされるバグを修正しました。 [\#7812](https://github.com/ClickHouse/ClickHouse/pull/7812) ([Zhichang Yu](https://github.com/yuzhichang))
-   を開始サポートしているサーバの冗長部の部品を移動した後、このようなたくさんの装置です。 [\#7810](https://github.com/ClickHouse/ClickHouse/pull/7810) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   エラーを修正しました “Sizes of columns doesn’t match” る面が表示される場合があ利用時の集計関数列あります。 [\#7790](https://github.com/ClickHouse/ClickHouse/pull/7790) ([ボリス-グランヴォー](https://github.com/bgranvea))
-   これで、LIMIT BYと一緒にWITH TIESを使用する場合に例外がスローされます。 そして今、LIMIT BYでTOPを使用することができます。 [\#7637](https://github.com/ClickHouse/ClickHouse/pull/7637) ([ニキータ-ミハイロフ](https://github.com/nikitamikhaylov))
-   それが持っている場合 `invalidate_query` これは、以前の更新の試行で更新といくつかの例外を停止しました。 [\#8029](https://github.com/ClickHouse/ClickHouse/pull/8029) ([アレサピン](https://github.com/alesapin))

### ClickHouse Release19.17.4.11,2019年11月22日 {#clickhouse-release-v19-17-4-11-2019-11-22}

#### 下位互換性のない変更 {#backward-incompatible-change}

-   使用カラムの代わりにASTビスカラサブクエリの結果よりよい。 設定 `enable_scalar_subquery_optimization` 19.17に追加され、デフォルトで有効になりました。 繋がるようなエラー [この](https://github.com/ClickHouse/ClickHouse/issues/7851) 以前のバージョンから19.17.2または19.17.3へのアップグレード中。 この設定はデフォルトで無効にで19.17.4、可能からのアップグレード19.16、以前のバージョンなします。 [\#7392](https://github.com/ClickHouse/ClickHouse/pull/7392) ([アモス鳥](https://github.com/amosbird))

#### 新機能 {#new-feature}

-   DDLクエリで辞書を作成する機能を追加します。 [\#7360](https://github.com/ClickHouse/ClickHouse/pull/7360) ([アレサピン](https://github.com/alesapin))
-   作る `bloom_filter` 索引のサポートのタイプ `LowCardinality` と `Nullable` [\#7363](https://github.com/ClickHouse/ClickHouse/issues/7363) [\#7561](https://github.com/ClickHouse/ClickHouse/pull/7561) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   関数を追加 `isValidJSON` 渡された文字列が有効なjsonであることを確認する。 [\#5910](https://github.com/ClickHouse/ClickHouse/issues/5910) [\#7293](https://github.com/ClickHouse/ClickHouse/pull/7293) ([Vdimir](https://github.com/Vdimir))
-   実装 `arrayCompact` 関数 [\#7328](https://github.com/ClickHouse/ClickHouse/pull/7328) ([メモ](https://github.com/Joeywzr))
-   作成された関数 `hex` 小数の場合。 このように動作 `hex(reinterpretAsString())` しかし、最後のゼロバイトは削除しません。 [\#7355](https://github.com/ClickHouse/ClickHouse/pull/7355) ([ミハイル-コロトフ](https://github.com/millb))
-   追加 `arrayFill` と `arrayReverseFill` 要素を配列内のそれらの前後の他の要素に置き換える関数。 [\#7380](https://github.com/ClickHouse/ClickHouse/pull/7380) ([hcz](https://github.com/hczhcz))
-   追加 `CRC32IEEE()`/`CRC64()` サポート [\#7480](https://github.com/ClickHouse/ClickHouse/pull/7480) ([Azat Khuzhin](https://github.com/azat))
-   実装 `char` に似た関数 [mysql](https://dev.mysql.com/doc/refman/8.0/en/string-functions.html#function_char) [\#7486](https://github.com/ClickHouse/ClickHouse/pull/7486) ([スンディリ](https://github.com/sundy-li))
-   追加 `bitmapTransform` 機能。 ビットマップ内の値の配列を別の値の配列に変換し、結果は新しいビットマップになります [\#7598](https://github.com/ClickHouse/ClickHouse/pull/7598) ([Zhichang Yu](https://github.com/yuzhichang))
-   実装 `javaHashUTF16LE()` 関数 [\#7651](https://github.com/ClickHouse/ClickHouse/pull/7651) ([アチンバ州](https://github.com/achimbab))
-   追加 `_shard_num` 分散エンジンの仮想列 [\#7624](https://github.com/ClickHouse/ClickHouse/pull/7624) ([Azat Khuzhin](https://github.com/azat))

#### 実験的な特徴 {#experimental-feature}

-   支援のためのプロセッサ（新しいクエリを実行パイプライン） `MergeTree`. [\#7181](https://github.com/ClickHouse/ClickHouse/pull/7181) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))

#### バグ修正 {#bug-fix-1}

-   で不正な浮動小数点解析を修正 `Values` [\#7817](https://github.com/ClickHouse/ClickHouse/issues/7817) [\#7870](https://github.com/ClickHouse/ClickHouse/pull/7870) ([tavplubix](https://github.com/tavplubix))
-   固定レア行き詰まりきれるようにすることがtrace\_logが有効になります。 [\#7838](https://github.com/ClickHouse/ClickHouse/pull/7838) ([フィリモノフ](https://github.com/filimonov))
-   防止のメッセージの複製を制作するカフカテーブルには、MVsの選択からで [\#7265](https://github.com/ClickHouse/ClickHouse/pull/7265) ([イワン](https://github.com/abyss7))
-   のサポート `Array(LowCardinality(Nullable(String)))` で `IN`. 解決 [\#7364](https://github.com/ClickHouse/ClickHouse/issues/7364) [\#7366](https://github.com/ClickHouse/ClickHouse/pull/7366) ([アチンバ州](https://github.com/achimbab))
-   の処理を追加 `SQL_TINYINT` と `SQL_BIGINT`、および修正の処理 `SQL_FLOAT` ODBCブリッジのデータソース型。 [\#7491](https://github.com/ClickHouse/ClickHouse/pull/7491) ([デニス-グラザチェフ](https://github.com/traceon))
-   集約を修正 (`avg` および分位数)空の十進数列に対する [\#7431](https://github.com/ClickHouse/ClickHouse/pull/7431) ([アンドレイ-コニャエフ](https://github.com/akonyaev90))
-   修正 `INSERT` との分散に `MATERIALIZED` 列 [\#7377](https://github.com/ClickHouse/ClickHouse/pull/7377) ([Azat Khuzhin](https://github.com/azat))
-   作る `MOVE PARTITION` 仕事のパーツがあった場合にエントランスは目を引く壁面緑化依存度はさほど高くないものの、保存先ディスクまたは量 [\#7434](https://github.com/ClickHouse/ClickHouse/pull/7434) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   ハードリンクが変異中に作成されないバグを修正しました。 `ReplicatedMergeTree` マルチディスク構成で。 [\#7558](https://github.com/ClickHouse/ClickHouse/pull/7558) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   部分全体が変更されず、別のディスクに最適なスペースが見つかっているときに、マージツリー上で突然変異を伴うバグを修正しました [\#7602](https://github.com/ClickHouse/ClickHouse/pull/7602) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   とのバグを修正 `keep_free_space_ratio` ディスク構成から読み取られない [\#7645](https://github.com/ClickHouse/ClickHouse/pull/7645) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   修正のバグテーブルのみを含む `Tuple` 複雑なパスを持つ列または列。 修正 [7541](https://github.com/ClickHouse/ClickHouse/issues/7541). [\#7545](https://github.com/ClickHouse/ClickHouse/pull/7545) ([アレサピン](https://github.com/alesapin))
-   Max\_memory\_usage制限内のバッファエンジンのメモリを考慮しない [\#7552](https://github.com/ClickHouse/ClickHouse/pull/7552) ([Azat Khuzhin](https://github.com/azat))
-   最終的なマークの使用を修正 `MergeTree` テーブルの順序付け `tuple()`. まれに `Can't adjust last granule` 選択中にエラー。 [\#7639](https://github.com/ClickHouse/ClickHouse/pull/7639) ([アントン-ポポフ](https://github.com/CurtizJ))
-   クラッシュや奇妙な例外につながる可能性があり、コンテキスト（例えばjsonの関数）を必要とするアクションで述語を持つ突然変異のバグを修正し [\#7664](https://github.com/ClickHouse/ClickHouse/pull/7664) ([アレサピン](https://github.com/alesapin))
-   データベース名とテーブル名の不一致を修正 `data/` と `shadow/` ディレク [\#7575](https://github.com/ClickHouse/ClickHouse/pull/7575) ([Alexander Burmak](https://github.com/Alex-Burmak))
-   Support duplicated keys in RIGHT\|FULL JOINs, e.g. `ON t.x = u.x AND t.x = u.y`. この場合のクラッシュを修正します。 [\#7586](https://github.com/ClickHouse/ClickHouse/pull/7586) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   修正 `Not found column <expression> in block` 右結合または完全結合で式に結合する場合。 [\#7641](https://github.com/ClickHouse/ClickHouse/pull/7641) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   無限ループを修正するもう一つの試み `PrettySpace` 形式 [\#7591](https://github.com/ClickHouse/ClickHouse/pull/7591) ([Olga Khvostikova](https://github.com/stavrolia))
-   バグを修正 `concat` すべての引数が `FixedString` 同じサイズの。 [\#7635](https://github.com/ClickHouse/ClickHouse/pull/7635) ([アレサピン](https://github.com/alesapin))
-   S3、URL、HDFSストレージを定義する際に1つの引数を使用した場合の例外を修正しました。 [\#7618](https://github.com/ClickHouse/ClickHouse/pull/7618) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   クエリを持つビューのInterpreterSelectQueryのスコープを修正しました [\#7601](https://github.com/ClickHouse/ClickHouse/pull/7601) ([Azat Khuzhin](https://github.com/azat))

#### 改善 {#improvement}

-   `Nullable` ODBC-bridgeによって認識される列とNULL値が正しく処理されます [\#7402](https://github.com/ClickHouse/ClickHouse/pull/7402) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   分散送信用の現在のバッチを原子的に書き込む [\#7600](https://github.com/ClickHouse/ClickHouse/pull/7600) ([Azat Khuzhin](https://github.com/azat))
-   クエリで列名のテーブルを検出できない場合は、例外をスローします。 [\#7358](https://github.com/ClickHouse/ClickHouse/pull/7358) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   追加 `merge_max_block_size` への設定 `MergeTreeSettings` [\#7412](https://github.com/ClickHouse/ClickHouse/pull/7412) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   クエリ `HAVING` そしてなし `GROUP BY` 当グループによる定数です。 だから, `SELECT 1 HAVING 1` 今すぐ結果を返します。 [\#7496](https://github.com/ClickHouse/ClickHouse/pull/7496) ([アモス鳥](https://github.com/amosbird))
-   サポート解析 `(X,)` pythonに似たタプルとして。 [\#7501](https://github.com/ClickHouse/ClickHouse/pull/7501), [\#7562](https://github.com/ClickHouse/ClickHouse/pull/7562) ([アモス鳥](https://github.com/amosbird))
-   作る `range` 関数の動作はpythonicのものとほぼ同じです。 [\#7518](https://github.com/ClickHouse/ClickHouse/pull/7518) ([スンディリ](https://github.com/sundy-li))
-   追加 `constraints` テーブルへの列 `system.settings` [\#7553](https://github.com/ClickHouse/ClickHouse/pull/7553) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   Tcpハンドラのためのより良いヌル形式、それが使用することが可能です `select ignore(<expression>) from table format Null` clickhouse顧客によるperfの測定のため [\#7606](https://github.com/ClickHouse/ClickHouse/pull/7606) ([アモス鳥](https://github.com/amosbird))
-   のようなクエリ `CREATE TABLE ... AS (SELECT (1, 2))` 正しく解析されます [\#7542](https://github.com/ClickHouse/ClickHouse/pull/7542) ([hcz](https://github.com/hczhcz))

#### 性能向上 {#performance-improvement}

-   短い文字列キーに対する集計のパフォーマンスが向上しました。 [\#6243](https://github.com/ClickHouse/ClickHouse/pull/6243) ([Alexander Kuzmenkov](https://github.com/akuzm), [アモス鳥](https://github.com/amosbird))
-   定数述部が折り畳まれた後に、構文/式分析の別のパスを実行して、潜在的な最適化を取得します。 [\#7497](https://github.com/ClickHouse/ClickHouse/pull/7497) ([アモス鳥](https://github.com/amosbird))
-   記憶域メタ情報を使用して些細なことを評価する `SELECT count() FROM table;` [\#7510](https://github.com/ClickHouse/ClickHouse/pull/7510) ([アモス鳥](https://github.com/amosbird), [アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ベクトル化処理 `arrayReduce` アグリゲータと同様 `addBatch`. [\#7608](https://github.com/ClickHouse/ClickHouse/pull/7608) ([アモス鳥](https://github.com/amosbird))
-   の性能のマイナーな改善 `Kafka` 消費 [\#7475](https://github.com/ClickHouse/ClickHouse/pull/7475) ([イワン](https://github.com/abyss7))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement}

-   CPUアーキテクチャAARCH64へのクロスコンパイルのサポートを追加。 リファクタリング [\#7370](https://github.com/ClickHouse/ClickHouse/pull/7370) [\#7539](https://github.com/ClickHouse/ClickHouse/pull/7539) ([イワン](https://github.com/abyss7))
-   パッケージビルド時にdarwin-x86\_64およびlinux-aarch64ツールチェーンをマウントされたDockerボリュームに解凍します [\#7534](https://github.com/ClickHouse/ClickHouse/pull/7534) ([イワン](https://github.com/abyss7))
-   バイナ [\#7474](https://github.com/ClickHouse/ClickHouse/pull/7474) ([イワン](https://github.com/abyss7))
-   MacOS Catalinaのコンパイルエラーを修正 [\#7585](https://github.com/ClickHouse/ClickHouse/pull/7585) ([アーネスト-ポレタエフ](https://github.com/ernestp))
-   一部のリファクタリングのクエリ分析論理分割複雑なクラスの幾つかの簡単なものである。 [\#7454](https://github.com/ClickHouse/ClickHouse/pull/7454) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   サブモジュールなしでビルドを修正 [\#7295](https://github.com/ClickHouse/ClickHouse/pull/7295) ([プロラー](https://github.com/proller))
-   より良い `add_globs` CMakeファイル内 [\#7418](https://github.com/ClickHouse/ClickHouse/pull/7418) ([アモス鳥](https://github.com/amosbird))
-   ハードコードされたパスを削除する `unwind` ターゲット [\#7460](https://github.com/ClickHouse/ClickHouse/pull/7460) ([コンスタンチン-ポドシュモク](https://github.com/podshumok))
-   Sslなしでmysql形式を使用できるようにする [\#7524](https://github.com/ClickHouse/ClickHouse/pull/7524) ([プロラー](https://github.com/proller))

#### その他 {#other}

-   ClickHouse SQL方言のANTLR4文法を追加しました [\#7595](https://github.com/ClickHouse/ClickHouse/issues/7595) [\#7596](https://github.com/ClickHouse/ClickHouse/pull/7596) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

## ClickHouseリリース19.16 {#clickhouse-release-v19-16}

#### ClickHouseリリース19.16.14.65,2020-03-25 {#clickhouse-release-v19-16-14-65-2020-03-25}

-   複数の引数（10以上）の三項論理OPsのバッチ計算のバグを修正しました。 [\#8718](https://github.com/ClickHouse/ClickHouse/pull/8718) ([Alexander Kazakov](https://github.com/Akazz))このバグ修正はAltinityからの特別な要求によってバージョン19.16にバックポートされました。

#### ClickHouseリリース19.16.14.65,2020-03-05 {#clickhouse-release-v19-16-14-65-2020-03-05}

-   古いCHバージョンとの分散サブクエリの非互換性を修正しました。 修正 [\#7851](https://github.com/ClickHouse/ClickHouse/issues/7851)
    [(tabplubix)](https://github.com/tavplubix)
-   実行するとき `CREATE` クエリー、倍定表現のストレージエンジンの引数です。 空のデータベー 修正 [\#6508](https://github.com/ClickHouse/ClickHouse/issues/6508), [\#3492](https://github.com/ClickHouse/ClickHouse/issues/3492). また、ローカルアドレスの確認を修正 `ClickHouseDictionarySource`.
    [\#9262](https://github.com/ClickHouse/ClickHouse/pull/9262) [(tabplubix)](https://github.com/tavplubix)
-   今すぐ背景にマージ `*MergeTree` テーブルエンジンの家族の保存-保存政策に大量注文しております。
    [\#8549](https://github.com/ClickHouse/ClickHouse/pull/8549) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   データの損失を防ぐ `Kafka` まれに、suffixを読んだ後でコミットする前に例外が発生する場合。 修正 [\#9378](https://github.com/ClickHouse/ClickHouse/issues/9378). 関連: [\#7175](https://github.com/ClickHouse/ClickHouse/issues/7175)
    [\#9507](https://github.com/ClickHouse/ClickHouse/pull/9507) [（フィリモノフ)](https://github.com/filimonov)
-   のを修正した。先サーバを終了しようとした場合に使用/drop `Kafka` テーブル作成されたパラメータ。 修正 [\#9494](https://github.com/ClickHouse/ClickHouse/issues/9494). 組み込み [\#9507](https://github.com/ClickHouse/ClickHouse/issues/9507).
    [\#9513](https://github.com/ClickHouse/ClickHouse/pull/9513) [（フィリモノフ)](https://github.com/filimonov)
-   使用を許可する `MaterializedView` 上記のサブクエリで `Kafka` テーブル
    [\#8197](https://github.com/ClickHouse/ClickHouse/pull/8197) ([フィリモノフ](https://github.com/filimonov))

#### 新機能 {#new-feature-1}

-   追加 `deduplicate_blocks_in_dependent_materialized_views` マテリアライズドビューを持つテーブルへの冪等挿入の動作を制御するオプション。 この新機能は、Altinityからの特別な要求によってバグ修正リリースに追加されました。
    [\#9070](https://github.com/ClickHouse/ClickHouse/pull/9070) [（ユーリーキー)](https://github.com/urykhy)

### ClickHouse Release19.16.2.2,2019年10月30日 {#clickhouse-release-v19-16-2-2-2019-10-30}

#### 下位互換性のない変更 {#backward-incompatible-change-1}

-   Count/counIfの不足しているarity検証を追加します。
    [\#7095](https://github.com/ClickHouse/ClickHouse/issues/7095)
    [\#7298](https://github.com/ClickHouse/ClickHouse/pull/7298) ([Vdimir](https://github.com/Vdimir))
-   レガシーを削除 `asterisk_left_columns_only` 設定（デフォルトでは無効になっていました）。
    [\#7335](https://github.com/ClickHouse/ClickHouse/pull/7335) ([Artem
    ズイコフ](https://github.com/4ertus2))
-   フォーマット文字列のためのテンプレートデータの形式は指定のファイルです。
    [\#7118](https://github.com/ClickHouse/ClickHouse/pull/7118)
    ([tavplubix](https://github.com/tavplubix))

#### 新機能 {#new-feature-2}

-   UniqCombined64()を導入して、uint\_maxより大きい基数を計算します。
    [\#7213](https://github.com/ClickHouse/ClickHouse/pull/7213),
    [\#7222](https://github.com/ClickHouse/ClickHouse/pull/7222) ([Azat
    Khuzhin](https://github.com/azat))
-   支援Bloom filterを指標配列に列あります。
    [\#6984](https://github.com/ClickHouse/ClickHouse/pull/6984)
    ([アチンバ州](https://github.com/achimbab))
-   関数の追加 `getMacro(name)` それは対応するの値を持つ文字列を返します `<macros>`
    サーバー構成から. [\#7240](https://github.com/ClickHouse/ClickHouse/pull/7240)
    ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   HTTPソースに基づくディクショナリの構成オプションを設定します: `credentials` と
    `http-headers`. [\#7092](https://github.com/ClickHouse/ClickHouse/pull/7092) ([ギヨーム
    タッサリー](https://github.com/YiuRULE))
-   新しいProfileEventの追加 `Merge` これは、起動された背景マージの数をカウントします。
    [\#7093](https://github.com/ClickHouse/ClickHouse/pull/7093) ([ミハイル
    コロトフ](https://github.com/millb))
-   完全修飾ドメイン名を返すfullHostName関数を追加します。
    [\#7263](https://github.com/ClickHouse/ClickHouse/issues/7263)
    [\#7291](https://github.com/ClickHouse/ClickHouse/pull/7291) ([スンディリ](https://github.com/sundy-li))
-   関数を追加 `arraySplit` と `arrayReverseSplit` これによって配列を分割する “cut off”
    条件だ それらは時系列の処理で有用である。
    [\#7294](https://github.com/ClickHouse/ClickHouse/pull/7294) ([hcz](https://github.com/hczhcz))
-   MultiMatch関数ファミリー内のすべての一致したインデックスの配列を返す新しい関数を追加します。
    [\#7299](https://github.com/ClickHouse/ClickHouse/pull/7299) ([ダニラ
    クテニン](https://github.com/danlark1))
-   新規データベースエンジンの追加 `Lazy` これは、多数の小ログを格納するために最適化されています
    テーブル [\#7171](https://github.com/ClickHouse/ClickHouse/pull/7171) ([ニキータ
    ヴァシレフ](https://github.com/nikvas0))
-   ビットマップ列の集計関数groupBitmapAnd,-Or,-Xorを追加します。 [\#7109](https://github.com/ClickHouse/ClickHouse/pull/7109) ([Zhichang
    ゆう](https://github.com/yuzhichang))
-   Nullを返す集計関数のコンビネータ-OrNullと-OrDefaultを追加します
    または集計するものがない場合のデフォルト値。
    [\#7331](https://github.com/ClickHouse/ClickHouse/pull/7331)
    ([hcz](https://github.com/hczhcz))
-   カスタムエスケープをサポートするCustomSeparatedデータ形式の導入
    区切り文字ルール。 [\#7118](https://github.com/ClickHouse/ClickHouse/pull/7118)
    ([tavplubix](https://github.com/tavplubix))
-   外部辞書のソースとしてRedisをサポートします。 [\#4361](https://github.com/ClickHouse/ClickHouse/pull/4361) [\#6962](https://github.com/ClickHouse/ClickHouse/pull/6962) ([コムノディ](https://github.com/comunodi), [アントン
    ポポフ](https://github.com/CurtizJ))

#### バグ修正 {#bug-fix-2}

-   誤ったクエリ結果を修正 `WHERE IN (SELECT ...)` セクションと `optimize_read_in_order` は
    使用される。 [\#7371](https://github.com/ClickHouse/ClickHouse/pull/7371) ([アントン
    ポポフ](https://github.com/CurtizJ))
-   プロジェクト外のファイルに依存するMariaDB認証プラグインを無効にしました。
    [\#7140](https://github.com/ClickHouse/ClickHouse/pull/7140) ([ユーリー
    バラノフ](https://github.com/yurriy))
-   例外を修正 `Cannot convert column ... because it is constant but values of constants are different in source and result` これは関数が `now()`, `today()`,
    `yesterday()`, `randConstant()` 使用されます。
    [\#7156](https://github.com/ClickHouse/ClickHouse/pull/7156) ([ニコライ
    コチェトフ](https://github.com/KochetovNicolai))
-   TCP keep alive timeoutの代わりにHTTP keep alive timeoutを使用する問題を修正しました。
    [\#7351](https://github.com/ClickHouse/ClickHouse/pull/7351) ([ヴァシーリー
    ネムコフ](https://github.com/Enmk))
-   GroupBitmapOrのセグメンテーションエラーを修正しました(問題 [\#7109](https://github.com/ClickHouse/ClickHouse/issues/7109)).
    [\#7289](https://github.com/ClickHouse/ClickHouse/pull/7289) ([Zhichang
    ゆう](https://github.com/yuzhichang))
-   マテリアライズドビュ
    [\#7175](https://github.com/ClickHouse/ClickHouse/pull/7175) ([イワン](https://github.com/abyss7))
-   間違って修正 `duration_ms` の値 `system.part_log` テーブル。 それは十回オフでした。
    [\#7172](https://github.com/ClickHouse/ClickHouse/pull/7172) ([Vladimir
    チェボタレフ](https://github.com/excitoon))
-   修正を解決するクラッシュライブビューテーブルの再可能なすべてのライブビュー。
    [\#7201](https://github.com/ClickHouse/ClickHouse/pull/7201)
    ([ヴザカズニコフ](https://github.com/vzakaznikov))
-   MergeTreeパーツの最小/最大インデックスでNULL値を正しくシリアル化します。
    [\#7234](https://github.com/ClickHouse/ClickHouse/pull/7234) ([Alexander
    クズメンコフ](https://github.com/akuzm))
-   仮想列を配置しないでください。テーブルの作成時のsqlメタデータ `CREATE TABLE AS`.
    [\#7183](https://github.com/ClickHouse/ClickHouse/pull/7183) ([イワン](https://github.com/abyss7))
-   固定の区分断層に `ATTACH PART` クエリ。
    [\#7185](https://github.com/ClickHouse/ClickHouse/pull/7185)
    ([アレサピン](https://github.com/alesapin))
-   サブクエリ内の空と空の最適化によって与えられたいくつかのクエリの誤った結果を修正
    INNER/RIGHT JOIN. [\#7284](https://github.com/ClickHouse/ClickHouse/pull/7284) ([ニコライ
    コチェトフ](https://github.com/KochetovNicolai))
-   ライブビューのgetHeader()メソッドでAddressSanitizerエラーを修正しました。
    [\#7271](https://github.com/ClickHouse/ClickHouse/pull/7271)
    ([ヴザカズニコフ](https://github.com/vzakaznikov))

#### 改善 {#improvement-1}

-   Queue\_wait\_max\_ms待機が行われた場合にメッセージを追加します。
    [\#7390](https://github.com/ClickHouse/ClickHouse/pull/7390) ([Azat
    Khuzhin](https://github.com/azat))
-   作られた設定 `s3_min_upload_part_size` テーブルレベル。
    [\#7059](https://github.com/ClickHouse/ClickHouse/pull/7059) ([Vladimir
    チェボタレフ](https://github.com/excitoon))
-   StorageFactoryでTTLをチェックします。 [\#7304](https://github.com/ClickHouse/ClickHouse/pull/7304)
    ([スンディリ](https://github.com/sundy-li))
-   部分マージ結合（最適化）で左側のブロックをスカッシュします。
    [\#7122](https://github.com/ClickHouse/ClickHouse/pull/7122) ([Artem
    ズイコフ](https://github.com/4ertus2))
-   レプリケートされたテーブルエンジンの突然変異で非決定性関数を許可しないでください。
    レプリカ間に不整合が生じる可能性があります。
    [\#7247](https://github.com/ClickHouse/ClickHouse/pull/7247) ([Alexander
    カザコフ](https://github.com/Akazz))
-   無効メモリにトラッカーが変換の例外のスタックトレースを文字列になります。 これは、損失を防ぐことができ
    タイプのエラーメッセージの `Memory limit exceeded` サーバー上で、これは `Attempt to read after eof` クライアントの例外。 [\#7264](https://github.com/ClickHouse/ClickHouse/pull/7264)
    ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   その他の形式の改善。 解決
    [\#6033](https://github.com/ClickHouse/ClickHouse/issues/6033),
    [\#2633](https://github.com/ClickHouse/ClickHouse/issues/2633),
    [\#6611](https://github.com/ClickHouse/ClickHouse/issues/6611),
    [\#6742](https://github.com/ClickHouse/ClickHouse/issues/6742)
    [\#7215](https://github.com/ClickHouse/ClickHouse/pull/7215)
    ([tavplubix](https://github.com/tavplubix))
-   ClickHouseは、IN演算子の右側の値を無視します。
    side type. Make it work properly for compound types – Array and Tuple.
    [\#7283](https://github.com/ClickHouse/ClickHouse/pull/7283) ([Alexander
    クズメンコフ](https://github.com/akuzm))
-   ASOF結合の不等式の欠落をサポートします。 以下または等しいvariantとstrictを結合することは可能です
    ON構文のASOF列の大きい方と小さい方のバリアント。
    [\#7282](https://github.com/ClickHouse/ClickHouse/pull/7282) ([Artem
    ズイコフ](https://github.com/4ertus2))
-   部分マージ結合を最適化します。 [\#7070](https://github.com/ClickHouse/ClickHouse/pull/7070)
    ([アルテム-ズイコフ](https://github.com/4ertus2))
-   UniqCombined関数では98Kを超えるメモリを使用しないでください。
    [\#7236](https://github.com/ClickHouse/ClickHouse/pull/7236),
    [\#7270](https://github.com/ClickHouse/ClickHouse/pull/7270) ([Azat
    Khuzhin](https://github.com/azat))
-   PartialMergeJoinのディスク上の右側の結合テーブルの部分をフラッシュします（十分でない場合
    メモリ）。 負荷データが必要です。 [\#7186](https://github.com/ClickHouse/ClickHouse/pull/7186)
    ([アルテム-ズイコフ](https://github.com/4ertus2))

#### 性能向上 {#performance-improvement-1}

-   データの重複を避けることにより、const引数でjoinGetを高速化します。
    [\#7359](https://github.com/ClickHouse/ClickHouse/pull/7359) ([アモス
    鳥](https://github.com/amosbird))
-   サブクエリが空の場合は、早期に戻ります。
    [\#7007](https://github.com/ClickHouse/ClickHouse/pull/7007) ([小路](https://github.com/nicelulu))
-   値のSQL式の解析を最適化します。
    [\#6781](https://github.com/ClickHouse/ClickHouse/pull/6781)
    ([tavplubix](https://github.com/tavplubix))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-1}

-   Mac OSへのクロスコンパイルのための一部の貢献を無効にします。
    [\#7101](https://github.com/ClickHouse/ClickHouse/pull/7101) ([イワン](https://github.com/abyss7))
-   Clickhouse\_common\_ioのためのpocoxmlとのリンク不足を追加します。
    [\#7200](https://github.com/ClickHouse/ClickHouse/pull/7200) ([Azat
    Khuzhin](https://github.com/azat))
-   Clickhouse-testで複数のテストフィルター引数を受け入れます。
    [\#7226](https://github.com/ClickHouse/ClickHouse/pull/7226) ([Alexander
    クズメンコフ](https://github.com/akuzm))
-   ARM用のmuslおよびjemallocを有効にします。 [\#7300](https://github.com/ClickHouse/ClickHouse/pull/7300)
    ([アモス鳥](https://github.com/amosbird))
-   追加 `--client-option` パラメータ `clickhouse-test` 追加のパラメータをclientに渡す。
    [\#7277](https://github.com/ClickHouse/ClickHouse/pull/7277) ([ニコライ
    コチェトフ](https://github.com/KochetovNicolai))
-   Rpmパッケ
    [\#7103](https://github.com/ClickHouse/ClickHouse/pull/7103)
    ([フィリモノフ](https://github.com/filimonov))
-   PVSで検出されたエラーを修正しました。 [\#7153](https://github.com/ClickHouse/ClickHouse/pull/7153) ([Artem
    ズイコフ](https://github.com/4ertus2))
-   ダーウィンのビルドを修正。 [\#7149](https://github.com/ClickHouse/ClickHouse/pull/7149)
    ([イワン](https://github.com/abyss7))
-   glibc2.29の互換性。 [\#7142](https://github.com/ClickHouse/ClickHouse/pull/7142) ([アモス
    鳥](https://github.com/amosbird))
-   Dh\_cleanが潜在的なソースファイルに触れないようにします。
    [\#7205](https://github.com/ClickHouse/ClickHouse/pull/7205) ([アモス
    鳥](https://github.com/amosbird))
-   Altinity rpmから更新するときに競合を避けるようにしようとします。
    clickhouse-server-commonで。 [\#7073](https://github.com/ClickHouse/ClickHouse/pull/7073)
    ([フィリモノフ](https://github.com/filimonov))
-   最適なヘッダファイルにより再建.
    [\#7212](https://github.com/ClickHouse/ClickHouse/pull/7212),
    [\#7231](https://github.com/ClickHouse/ClickHouse/pull/7231) ([Alexander
    クズメンコフ](https://github.com/akuzm))
-   追加の性能試験のための日DateTime. [\#7332](https://github.com/ClickHouse/ClickHouse/pull/7332) ([ヴァシーリー
    ネムコフ](https://github.com/Enmk))
-   非決定論的変異を含むいくつかのテストを修正します。
    [\#7132](https://github.com/ClickHouse/ClickHouse/pull/7132) ([Alexander
    カザコフ](https://github.com/Akazz))
-   CiにMemorySanitizerでビルドを追加します。 [\#7066](https://github.com/ClickHouse/ClickHouse/pull/7066)
    ([Alexander Kuzmenkov](https://github.com/akuzm))
-   MetricsTransmitterで初期化されていない値の使用を避けます。
    [\#7158](https://github.com/ClickHouse/ClickHouse/pull/7158) ([Azat
    Khuzhin](https://github.com/azat))
-   固定のいくつかの問題分野によっMemorySanitizer.
    [\#7135](https://github.com/ClickHouse/ClickHouse/pull/7135),
    [\#7179](https://github.com/ClickHouse/ClickHouse/pull/7179) ([Alexander
    クズメンコフ](https://github.com/akuzm)), [\#7376](https://github.com/ClickHouse/ClickHouse/pull/7376)
    ([アモス鳥](https://github.com/amosbird))
-   Murmurhash32の未定義の動作を修正しました。 [\#7388](https://github.com/ClickHouse/ClickHouse/pull/7388) ([アモス
    鳥](https://github.com/amosbird))
-   StoragesInfoStreamの未定義の動作を修正しました。 [\#7384](https://github.com/ClickHouse/ClickHouse/pull/7384)
    ([tavplubix](https://github.com/tavplubix))
-   外部データベースエンジン（MySQL、ODBC、JDBC）のための固定定数式の折り畳み。 前に
    バージョンは、複数の定数式では機能せず、日付のためにまったく機能していませんでした,
    DateTimeとUUID。 この修正 [\#7245](https://github.com/ClickHouse/ClickHouse/issues/7245)
    [\#7252](https://github.com/ClickHouse/ClickHouse/pull/7252)
    ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   No\_users\_thread変数にアクセスするときに、ライブビューでThreadSanitizerデータ競合エラーを修正しました。
    [\#7353](https://github.com/ClickHouse/ClickHouse/pull/7353)
    ([ヴザカズニコフ](https://github.com/vzakaznikov))
-   Libcommonのmallocシンボルを取り除く
    [\#7134](https://github.com/ClickHouse/ClickHouse/pull/7134),
    [\#7065](https://github.com/ClickHouse/ClickHouse/pull/7065) ([アモス
    鳥](https://github.com/amosbird))
-   追加グローバル旗ENABLE\_LIBRARIES無効化のためのすべての図書館です。
    [\#7063](https://github.com/ClickHouse/ClickHouse/pull/7063)
    ([プロラー](https://github.com/proller))

#### コードの消去 {#code-cleanup}

-   辞書のDDLを準備するために構成リポジトリを一般化します。 [\#7155](https://github.com/ClickHouse/ClickHouse/pull/7155)
    ([アレサピン](https://github.com/alesapin))
-   任意のセマンティックなし辞書DDLのためのパーサ。
    [\#7209](https://github.com/ClickHouse/ClickHouse/pull/7209)
    ([アレサピン](https://github.com/alesapin))
-   ParserCreateQueryを別の小さなパーサーに分割します。
    [\#7253](https://github.com/ClickHouse/ClickHouse/pull/7253)
    ([アレサピン](https://github.com/alesapin))
-   外部ディクショナリの近くに小さなリファクタリングと名前変更。
    [\#7111](https://github.com/ClickHouse/ClickHouse/pull/7111)
    ([アレサピン](https://github.com/alesapin))
-   Refactor一部のコードの準備のための役割ベースのアクセス制御です。 [\#7235](https://github.com/ClickHouse/ClickHouse/pull/7235) ([ヴィタリ
    バラノフ](https://github.com/vitlibar))
-   データベースのいくつかの改善事例コード。
    [\#7086](https://github.com/ClickHouse/ClickHouse/pull/7086) ([ニキータ
    ヴァシレフ](https://github.com/nikvas0))
-   ハッシュテーブルのfind()およびemplace()メソッドで反復子を使用しないでください。
    [\#7026](https://github.com/ClickHouse/ClickHouse/pull/7026) ([Alexander
    クズメンコフ](https://github.com/akuzm))
-   パラメータrootが空でない場合のgetMultipleValuesFromConfigを修正しました。 [\#7374](https://github.com/ClickHouse/ClickHouse/pull/7374)
    ([ミハイル-コロトフ](https://github.com/millb))
-   いくつかのコピーペーストを削除します(TemporaryFileとTemporaryFileStream)
    [\#7166](https://github.com/ClickHouse/ClickHouse/pull/7166) ([Artem
    ズイコフ](https://github.com/4ertus2))
-   コードの可読性を少し改善 (`MergeTreeData::getActiveContainingPart`).
    [\#7361](https://github.com/ClickHouse/ClickHouse/pull/7361) ([Vladimir
    チェボタレフ](https://github.com/excitoon))
-   お待ちすべての予定の仕事をローカルオブジェクトの場合 `ThreadPool::schedule(...)` スロー
    例外です。 名前変更 `ThreadPool::schedule(...)` に `ThreadPool::scheduleOrThrowOnError(...)` と
    固定のコメントを明らかな場合にスロー.
    [\#7350](https://github.com/ClickHouse/ClickHouse/pull/7350)
    ([tavplubix](https://github.com/tavplubix))

## ClickHouseリリース19.15 {#clickhouse-release-19-15}

### ClickHouse Release19.15.4.10,2019年10月31日 {#clickhouse-release-19-15-4-10-2019-10-31}

#### バグ修正 {#bug-fix-3}

-   SQL\_TINYINTとSQL\_BIGINTの処理を追加し、ODBC BridgeでのSQL\_FLOATデータソース型の処理を修正しました。
    [\#7491](https://github.com/ClickHouse/ClickHouse/pull/7491) ([デニス-グラザチェフ](https://github.com/traceon))
-   において一部の部品の上に先ディスクまたはボリュームに移動がありました。
    [\#7434](https://github.com/ClickHouse/ClickHouse/pull/7434) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   ODBCブリッジによるnull許容列のNULL値を修正しました。
    [\#7402](https://github.com/ClickHouse/ClickHouse/pull/7402) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   マテリアライズ列を持つ分散非ローカルノードへの固定挿入。
    [\#7377](https://github.com/ClickHouse/ClickHouse/pull/7377) ([Azat Khuzhin](https://github.com/azat))
-   固定関数getMultipleValuesFromConfig。
    [\#7374](https://github.com/ClickHouse/ClickHouse/pull/7374) ([ミハイル-コロトフ](https://github.com/millb))
-   TCP keep alive timeoutの代わりにHTTP keep alive timeoutを使用する問題を修正しました。
    [\#7351](https://github.com/ClickHouse/ClickHouse/pull/7351) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   すべてのジョブが例外で終了するのを待ちます（まれなsegfaultsを修正します）。
    [\#7350](https://github.com/ClickHouse/ClickHouse/pull/7350) ([tavplubix](https://github.com/tavplubix))
-   カフカテーブルに挿入するときは、MVsにプッシュしないでください。
    [\#7265](https://github.com/ClickHouse/ClickHouse/pull/7265) ([イワン](https://github.com/abyss7))
-   無効メモリにトラッカーのための例外をスタックです。
    [\#7264](https://github.com/ClickHouse/ClickHouse/pull/7264) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   外部データベー
    [\#7252](https://github.com/ClickHouse/ClickHouse/pull/7252) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   MetricsTransmitterで初期化されていない値の使用を避けます。
    [\#7158](https://github.com/ClickHouse/ClickHouse/pull/7158) ([Azat Khuzhin](https://github.com/azat))
-   テスト用のマクロを使用した設定例を追加 ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.15.3.6,2019-10-09 {#clickhouse-release-19-15-3-6-2019-10-09}

#### バグ修正 {#bug-fix-4}

-   ハッシュ辞書のbad\_variantを修正しました。
    ([アレサピン](https://github.com/alesapin))
-   修正のバグと分割詳しくは動画内で、タグは付け部分を返します。
    ([アレサピン](https://github.com/alesapin))
-   固定時間計算 `MergeTreeData`.
    ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   書き込みが完了した後、明示的にKafkaにコミットします。
    [\#7175](https://github.com/ClickHouse/ClickHouse/pull/7175) ([イワン](https://github.com/abyss7))
-   MergeTreeパーツの最小/最大インデックスでNULL値を正しくシリアル化します。
    [\#7234](https://github.com/ClickHouse/ClickHouse/pull/7234) ([Alexander Kuzmenkov](https://github.com/akuzm))

### ClickHouseリリース19.15.2.2,2019-10-01 {#clickhouse-release-19-15-2-2-2019-10-01}

#### 新機能 {#new-feature-3}

-   段階のストレージへのサポート使用数量のためのテーブルMergeTreeエンジンです。 新しいデータをSSDに保存し、古いデータを自動的にHDDに移動することができます。 ([例](https://clickhouse.github.io/clickhouse-presentations/meetup30/new_features/#12)). [\#4918](https://github.com/ClickHouse/ClickHouse/pull/4918) ([Igr](https://github.com/ObjatieGroba)) [\#6489](https://github.com/ClickHouse/ClickHouse/pull/6489) ([アレサピン](https://github.com/alesapin))
-   テーブル関数の追加 `input` 入って来るデータを読むため `INSERT SELECT` クエリ。 [\#5450](https://github.com/ClickHouse/ClickHouse/pull/5450) ([パラソニック1color](https://github.com/palasonic1)) [\#6832](https://github.com/ClickHouse/ClickHouse/pull/6832) ([アントン-ポポフ](https://github.com/CurtizJ))
-   Aを追加 `sparse_hashed` 辞書レイアウトは、機能的には `hashed` レイアウトが、より効率的なメモリです。 これは、より遅い値の取得を犠牲にして約二倍少ないメモリを使用しています。 [\#6894](https://github.com/ClickHouse/ClickHouse/pull/6894) ([Azat Khuzhin](https://github.com/azat))
-   辞書にアクセスするユーザーのリストを定義する機能を実装します。 のみ接続中のデータベース。 [\#6907](https://github.com/ClickHouse/ClickHouse/pull/6907) ([ギヨーム-タッセリー](https://github.com/YiuRULE))
-   追加 `LIMIT` オプション `SHOW` クエリ。 [\#6944](https://github.com/ClickHouse/ClickHouse/pull/6944) ([フィリップ-マルコフスキー](https://github.com/malkfilipp))
-   追加 `bitmapSubsetLimit(bitmap, range_start, limit)` 最小の部分集合を返す関数 `limit` より小さくないセット内の値 `range_start`. [\#6957](https://github.com/ClickHouse/ClickHouse/pull/6957) ([Zhichang Yu](https://github.com/yuzhichang))
-   追加 `bitmapMin` と `bitmapMax` 機能。 [\#6970](https://github.com/ClickHouse/ClickHouse/pull/6970) ([Zhichang Yu](https://github.com/yuzhichang))
-   関数を追加 `repeat` 関連する [問題-6648](https://github.com/ClickHouse/ClickHouse/issues/6648) [\#6999](https://github.com/ClickHouse/ClickHouse/pull/6999) ([フリン](https://github.com/ucasFL))

#### 実験的な特徴 {#experimental-feature-1}

-   現在のパイプラインを変更しないマージ結合バリアントを実装する(メモリ内)。 結果はマージキーで部分的にソートされます。 セット `partial_merge_join = 1` この機能を使用します。 Merge Joinはまだ開発中です。 [\#6940](https://github.com/ClickHouse/ClickHouse/pull/6940) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   追加 `S3` エンジンおよびテーブル機能。 まだ開発中です（認証サポートはまだありません）。 [\#5596](https://github.com/ClickHouse/ClickHouse/pull/5596) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))

#### 改善 {#improvement-2}

-   全てのメッセージから読み込むカフカを挿入し、原子. これにより、Kafka engineのほぼすべての既知の問題が解決されます。 [\#6950](https://github.com/ClickHouse/ClickHouse/pull/6950) ([イワン](https://github.com/abyss7))
-   分散クエリのフェールオーバーの改善。 回復時間を短くして下さい、またそれは今構成可能で、見ることができます `system.clusters`. [\#6399](https://github.com/ClickHouse/ClickHouse/pull/6399) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   列挙型の数値を直接サポート `IN` セクション \#6766 [\#6941](https://github.com/ClickHouse/ClickHouse/pull/6941) ([dimarub2000](https://github.com/dimarub2000))
-   サポート（オプション、障害者によるデフォルト)のリダイレクトURLに保管します。 [\#6914](https://github.com/ClickHouse/ClickHouse/pull/6914) ([maqroll](https://github.com/maqroll))
-   古いバージョンのクライア [\#6893](https://github.com/ClickHouse/ClickHouse/pull/6893) ([フィリップ-マルコフスキー](https://github.com/malkfilipp))
-   分散テーブルでのデータ送信の最大バックオフスリープ時間制限の削除 [\#6895](https://github.com/ClickHouse/ClickHouse/pull/6895) ([Azat Khuzhin](https://github.com/azat))
-   追加送れるプイベントカウンター)との累積値をグラファイトを表してい これは `<events_cumulative>` サーバー内 `config.xml`. [\#6969](https://github.com/ClickHouse/ClickHouse/pull/6969) ([Azat Khuzhin](https://github.com/azat))
-   自動的にキャストタイプを追加 `T` に `LowCardinality(T)` 型の列にデータを挿入するとき `LowCardinality(T)` HTTP経由でネイティブ形式で。 [\#6891](https://github.com/ClickHouse/ClickHouse/pull/6891) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   機能を使用する機能を追加 `hex` 使用しないで `reinterpretAsString` のために `Float32`, `Float64`. [\#7024](https://github.com/ClickHouse/ClickHouse/pull/7024) ([ミハイル-コロトフ](https://github.com/millb))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-2}

-   デバッグ情報を使用してclickhouseバイナリにgdb-indexを追加します。 それはの起動時間をスピードアップします `gdb`. [\#6947](https://github.com/ClickHouse/ClickHouse/pull/6947) ([アレサピン](https://github.com/alesapin))
-   使用するパッチを適用されたdpkg-debによるdebパッケージングの高速化 `pigz`. [\#6960](https://github.com/ClickHouse/ClickHouse/pull/6960) ([アレサピン](https://github.com/alesapin))
-   セット `enable_fuzzing = 1` すべてのプロジェクトコードのlibfuzzer計測を有効にするには。 [\#7042](https://github.com/ClickHouse/ClickHouse/pull/7042) ([キプリゼル](https://github.com/kyprizel))
-   CIに分割ビルド煙テストを追加します。 [\#7061](https://github.com/ClickHouse/ClickHouse/pull/7061) ([アレサピン](https://github.com/alesapin))
-   CiにMemorySanitizerでビルドを追加します。 [\#7066](https://github.com/ClickHouse/ClickHouse/pull/7066) ([Alexander Kuzmenkov](https://github.com/akuzm))
-   置換 `libsparsehash` と `sparsehash-c11` [\#6965](https://github.com/ClickHouse/ClickHouse/pull/6965) ([Azat Khuzhin](https://github.com/azat))

#### バグ修正 {#bug-fix-5}

-   固定性能の劣化指標分析複雑なテンキーの大きます。 これは\#6924を修正します。 [\#7075](https://github.com/ClickHouse/ClickHouse/pull/7075) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   カフカ空のトピックから選択するとsegfaultsの原因となる論理エラーを修正しました。 [\#6909](https://github.com/ClickHouse/ClickHouse/pull/6909) ([イワン](https://github.com/abyss7))
-   早すぎるMySQL接続を修正 `MySQLBlockInputStream.cpp`. [\#6882](https://github.com/ClickHouse/ClickHouse/pull/6882) ([Clément Rodriguez](https://github.com/clemrodriguez))
-   非常に古いLinuxカーネルのサポートを返しました(修正 [\#6841](https://github.com/ClickHouse/ClickHouse/issues/6841)) [\#6853](https://github.com/ClickHouse/ClickHouse/pull/6853) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   で可能なデータ損失を修正 `insert select` 入力ストリーム内の空のブロックの場合のクエリ。 \#6834 \#6862 [\#6911](https://github.com/ClickHouse/ClickHouse/pull/6911) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   機能のための苦境 `АrrayEnumerateUniqRanked` paramsに空の配列がある場合 [\#6928](https://github.com/ClickHouse/ClickHouse/pull/6928) ([プロラー](https://github.com/proller))
-   配列結合およびグローバルサブクエリによる複雑なクエリの修正 [\#6934](https://github.com/ClickHouse/ClickHouse/pull/6934) ([イワン](https://github.com/abyss7))
-   修正 `Unknown identifier` 複数の結合によるORDER BYおよびGROUP BYのエラー [\#7022](https://github.com/ClickHouse/ClickHouse/pull/7022) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   固定 `MSan` 関数の実行中に警告 `LowCardinality` 引数。 [\#7062](https://github.com/ClickHouse/ClickHouse/pull/7062) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))

#### 下位互換性のない変更 {#backward-incompatible-change-2}

-   変更直列化形式のビットマップ\*集計機能状態の性能の向上を図ります。 直列化された状態のビットマップからは、以前のバージョン読み込むことができません。 [\#6908](https://github.com/ClickHouse/ClickHouse/pull/6908) ([Zhichang Yu](https://github.com/yuzhichang))

## ClickHouseリリース19.14 {#clickhouse-release-19-14}

### ClickHouse Release19.14.7.15,2019-10-02 {#clickhouse-release-19-14-7-15-2019-10-02}

#### バグ修正 {#bug-fix-6}

-   このリリースも含む全てのバグ修正から19.11.12.69.
-   19.14以前のバージョンの分散クエリの互換性を修正しました。 この修正 [\#7068](https://github.com/ClickHouse/ClickHouse/issues/7068). [\#7069](https://github.com/ClickHouse/ClickHouse/pull/7069) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.14.6.12,2019-09-19 {#clickhouse-release-19-14-6-12-2019-09-19}

#### バグ修正 {#bug-fix-7}

-   機能のための苦境 `АrrayEnumerateUniqRanked` paramsに空の配列があります。 [\#6928](https://github.com/ClickHouse/ClickHouse/pull/6928) ([プロラー](https://github.com/proller))
-   とクエリ内の固定サブクエリ名 `ARRAY JOIN` と `GLOBAL IN subquery` 別名を持つ。 外部テーブル名が指定されている場合は、副問合せ別名を使用します。 [\#6934](https://github.com/ClickHouse/ClickHouse/pull/6934) ([イワン](https://github.com/abyss7))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-3}

-   修正 [フラッピング](https://clickhouse-test-reports.s3.yandex.net/6944/aab95fd5175a513413c7395a73a82044bdafb906/functional_stateless_tests_(debug).html) テスト `00715_fetch_merged_or_mutated_part_zookeeper` 突然変異が適用されるのを待つ必要があるため、シェルスクリプトに書き換えることです。 [\#6977](https://github.com/ClickHouse/ClickHouse/pull/6977) ([Alexander Kazakov](https://github.com/Akazz))
-   機能の固定UBSanおよびMemSanの失敗 `groupUniqArray` emtpy配列の引数を指定します。 それは空の配置によって引き起こされた `PaddedPODArray` へのハッシュテーブルのゼロの細胞でのコンストラクターゼの細胞値ませんでした。 [\#6937](https://github.com/ClickHouse/ClickHouse/pull/6937) ([アモス鳥](https://github.com/amosbird))

### ClickHouse Release19.14.3.3,2019-09-10 {#clickhouse-release-19-14-3-3-2019-09-10}

#### 新機能 {#new-feature-4}

-   `WITH FILL` 修飾子のための `ORDER BY`. （の続き [\#5069](https://github.com/ClickHouse/ClickHouse/issues/5069)) [\#6610](https://github.com/ClickHouse/ClickHouse/pull/6610) ([アントン-ポポフ](https://github.com/CurtizJ))
-   `WITH TIES` 修飾子のための `LIMIT`. （の続き [\#5069](https://github.com/ClickHouse/ClickHouse/issues/5069)) [\#6610](https://github.com/ClickHouse/ClickHouse/pull/6610) ([アントン-ポポフ](https://github.com/CurtizJ))
-   引用符なしの解析 `NULL` NULLとしてリテラル(設定の場合 `format_csv_unquoted_null_literal_as_null=1`). このフィールドのデータ型がnull許容でない場合（設定の場合）、nullフィールドを既定値で初期化します `input_format_null_as_default=1`). [\#5990](https://github.com/ClickHouse/ClickHouse/issues/5990) [\#6055](https://github.com/ClickHouse/ClickHouse/pull/6055) ([tavplubix](https://github.com/tavplubix))
-   表関数のパスでのワイルドカードのサポート `file` と `hdfs`. パスにワイルドカードが含まれる場合、テーブルはreadonlyになります。 使用例: `select * from hdfs('hdfs://hdfs1:9000/some_dir/another_dir/*/file{0..9}{0..9}')` と `select * from file('some_dir/{some_file,another_file,yet_another}.tsv', 'TSV', 'value UInt32')`. [\#6092](https://github.com/ClickHouse/ClickHouse/pull/6092) ([Olga Khvostikova](https://github.com/stavrolia))
-   新しい `system.metric_log` の値を格納するテーブル `system.events` と `system.metrics` 指定された時間間隔で。 [\#6363](https://github.com/ClickHouse/ClickHouse/issues/6363) [\#6467](https://github.com/ClickHouse/ClickHouse/pull/6467) ([ニキータ-ミハイロフ](https://github.com/nikitamikhaylov)) [\#6530](https://github.com/ClickHouse/ClickHouse/pull/6530) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ClickHouseテキストログの書き込みを許可する `system.text_log` テーブル。 [\#6037](https://github.com/ClickHouse/ClickHouse/issues/6037) [\#6103](https://github.com/ClickHouse/ClickHouse/pull/6103) ([ニキータ-ミハイロフ](https://github.com/nikitamikhaylov)) [\#6164](https://github.com/ClickHouse/ClickHouse/pull/6164) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ショー民間のシンボルスタックトレース（ターを通じて構文解析シンボルテーブルのELFファイル). 追加情報ファイルと行番号をスタックトレースの場合のデバッグ情報があります。 高速シンボル名のルックアップインデックスの記号が存在します。 内観のための新しいSQL関数を追加しました: `demangle` と `addressToLine`. 名前変更された関数 `symbolizeAddress` に `addressToSymbol` 一貫性のために。 関数 `addressToSymbol` パフォーマンス上の理由から壊れた名前を返し、適用する必要があります `demangle`. 設定を追加 `allow_introspection_functions` デフォルトではオフになっています。 [\#6201](https://github.com/ClickHouse/ClickHouse/pull/6201) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   テーブル関数 `values` (名前は大文字と小文字を区別しません)。 ることができるから読み込む `VALUES` で提案されたリスト [\#5984](https://github.com/ClickHouse/ClickHouse/issues/5984). 例: `SELECT * FROM VALUES('a UInt64, s String', (1, 'one'), (2, 'two'), (3, 'three'))`. [\#6217](https://github.com/ClickHouse/ClickHouse/issues/6217). [\#6209](https://github.com/ClickHouse/ClickHouse/pull/6209) ([dimarub2000](https://github.com/dimarub2000))
-   ストレージ設定を変更する機能を追加しました。 構文: `ALTER TABLE <table> MODIFY SETTING <setting> = <value>`. [\#6366](https://github.com/ClickHouse/ClickHouse/pull/6366) [\#6669](https://github.com/ClickHouse/ClickHouse/pull/6669) [\#6685](https://github.com/ClickHouse/ClickHouse/pull/6685) ([アレサピン](https://github.com/alesapin))
-   孤立した部品の取除くためのサポート。 構文: `ALTER TABLE <table_name> DROP DETACHED PART '<part_id>'`. [\#6158](https://github.com/ClickHouse/ClickHouse/pull/6158) ([tavplubix](https://github.com/tavplubix))
-   テーブル制約。 挿入時にチェックされるテーブル定義に制約を追加することができます。 [\#5273](https://github.com/ClickHouse/ClickHouse/pull/5273) ([グレブ-ノビコフ](https://github.com/NanoBjorn)) [\#6652](https://github.com/ClickHouse/ClickHouse/pull/6652) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   カスケードマテリアライズドビューのSuppport。 [\#6324](https://github.com/ClickHouse/ClickHouse/pull/6324) ([アモス鳥](https://github.com/amosbird))
-   On queryプロファイラのデフォルトでサンプル毎にクエリの実行スレッドだ。 [\#6283](https://github.com/ClickHouse/ClickHouse/pull/6283) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   入力形式 `ORC`. [\#6454](https://github.com/ClickHouse/ClickHouse/pull/6454) [\#6703](https://github.com/ClickHouse/ClickHouse/pull/6703) ([akonyaev90](https://github.com/akonyaev90))
-   二つの新機能を追加しました: `sigmoid` と `tanh` （機械学習アプリケーションに役立ちます）。 [\#6254](https://github.com/ClickHouse/ClickHouse/pull/6254) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   関数 `hasToken(haystack, token)`, `hasTokenCaseInsensitive(haystack, token)` 指定されたトークンがhaystackにあるかどうかを確認する。 トークンは、英数字でないASCII文字（またはhaystackの境界）の間の最大長の部分文字列です。 Tokenは定数文字列である必要があります。 Tokenbf\_v1インデックス特殊化でサポートされます。 [\#6596](https://github.com/ClickHouse/ClickHouse/pull/6596), [\#6662](https://github.com/ClickHouse/ClickHouse/pull/6662) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   新しい機能 `neighbor(value, offset[, default_value])`. データのブロック内の列内の前/次の値に到達することができます。 [\#5925](https://github.com/ClickHouse/ClickHouse/pull/5925) ([Alex Krash](https://github.com/alex-krash)) [6685365ab8c5b74f9650492c88a012596eb1b0c6](https://github.com/ClickHouse/ClickHouse/commit/6685365ab8c5b74f9650492c88a012596eb1b0c6) [341e2e4587a18065c2da1ca888c73389f48ce36c](https://github.com/ClickHouse/ClickHouse/commit/341e2e4587a18065c2da1ca888c73389f48ce36c) [アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov)
-   関数の作成 `currentUser()`、許可されたユーザのログインを返す。 エイリアスを追加 `user()` MySQLとの互換性のため。 [\#6470](https://github.com/ClickHouse/ClickHouse/pull/6470) ([Alex Krash](https://github.com/alex-krash))
-   新しい集計関数 `quantilesExactInclusive` と `quantilesExactExclusive` で提案された [\#5885](https://github.com/ClickHouse/ClickHouse/issues/5885). [\#6477](https://github.com/ClickHouse/ClickHouse/pull/6477) ([dimarub2000](https://github.com/dimarub2000))
-   関数 `bitmapRange(bitmap, range_begin, range_end)` 指定された範囲を持つ新しいセットを返します。 `range_end`). [\#6314](https://github.com/ClickHouse/ClickHouse/pull/6314) ([Zhichang Yu](https://github.com/yuzhichang))
-   関数 `geohashesInBox(longitude_min, latitude_min, longitude_max, latitude_max, precision)` これは、提供された領域をカバーするgeohashボックスの精度の長い文字列の配列を作成します。 [\#6127](https://github.com/ClickHouse/ClickHouse/pull/6127) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   挿入クエリのサポートを実装する `Kafka` テーブル [\#6012](https://github.com/ClickHouse/ClickHouse/pull/6012) ([イワン](https://github.com/abyss7))
-   追加されたサポート `_partition` と `_timestamp` カフカエンジンへの仮想列。 [\#6400](https://github.com/ClickHouse/ClickHouse/pull/6400) ([イワン](https://github.com/abyss7))
-   から機密データを削除する可能性 `query_log`、サーバーログ、regexpベースのルールを持つプロセスリスト。 [\#5710](https://github.com/ClickHouse/ClickHouse/pull/5710) ([フィリモノフ](https://github.com/filimonov))

#### 実験的な特徴 {#experimental-feature-2}

-   入出力データ形式 `Template`. これは、入力と出力のカスタム書式文字列を指定することができます。 [\#4354](https://github.com/ClickHouse/ClickHouse/issues/4354) [\#6727](https://github.com/ClickHouse/ClickHouse/pull/6727) ([tavplubix](https://github.com/tavplubix))
-   の実装 `LIVE VIEW` 最初に提案されたテーブル [\#2898](https://github.com/ClickHouse/ClickHouse/pull/2898)、で調製 [\#3925](https://github.com/ClickHouse/ClickHouse/issues/3925) で更新されます。 [\#5541](https://github.com/ClickHouse/ClickHouse/issues/5541). 見る [\#5541](https://github.com/ClickHouse/ClickHouse/issues/5541) 詳細な説明のため。 [\#5541](https://github.com/ClickHouse/ClickHouse/issues/5541) ([ヴザカズニコフ](https://github.com/vzakaznikov)) [\#6425](https://github.com/ClickHouse/ClickHouse/pull/6425) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai)) [\#6656](https://github.com/ClickHouse/ClickHouse/pull/6656) ([ヴザカズニコフ](https://github.com/vzakaznikov)）なお `LIVE VIEW` 特集は削除される可能性があり、来できます。

#### バグ修正 {#bug-fix-8}

-   このリリースには、19.13と19.11のすべてのバグ修正も含まれています。
-   固定の区分断層のテーブルはスキップ指標および垂直統合などが挙げられる。 [\#6723](https://github.com/ClickHouse/ClickHouse/pull/6723) ([アレサピン](https://github.com/alesapin))
-   非自明な列のデフォルトで列ごとのTTLを修正しました。 以前は強制TTLマージの場合 `OPTIMIZE ... FINAL` クエリー、終了しました値に置き換えられたタイプのデフォルトの代わりにユーザが指定した列のデフォルトする [\#6796](https://github.com/ClickHouse/ClickHouse/pull/6796) ([アントン-ポポフ](https://github.com/CurtizJ))
-   固定カフカメッセージの複製問題が通常のサーバを再起動します。 [\#6597](https://github.com/ClickHouse/ClickHouse/pull/6597) ([イワン](https://github.com/abyss7))
-   カフカメッセージを読み取るときに固定無限ループ。 そうしないと、一部のシナリオで無期限に一時停止されることがあります。 [\#6354](https://github.com/ClickHouse/ClickHouse/pull/6354) ([イワン](https://github.com/abyss7))
-   修正 `Key expression contains comparison between inconvertible types` 例外 `bitmapContains` 機能。 [\#6136](https://github.com/ClickHouse/ClickHouse/issues/6136) [\#6146](https://github.com/ClickHouse/ClickHouse/issues/6146) [\#6156](https://github.com/ClickHouse/ClickHouse/pull/6156) ([dimarub2000](https://github.com/dimarub2000))
-   有効でsegfaultを修正 `optimize_skip_unused_shards` シャーディングキーがない [\#6384](https://github.com/ClickHouse/ClickHouse/pull/6384) ([アントン-ポポフ](https://github.com/CurtizJ))
-   固定の間違ったコードに変異のありメモリが破損す アドレスの読み取りで固定segfault `0x14c0` それは同時に起こった可能性があります `DROP TABLE` と `SELECT` から `system.parts` または `system.parts_columns`. 突然変異クエリの準備における競合状態を修正しました。 によるデッドロックを修正 `OPTIMIZE` 変更のようなレプリケートされたテーブルと同時変更操作の。 [\#6514](https://github.com/ClickHouse/ClickHouse/pull/6514) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   MySQLインターフェイスで余分な冗長ロギングを削除 [\#6389](https://github.com/ClickHouse/ClickHouse/pull/6389) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ブール値の設定を解析する機能を返します ‘true’ と ‘false’ 設定ファイル内。 [\#6278](https://github.com/ClickHouse/ClickHouse/pull/6278) ([アレサピン](https://github.com/alesapin))
-   でクラッシュを修正 `quantile` と `median` 関数オーバー `Nullable(Decimal128)`. [\#6378](https://github.com/ClickHouse/ClickHouse/pull/6378) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   によって返される不完全な結果を修正 `SELECT` クエリ `WHERE` 主キーの条件に浮動小数点型への変換が含まれていました。 これは単調性の誤ったチェックによって引き起こされた `toFloat` 機能。 [\#6248](https://github.com/ClickHouse/ClickHouse/issues/6248) [\#6374](https://github.com/ClickHouse/ClickHouse/pull/6374) ([dimarub2000](https://github.com/dimarub2000))
-   チェック `max_expanded_ast_elements` 突然変異の設定。 後の明確な突然変異 `TRUNCATE TABLE`. [\#6205](https://github.com/ClickHouse/ClickHouse/pull/6205) ([冬張](https://github.com/zhang2014))
-   キー列の結合結果を修正 `join_use_nulls`. 列の既定値の代わりにNullを添付します。 [\#6249](https://github.com/ClickHouse/ClickHouse/pull/6249) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   垂直マージと変更とスキップインデックスの修正。 のための修正 `Bad size of marks file` 例外だ [\#6594](https://github.com/ClickHouse/ClickHouse/issues/6594) [\#6713](https://github.com/ClickHouse/ClickHouse/pull/6713) ([アレサピン](https://github.com/alesapin))
-   で珍しいクラッシュを修正 `ALTER MODIFY COLUMN` マージされた/変更された部分のいずれかが空の場合（0行）、垂直マージ) [\#6746](https://github.com/ClickHouse/ClickHouse/issues/6746) [\#6780](https://github.com/ClickHouse/ClickHouse/pull/6780) ([アレサピン](https://github.com/alesapin))
-   の変換のバグを修正しました `LowCardinality` タイプ `AggregateFunctionFactory`. この修正 [\#6257](https://github.com/ClickHouse/ClickHouse/issues/6257). [\#6281](https://github.com/ClickHouse/ClickHouse/pull/6281) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   間違った動作と可能なsegfaultsを修正 `topK` と `topKWeighted` 集計関数。 [\#6404](https://github.com/ClickHouse/ClickHouse/pull/6404) ([アントン-ポポフ](https://github.com/CurtizJ))
-   安全でないコードを修正 `getIdentifier` 機能。 [\#6401](https://github.com/ClickHouse/ClickHouse/issues/6401) [\#6409](https://github.com/ClickHouse/ClickHouse/pull/6409) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   問題を修正しましたMySQLのワイヤーロを使用すると接続するClickHouse形MySQLクライアント). によるヒープバッファオーバーフロー `PacketPayloadWriteBuffer`. [\#6212](https://github.com/ClickHouse/ClickHouse/pull/6212) ([ユーリー-バラノフ](https://github.com/yurriy))
-   修正されたメモリリーク `bitmapSubsetInRange` 機能。 [\#6819](https://github.com/ClickHouse/ClickHouse/pull/6819) ([Zhichang Yu](https://github.com/yuzhichang))
-   粒度の変更後に突然変異が実行される珍しいバグを修正しました。 [\#6816](https://github.com/ClickHouse/ClickHouse/pull/6816) ([アレサピン](https://github.com/alesapin))
-   きprotobufメッセージの全ての分野でのデフォルトです。 [\#6132](https://github.com/ClickHouse/ClickHouse/pull/6132) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   バグを解決する `nullIf` 私達がaを送る場合の機能 `NULL` 第二の引数の引数。 [\#6446](https://github.com/ClickHouse/ClickHouse/pull/6446) ([ギヨーム-タッセリー](https://github.com/YiuRULE))
-   無限のメモリ消費（メモリリークのように見える）につながる文字列フィールドを持つ複雑なキーキャッシュ辞書で間違ったメモリ割り当て/割り当て解除 バグは、文字列のサイズが八から始まる二の累乗（8、16、32など）だったときに再現します。 [\#6447](https://github.com/ClickHouse/ClickHouse/pull/6447) ([アレサピン](https://github.com/alesapin))
-   固定Gorillaエンコーディングの小型配列により例外 `Cannot write after end of buffer`. [\#6398](https://github.com/ClickHouse/ClickHouse/issues/6398) [\#6444](https://github.com/ClickHouse/ClickHouse/pull/6444) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   結合でnull許容できない型を使用できるようにする `join_use_nulls` 有効。 [\#6705](https://github.com/ClickHouse/ClickHouse/pull/6705) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   無効にする `Poco::AbstractConfiguration` クエリ内の置換 `clickhouse-client`. [\#6706](https://github.com/ClickHouse/ClickHouse/pull/6706) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   でデッドロックを回避 `REPLACE PARTITION`. [\#6677](https://github.com/ClickHouse/ClickHouse/pull/6677) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   を使用して `arrayReduce` 定数引数の場合、segfaultにつながる可能性があります。 [\#6242](https://github.com/ClickHouse/ClickHouse/issues/6242) [\#6326](https://github.com/ClickHouse/ClickHouse/pull/6326) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   後にレプリカが復元された場合に表示される矛盾した部分を修正 `DROP PARTITION`. [\#6522](https://github.com/ClickHouse/ClickHouse/issues/6522) [\#6523](https://github.com/ClickHouse/ClickHouse/pull/6523) ([tavplubix](https://github.com/tavplubix))
-   固定ハングイン `JSONExtractRaw` 機能。 [\#6195](https://github.com/ClickHouse/ClickHouse/issues/6195) [\#6198](https://github.com/ClickHouse/ClickHouse/pull/6198) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正のバグと誤ったスキップ指数の直列化を行い、その凝集と適応粒度. [\#6594](https://github.com/ClickHouse/ClickHouse/issues/6594). [\#6748](https://github.com/ClickHouse/ClickHouse/pull/6748) ([アレサピン](https://github.com/alesapin))
-   修正 `WITH ROLLUP` と `WITH CUBE` の修飾子 `GROUP BY` 二レベルの集計を使って。 [\#6225](https://github.com/ClickHouse/ClickHouse/pull/6225) ([アントン-ポポフ](https://github.com/CurtizJ))
-   適応粒度で二次インデックスマークを書くとバグを修正しました。 [\#6126](https://github.com/ClickHouse/ClickHouse/pull/6126) ([アレサピン](https://github.com/alesapin))
-   サーバーの起動時に初期化の順序を修正しました。 以来 `StorageMergeTree::background_task_handle` で初期化される。 `startup()` その `MergeTreeBlockOutputStream::write()` 初期化の前に使用しようとする可能性があります。 すぐチェックインの場合は初期化されます。 [\#6080](https://github.com/ClickHouse/ClickHouse/pull/6080) ([イワン](https://github.com/abyss7))
-   エラーで完了した前の読み取り操作からデータバッファをクリアします。 [\#6026](https://github.com/ClickHouse/ClickHouse/pull/6026) ([ニコライ](https://github.com/bopohaa))
-   固定バを適応的粒度を新規作成時のレプリカのための複製\*MergeTreeます。 [\#6394](https://github.com/ClickHouse/ClickHouse/issues/6394) [\#6452](https://github.com/ClickHouse/ClickHouse/pull/6452) ([アレサピン](https://github.com/alesapin))
-   例外が発生した場合にサーバーの起動時にクラッシュする可能性を修正 `libunwind` 未初期化へのアクセス時の例外中 `ThreadStatus` 構造。 [\#6456](https://github.com/ClickHouse/ClickHouse/pull/6456) ([ニキータ-ミハイロフ](https://github.com/nikitamikhaylov))
-   でクラッシュを修正 `yandexConsistentHash` 機能。 ファズテストによって発見。 [\#6304](https://github.com/ClickHouse/ClickHouse/issues/6304) [\#6305](https://github.com/ClickHouse/ClickHouse/pull/6305) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定の可能性を掛けのクエリがサーバが過負荷状態で運転され、グローバルスレッドプールが近い。 これは、分散クエリが各シャードに接続ごとにスレッドを割り当てるため、多数のシャード(数百)を持つクラスターで発生する可能性が高くなります。 例えば、この問題が再現場クラスターの330の破片が処理を同時30分布します。 この問題は19.2以降のすべてのバージョンに影響します。 [\#6301](https://github.com/ClickHouse/ClickHouse/pull/6301) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   の固定ロジック `arrayEnumerateUniqRanked` 機能。 [\#6423](https://github.com/ClickHouse/ClickHouse/pull/6423) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定segfaultデコードする際のシンボル。 [\#6603](https://github.com/ClickHouse/ClickHouse/pull/6603) ([アモス鳥](https://github.com/amosbird))
-   キャストの無関係な例外を修正しました `LowCardinality(Nullable)` to not-Nullable column in case if it doesn't contain Nulls (e.g. in query like `SELECT CAST(CAST('Hello' AS LowCardinality(Nullable(String))) AS String)`. [\#6094](https://github.com/ClickHouse/ClickHouse/issues/6094) [\#6119](https://github.com/ClickHouse/ClickHouse/pull/6119) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   の説明の余分な引用を削除しました `system.settings` テーブル。 [\#6696](https://github.com/ClickHouse/ClickHouse/issues/6696) [\#6699](https://github.com/ClickHouse/ClickHouse/pull/6699) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   で可能なデッドロックを回避 `TRUNCATE` 複製されたテーブルの。 [\#6695](https://github.com/ClickHouse/ClickHouse/pull/6695) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ソートキーの順に読み取りを修正しました。 [\#6189](https://github.com/ClickHouse/ClickHouse/pull/6189) ([アントン-ポポフ](https://github.com/CurtizJ))
-   修正 `ALTER TABLE ... UPDATE` テーブルのクエリ `enable_mixed_granularity_parts=1`. [\#6543](https://github.com/ClickHouse/ClickHouse/pull/6543) ([アレサピン](https://github.com/alesapin))
-   で開かれたバグを修正 [\#4405](https://github.com/ClickHouse/ClickHouse/pull/4405) （19.4.0以降）。 列を照会しないときに、MergeTreeテーブル上の分散テーブルへのクエリを再現します (`SELECT 1`). [\#6236](https://github.com/ClickHouse/ClickHouse/pull/6236) ([アレサピン](https://github.com/alesapin))
-   符号付き型から符号なし型への整数除算でのオーバーフローを修正。 この動作は、cまたはC++言語（整数昇格規則）とまったく同じで、驚くべきことです。 大きな符号付き数値を大きな符号なし数値に分割する場合、またはその逆に分割する場合は、オーバーフローが可能であることに注意してください（ただし、 の問題が全てのサーバーのバージョン [\#6214](https://github.com/ClickHouse/ClickHouse/issues/6214) [\#6233](https://github.com/ClickHouse/ClickHouse/pull/6233) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   スロットルの最大スリープ時間を制限する場合 `max_execution_speed` または `max_execution_speed_bytes` 設定されています。 固定falseのようなエラー `Estimated query execution time (inf seconds) is too long`. [\#5547](https://github.com/ClickHouse/ClickHouse/issues/5547) [\#6232](https://github.com/ClickHouse/ClickHouse/pull/6232) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   使用に関する問題を修正 `MATERIALIZED` 列とエイリアス `MaterializedView`. [\#448](https://github.com/ClickHouse/ClickHouse/issues/448) [\#3484](https://github.com/ClickHouse/ClickHouse/issues/3484) [\#3450](https://github.com/ClickHouse/ClickHouse/issues/3450) [\#2878](https://github.com/ClickHouse/ClickHouse/issues/2878) [\#2285](https://github.com/ClickHouse/ClickHouse/issues/2285) [\#3796](https://github.com/ClickHouse/ClickHouse/pull/3796) ([アモス鳥](https://github.com/amosbird)) [\#6316](https://github.com/ClickHouse/ClickHouse/pull/6316) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正 `FormatFactory` プロセッサとして実装されていない入力ストリームの動作。 [\#6495](https://github.com/ClickHouse/ClickHouse/pull/6495) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   タイプミスを修正。 [\#6631](https://github.com/ClickHouse/ClickHouse/pull/6631) ([アレックス-リンディン](https://github.com/alexryndin))
-   エラーメッセージの入力ミス(is-\>are)。 [\#6839](https://github.com/ClickHouse/ClickHouse/pull/6839) ([デニス-ジュラヴレフ](https://github.com/den-crane))
-   Typeにカンマが含まれている場合、stringからの列リストの解析中にエラーが修正されました（この問題は `File`, `URL`, `HDFS` ストレージ) [\#6217](https://github.com/ClickHouse/ClickHouse/issues/6217). [\#6209](https://github.com/ClickHouse/ClickHouse/pull/6209) ([dimarub2000](https://github.com/dimarub2000))

#### セキュリティ修正 {#security-fix}

-   このリリースも含む全てのバグのセキュリティ修正をか19.13と19.11.
-   固定の可能性に作製したクエリがサーバのクラッシュによるスタックオーバーフローアプリケーションパーサです。 固定の可能性スタックオーバーフローに統合、配布し、テーブルが現実の景色の件本件は、行レベルのセキュリティなサブクエリ. [\#6433](https://github.com/ClickHouse/ClickHouse/pull/6433) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 改善 {#improvement-3}

-   のための三項論理の正しい実装 `AND/OR`. [\#6048](https://github.com/ClickHouse/ClickHouse/pull/6048) ([Alexander Kazakov](https://github.com/Akazz))
-   有効期限が切れたTTLの値と行は、次のように削除されます `OPTIMIZE ... FINAL` query from old parts without TTL infos or with outdated TTL infos, e.g. after `ALTER ... MODIFY TTL` クエリ。 クエリの追加 `SYSTEM STOP/START TTL MERGES` 可に/を割り当てを合併TTLおよびフィルター終了しました値をすべてが合併。 [\#6274](https://github.com/ClickHouse/ClickHouse/pull/6274) ([アントン-ポポフ](https://github.com/CurtizJ))
-   使用してクライアントのClickHouse履歴ファイルの場所を変更する可能性 `CLICKHOUSE_HISTORY_FILE` env. [\#6840](https://github.com/ClickHouse/ClickHouse/pull/6840) ([フィリモノフ](https://github.com/filimonov))
-   削除 `dry_run` からの旗 `InterpreterSelectQuery`. … [\#6375](https://github.com/ClickHouse/ClickHouse/pull/6375) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   サポート `ASOF JOIN` と `ON` セクション [\#6211](https://github.com/ClickHouse/ClickHouse/pull/6211) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   よりよい支援をスキップ指数の突然変異およびます。 のサポート `MATERIALIZE/CLEAR INDEX ... IN PARTITION` クエリ。 `UPDATE x = x` recalculatesすべての指標を使用するカラム `x`. [\#5053](https://github.com/ClickHouse/ClickHouse/pull/5053) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   許可する `ATTACH` ライブビュー(たとえば、サーバー起動時)に関係なく `allow_experimental_live_view` 設定。 [\#6754](https://github.com/ClickHouse/ClickHouse/pull/6754) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   のためのスタックトレースに集まるエリプロファイラに含まれているものも含むスタックフレームが発生するqueryプロファイラです。 [\#6250](https://github.com/ClickHouse/ClickHouse/pull/6250) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   今すぐテーブル関数 `values`, `file`, `url`, `hdfs` 別名の列をサポートしています。 [\#6255](https://github.com/ClickHouse/ClickHouse/pull/6255) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   例外をスローする場合 `config.d` fileには、設定ファイルとして対応するルート要素がありません。 [\#6123](https://github.com/ClickHouse/ClickHouse/pull/6123) ([dimarub2000](https://github.com/dimarub2000))
-   のための例外メッセージに余分な情報を印刷 `no space left on device`. [\#6182](https://github.com/ClickHouse/ClickHouse/issues/6182), [\#6252](https://github.com/ClickHouse/ClickHouse/issues/6252) [\#6352](https://github.com/ClickHouse/ClickHouse/pull/6352) ([tavplubix](https://github.com/tavplubix))
-   のシャードを決定するとき `Distributed` 読み取りクエリでカバーされるテーブル `optimize_skip_unused_shards` =1)ClickHouseは今両方からの条件を点検します `prewhere` と `where` select文の句。 [\#6521](https://github.com/ClickHouse/ClickHouse/pull/6521) ([Alexander Kazakov](https://github.com/Akazz))
-   有効 `SIMDJSON` AVX2のないしかしSSE4.2およびPCLMULの指示セットが付いている機械のため。 [\#6285](https://github.com/ClickHouse/ClickHouse/issues/6285) [\#6320](https://github.com/ClickHouse/ClickHouse/pull/6320) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ClickHouseはファイルシステムで `O_DIRECT` 追加のチューニングなしのサポート(ZFSやBtrFSなど)。 [\#4449](https://github.com/ClickHouse/ClickHouse/issues/4449) [\#6730](https://github.com/ClickHouse/ClickHouse/pull/6730) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   最終サブクエリのプッシュダウン述語をサポート。 [\#6120](https://github.com/ClickHouse/ClickHouse/pull/6120) ([Tシーズン](https://github.com/TCeason)) [\#6162](https://github.com/ClickHouse/ClickHouse/pull/6162) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   より良い `JOIN ON` キー抽出 [\#6131](https://github.com/ClickHouse/ClickHouse/pull/6131) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   Upated `SIMDJSON`. [\#6285](https://github.com/ClickHouse/ClickHouse/issues/6285). [\#6306](https://github.com/ClickHouse/ClickHouse/pull/6306) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   最小の列の選択を最適化する `SELECT count()` クエリ。 [\#6344](https://github.com/ClickHouse/ClickHouse/pull/6344) ([アモス鳥](https://github.com/amosbird))
-   追加 `strict` パラメータin `windowFunnel()`. ときに `strict` は、 `windowFunnel()` 一意の値にのみ条件を適用します。 [\#6548](https://github.com/ClickHouse/ClickHouse/pull/6548) ([アチンバ州](https://github.com/achimbab))
-   より安全なインタフェース `mysqlxx::Pool`. [\#6150](https://github.com/ClickHouse/ClickHouse/pull/6150) ([アヴァシリエフ](https://github.com/avasiliev))
-   オプションの行サイズ `--help` オプションに対応した端末のサイズです。 [\#6590](https://github.com/ClickHouse/ClickHouse/pull/6590) ([dimarub2000](https://github.com/dimarub2000))
-   無効にする “read in order” キーなしの集計の最適化。 [\#6599](https://github.com/ClickHouse/ClickHouse/pull/6599) ([アントン-ポポフ](https://github.com/CurtizJ))
-   HTTPステータスコード `INCORRECT_DATA` と `TYPE_MISMATCH` エラーコードをデフォルトから変更 `500 Internal Server Error` に `400 Bad Request`. [\#6271](https://github.com/ClickHouse/ClickHouse/pull/6271) ([アレクサンドロダン](https://github.com/a-rodin))
-   結合オブジェクトの移動 `ExpressionAction` に `AnalyzedJoin`. `ExpressionAnalyzer` と `ExpressionAction` 知らない `Join` もう授業だ その論理は `AnalyzedJoin` アイフェイス [\#6801](https://github.com/ClickHouse/ClickHouse/pull/6801) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   固定可能な行き詰まりの分散クエリーの資料はlocalhostでのクエリを送ネットワーク経由で接続します。 [\#6759](https://github.com/ClickHouse/ClickHouse/pull/6759) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   複数のテーブルの意味を変更 `RENAME` 可能なデッドロックを避けるため。 [\#6757](https://github.com/ClickHouse/ClickHouse/issues/6757). [\#6756](https://github.com/ClickHouse/ClickHouse/pull/6756) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   書き換えMySQLサーバーの互換性防止への負荷フルパケットペイロードに。 各接続のメモリ消費を約 `2 * DBMS_DEFAULT_BUFFER_SIZE` (読み取り/書き込みバッファ)。 [\#5811](https://github.com/ClickHouse/ClickHouse/pull/5811) ([ユーリー-バラノフ](https://github.com/yurriy))
-   クエリセマンティクスについて何も知らなくてもパーサーからAST別名の解釈ロジックを移動します。 [\#6108](https://github.com/ClickHouse/ClickHouse/pull/6108) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   もう少し安全な解析 `NamesAndTypesList`. [\#6408](https://github.com/ClickHouse/ClickHouse/issues/6408). [\#6410](https://github.com/ClickHouse/ClickHouse/pull/6410) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   `clickhouse-copier`:使用を許可 `where_condition` 設定から `partition_key` エイリアスクエリのためのチェック分配の存在についても同様とすでに使用されただけでデータを読み込むクエリ). [\#6577](https://github.com/ClickHouse/ClickHouse/pull/6577) ([プロラー](https://github.com/proller))
-   オプションのメッセージ引数を `throwIf`. ([\#5772](https://github.com/ClickHouse/ClickHouse/issues/5772)) [\#6329](https://github.com/ClickHouse/ClickHouse/pull/6329) ([Vdimir](https://github.com/Vdimir))
-   挿入データの送信中にサーバー例外が発生し、クライアントでも処理されます。 [\#5891](https://github.com/ClickHouse/ClickHouse/issues/5891) [\#6711](https://github.com/ClickHouse/ClickHouse/pull/6711) ([dimarub2000](https://github.com/dimarub2000))
-   指標を追加 `DistributedFilesToInsert` その総数のファイルをファイルシステムを送信リモートサーバーに配布します。 この数は、すべてのシャードで合計されます。 [\#6600](https://github.com/ClickHouse/ClickHouse/pull/6600) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ほとんどの結合の移動準備ロジックから `ExpressionAction/ExpressionAnalyzer` に `AnalyzedJoin`. [\#6785](https://github.com/ClickHouse/ClickHouse/pull/6785) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   ツァンを修正 [警告](https://clickhouse-test-reports.s3.yandex.net/6399/c1c1d1daa98e199e620766f1bd06a5921050a00d/functional_stateful_tests_(thread).html) ‘lock-order-inversion’. [\#6740](https://github.com/ClickHouse/ClickHouse/pull/6740) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   Linuxの機能の欠如に関するより良い情報メッセージ。 致命的なエラーのログ “fatal” レベルとして迎えることを見 `system.text_log`. [\#6441](https://github.com/ClickHouse/ClickHouse/pull/6441) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ディスクへの一時データのダンプを有効にして、メモリ使用量を制限する場合 `GROUP BY`, `ORDER BY` ディスクの空き容量をチェックしませんでした。 修正は、新しい設定を追加します `min_free_disk_space`、空きディスク領域は、それがしきい値より小さい場合、クエリが停止し、スローされます `ErrorCodes::NOT_ENOUGH_SPACE`. [\#6678](https://github.com/ClickHouse/ClickHouse/pull/6678) ([Weiqing Xu](https://github.com/weiqxu)) [\#6691](https://github.com/ClickHouse/ClickHouse/pull/6691) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   スレッドによる再帰rwlockを削除しました。 スレッドはクエリ間で再利用されるため、意味がありません。 `SELECT` クエリがロックを取得するスレッド、ロックから別のスレッドの出口から。 同時に、最初のスレッドは次のように再利用できます `DROP` クエリ。 これはfalseにつながります “Attempt to acquire exclusive lock recursively” メッセージ [\#6771](https://github.com/ClickHouse/ClickHouse/pull/6771) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   分割 `ExpressionAnalyzer.appendJoin()`. 場所を準備する `ExpressionAnalyzer` のために `MergeJoin`. [\#6524](https://github.com/ClickHouse/ClickHouse/pull/6524) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   追加 `mysql_native_password` MySQL互換サーバーへの認証プラグイン。 [\#6194](https://github.com/ClickHouse/ClickHouse/pull/6194) ([ユーリー-バラノフ](https://github.com/yurriy))
-   より少ない数の `clock_gettime` デバッグ/リリース間のABIの互換性を修正しました。 `Allocator` （重要でない問題）。 [\#6197](https://github.com/ClickHouse/ClickHouse/pull/6197) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   移動 `collectUsedColumns` から `ExpressionAnalyzer` に `SyntaxAnalyzer`. `SyntaxAnalyzer` 作る `required_source_columns` 今自体。 [\#6416](https://github.com/ClickHouse/ClickHouse/pull/6416) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   設定を追加 `joined_subquery_requires_alias` サブセレクトおよびテーブル関数にエイリアスを要求するには `FROM` that more than one table is present (i.e. queries with JOINs). [\#6733](https://github.com/ClickHouse/ClickHouse/pull/6733) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   抽出 `GetAggregatesVisitor` クラスから `ExpressionAnalyzer`. [\#6458](https://github.com/ClickHouse/ClickHouse/pull/6458) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   `system.query_log`:データ型の変更 `type` 列へ `Enum`. [\#6265](https://github.com/ClickHouse/ClickHouse/pull/6265) ([ニキータ-ミハイロフ](https://github.com/nikitamikhaylov))
-   の静的リンク `sha256_password` 認証プラグイン。 [\#6512](https://github.com/ClickHouse/ClickHouse/pull/6512) ([ユーリー-バラノフ](https://github.com/yurriy))
-   設定の余分な依存関係を避ける `compile` 仕事に 以前のバージョンでは、 `cannot open crti.o`, `unable to find library -lc` 等。 [\#6309](https://github.com/ClickHouse/ClickHouse/pull/6309) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   悪意のあるレプリカから来る可能性のある入力のより多くの検証。 [\#6303](https://github.com/ClickHouse/ClickHouse/pull/6303) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   さて `clickhouse-obfuscator` ファイルは `clickhouse-client` パッケージ。 以前のバージョンでは `clickhouse obfuscator` （空白付き）。 [\#5816](https://github.com/ClickHouse/ClickHouse/issues/5816) [\#6609](https://github.com/ClickHouse/ClickHouse/pull/6609) ([dimarub2000](https://github.com/dimarub2000))
-   私たちは、異なる順序で少なくとも二つのテーブルを読み取り、いずれかのテーブルにDDL操作を実行する別のクエリを少なくとも二つのクエリを持って 非常に稀なデッドロックを修正しました。 [\#6764](https://github.com/ClickHouse/ClickHouse/pull/6764) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   追加 `os_thread_ids` 列へ `system.processes` と `system.query_log` より良いデバッグの可能性。 [\#6763](https://github.com/ClickHouse/ClickHouse/pull/6763) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   以下の場合に発生するPHP mysqlnd拡張バグの回避策 `sha256_password` デフォルトの認証プラグインとして使用されます [\#6031](https://github.com/ClickHouse/ClickHouse/issues/6031)). [\#6113](https://github.com/ClickHouse/ClickHouse/pull/6113) ([ユーリー-バラノフ](https://github.com/yurriy))
-   Null許容列が変更された不要な場所を削除します。 [\#6693](https://github.com/ClickHouse/ClickHouse/pull/6693) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   デフォルト値の設定 `queue_max_wait_ms` 現在の値（五秒）は意味がありませんので、ゼロにします。 この設定が使用されることはまれです。 設定の追加 `replace_running_query_max_wait_ms`, `kafka_max_wait_ms` と `connection_pool_max_wait_ms` 曖昧さの解消のために。 [\#6692](https://github.com/ClickHouse/ClickHouse/pull/6692) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   抽出 `SelectQueryExpressionAnalyzer` から `ExpressionAnalyzer`. 非選択クエリの最後のクエリを保持します。 [\#6499](https://github.com/ClickHouse/ClickHouse/pull/6499) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   入力形式と出力形式の重複を削除しました。 [\#6239](https://github.com/ClickHouse/ClickHouse/pull/6239) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   ユーザーに上書きを許可する `poll_interval` と `idle_connection_timeout` 接続時の設定。 [\#6230](https://github.com/ClickHouse/ClickHouse/pull/6230) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   `MergeTree` 現在、追加オプション `ttl_only_drop_parts` （デフォルトでは無効）部品の部分的な剪定を避けるため、部品内のすべての行が期限切れになったときに完全に削除されます。 [\#6191](https://github.com/ClickHouse/ClickHouse/pull/6191) ([セルジ-ウラジキン](https://github.com/svladykin))
-   型は、set index関数をチェックします。 関数の型が間違っている場合は例外をスローします。 これは、UBSanでファズテストを修正します。 [\#6511](https://github.com/ClickHouse/ClickHouse/pull/6511) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))

#### 性能向上 {#performance-improvement-2}

-   クエリの最適化 `ORDER BY expressions` 句,where `expressions` ソートキーとプレフィックスが一致している `MergeTree` テーブル この最適化は `optimize_read_in_order` 設定。 [\#6054](https://github.com/ClickHouse/ClickHouse/pull/6054) [\#6629](https://github.com/ClickHouse/ClickHouse/pull/6629) ([アントン-ポポフ](https://github.com/CurtizJ))
-   使用に応じることは、複数のスレッドの中で部品の搭載となります。 [\#6372](https://github.com/ClickHouse/ClickHouse/issues/6372) [\#6074](https://github.com/ClickHouse/ClickHouse/issues/6074) [\#6438](https://github.com/ClickHouse/ClickHouse/pull/6438) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   実施バッチ変異体の更新に集計機能です。 で与えられる実装になっていると性能です。 [\#6435](https://github.com/ClickHouse/ClickHouse/pull/6435) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   を使用して `FastOps` 関数用ライブラリ `exp`, `log`, `sigmoid`, `tanh`. FastOpsはマイケルParakhin（YandexのCTO）から高速ベクトル数学ライブラリです。 の改善された性能 `exp` と `log` 機能6回以上。 機能 `exp` と `log` から `Float32` 引数が返されます `Float32` （以前のバージョンでは、常に戻ります `Float64`). さて `exp(nan)` 返すように `inf`. の結果 `exp` と `log` 関数は、真の答えに最も近いマシン表現可能な数ではないかもしれません。 [\#6254](https://github.com/ClickHouse/ClickHouse/pull/6254) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov)）Fastopsを働かせるDanila Kuteninの変形を使用して [\#6317](https://github.com/ClickHouse/ClickHouse/pull/6317) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   連続キーの最適化を無効にする `UInt8/16`. [\#6298](https://github.com/ClickHouse/ClickHouse/pull/6298) [\#6701](https://github.com/ClickHouse/ClickHouse/pull/6701) ([akuzm](https://github.com/akuzm))
-   の改善された性能 `simdjson` 図書館によくダイナミックな割り当てる `ParsedJson::Iterator`. [\#6479](https://github.com/ClickHouse/ClickHouse/pull/6479) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   メモリを割り当てるときの障害前のページ `mmap()`. [\#6667](https://github.com/ClickHouse/ClickHouse/pull/6667) ([akuzm](https://github.com/akuzm))
-   パフォーマンスバグを修正 `Decimal` 比較。 [\#6380](https://github.com/ClickHouse/ClickHouse/pull/6380) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-4}

-   削除コンパイラ(ランタイムテンプレートインスタンス化でいきます。 [\#6646](https://github.com/ClickHouse/ClickHouse/pull/6646) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   追加の性能試験への性能の低下gcc-9により孤立した。 [\#6302](https://github.com/ClickHouse/ClickHouse/pull/6302) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   テーブル関数を追加 `numbers_mt` のマルチスレッドバージョンです。 `numbers`. 更新性能試験のハッシュ機能 [\#6554](https://github.com/ClickHouse/ClickHouse/pull/6554) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   比較モード `clickhouse-benchmark` [\#6220](https://github.com/ClickHouse/ClickHouse/issues/6220) [\#6343](https://github.com/ClickHouse/ClickHouse/pull/6343) ([dimarub2000](https://github.com/dimarub2000))
-   スタックトレースの印刷に最適です。 また、追加 `SIGPROF` 実行中のスレッドのスタックトレースを出力するデバッグ信号として。 [\#6529](https://github.com/ClickHouse/ClickHouse/pull/6529) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   独自のファイル内のすべての関数、パート10。 [\#6321](https://github.com/ClickHouse/ClickHouse/pull/6321) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   倍増定数を削除 `TABLE_IS_READ_ONLY`. [\#6566](https://github.com/ClickHouse/ClickHouse/pull/6566) ([フィリモノフ](https://github.com/filimonov))
-   書式設定の変更 `StringHashMap` PR [\#5417](https://github.com/ClickHouse/ClickHouse/issues/5417). [\#6700](https://github.com/ClickHouse/ClickHouse/pull/6700) ([akuzm](https://github.com/akuzm))
-   結合作成のためのより良いサブクエリ `ExpressionAnalyzer`. [\#6824](https://github.com/ClickHouse/ClickHouse/pull/6824) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   (PVS Studioによって見つかった)冗長な条件を削除します。 [\#6775](https://github.com/ClickHouse/ClickHouse/pull/6775) ([akuzm](https://github.com/akuzm))
-   別々のハッシュテーブルインタフェース `ReverseIndex`. [\#6672](https://github.com/ClickHouse/ClickHouse/pull/6672) ([akuzm](https://github.com/akuzm))
-   設定のリファクタリング。 [\#6689](https://github.com/ClickHouse/ClickHouse/pull/6689) ([アレサピン](https://github.com/alesapin))
-   コメントを追加 `set` インデックス関数。 [\#6319](https://github.com/ClickHouse/ClickHouse/pull/6319) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   LinuxのデバッグバージョンでOOMスコアを上げます。 [\#6152](https://github.com/ClickHouse/ClickHouse/pull/6152) ([akuzm](https://github.com/akuzm))
-   HDFS HAはデバッグビルドで動作します。 [\#6650](https://github.com/ClickHouse/ClickHouse/pull/6650) ([Weiqing Xu](https://github.com/weiqxu))
-   にテストを追加しました `transform_query_for_external_database`. [\#6388](https://github.com/ClickHouse/ClickHouse/pull/6388) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   カフカ表の複数のマテリアライズドビューのテストを追加します。 [\#6509](https://github.com/ClickHouse/ClickHouse/pull/6509) ([イワン](https://github.com/abyss7))
-   より良いビルドスキームを作る。 [\#6500](https://github.com/ClickHouse/ClickHouse/pull/6500) ([イワン](https://github.com/abyss7))
-   固定 `test_external_dictionaries` 非rootユーザーの下で実行された場合の統合。 [\#6507](https://github.com/ClickHouse/ClickHouse/pull/6507) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   このバグは、書き込まれたパケットの合計サイズが `DBMS_DEFAULT_BUFFER_SIZE`. [\#6204](https://github.com/ClickHouse/ClickHouse/pull/6204) ([ユーリー-バラノフ](https://github.com/yurriy))
-   のテストを追加しました `RENAME` テーブル競合状態 [\#6752](https://github.com/ClickHouse/ClickHouse/pull/6752) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   設定のデータ競争を避けなさい `KILL QUERY`. [\#6753](https://github.com/ClickHouse/ClickHouse/pull/6753) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   キャッシュ辞書によるエラー処理の統合テストを追加します。 [\#6755](https://github.com/ClickHouse/ClickHouse/pull/6755) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   それは意味がないので、Mac OS上でELFオブジェクトファイルの解析を無効にします。 [\#6578](https://github.com/ClickHouse/ClickHouse/pull/6578) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   を試みることchangelog発生装置。 [\#6327](https://github.com/ClickHouse/ClickHouse/pull/6327) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   追加 `-Wshadow` GCCに切り替えます。 [\#6325](https://github.com/ClickHouse/ClickHouse/pull/6325) ([クロイツェルクリーク](https://github.com/kreuzerkrieg))
-   削除された古いコード `mimalloc` サポート。 [\#6715](https://github.com/ClickHouse/ClickHouse/pull/6715) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   `zlib-ng` x86の機能を決定し、この情報をグローバル変数に保存します。 これは、同時に異なるスレッドによって行われてもよいdefalteInit呼び出しで行われます。 を避けるマルチスレッドに書き込み、図書館で起動します。 [\#6141](https://github.com/ClickHouse/ClickHouse/pull/6141) ([akuzm](https://github.com/akuzm))
-   結合で修正されたバグの回帰テスト [\#5192](https://github.com/ClickHouse/ClickHouse/issues/5192). [\#6147](https://github.com/ClickHouse/ClickHouse/pull/6147) ([バフティヤール-ルジエフ](https://github.com/theruziev))
-   MSanレポートを修正しました。 [\#6144](https://github.com/ClickHouse/ClickHouse/pull/6144) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   TTLテストをフラッピング修正。 [\#6782](https://github.com/ClickHouse/ClickHouse/pull/6782) ([アントン-ポポフ](https://github.com/CurtizJ))
-   で修正された偽のデータレース `MergeTreeDataPart::is_frozen` フィールド [\#6583](https://github.com/ClickHouse/ClickHouse/pull/6583) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ファズテストのタイムアウトを修正しました。 旧バージョンで簡単にfalse電話を切るクエリ `SELECT * FROM numbers_mt(gccMurmurHash(''))`. [\#6582](https://github.com/ClickHouse/ClickHouse/pull/6582) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   デバッグチェックを追加 `static_cast` 列の。 [\#6581](https://github.com/ClickHouse/ClickHouse/pull/6581) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   公式RPMパッケージでのOracle Linuxのサポート。 [\#6356](https://github.com/ClickHouse/ClickHouse/issues/6356) [\#6585](https://github.com/ClickHouse/ClickHouse/pull/6585) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Jsonパーフテストを `once` に `loop` タイプ。 [\#6536](https://github.com/ClickHouse/ClickHouse/pull/6536) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   `odbc-bridge.cpp` 定義 `main()` したがって、それは `clickhouse-lib`. [\#6538](https://github.com/ClickHouse/ClickHouse/pull/6538) ([オリヴェイ-デシュ](https://github.com/orivej))
-   クラッシュのテスト `FULL|RIGHT JOIN` 右のテーブルのキーにnullがあります。 [\#6362](https://github.com/ClickHouse/ClickHouse/pull/6362) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   念のためにエイリアスの拡張の制限のテストを追加しました。 [\#6442](https://github.com/ClickHouse/ClickHouse/pull/6442) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   から切り替え `boost::filesystem` に `std::filesystem` 必要に応じて。 [\#6253](https://github.com/ClickHouse/ClickHouse/pull/6253) [\#6385](https://github.com/ClickHouse/ClickHouse/pull/6385) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   追加RPMパッケージです。 [\#6251](https://github.com/ClickHouse/ClickHouse/pull/6251) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定のテストを追加する `Unknown identifier` 例外 `IN` セクション [\#6708](https://github.com/ClickHouse/ClickHouse/pull/6708) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   簡素化 `shared_ptr_helper` が直面する人びとの苦難を理解します。 [\#6675](https://github.com/ClickHouse/ClickHouse/pull/6675) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定GorillaとDoubleDeltaコーデックのパフォーマンステストを追加しました。 [\#6179](https://github.com/ClickHouse/ClickHouse/pull/6179) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   統合テストの分割 `test_dictionaries` 4つの別々のテストに。 [\#6776](https://github.com/ClickHouse/ClickHouse/pull/6776) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   PVS-Studioの警告を修正 `PipelineExecutor`. [\#6777](https://github.com/ClickHouse/ClickHouse/pull/6777) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   使用を許可する `library` ASanと辞書ソース。 [\#6482](https://github.com/ClickHouse/ClickHouse/pull/6482) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   PRsのリストから変更履歴を生成するオプションを追加しました。 [\#6350](https://github.com/ClickHouse/ClickHouse/pull/6350) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ロック `TinyLog` 読む場合の貯蔵。 [\#6226](https://github.com/ClickHouse/ClickHouse/pull/6226) ([akuzm](https://github.com/akuzm))
-   チェックを破symlinks CI. [\#6634](https://github.com/ClickHouse/ClickHouse/pull/6634) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   タイムアウトの増加 “stack overflow” 試験で時間がかかる場合にはデバッグ。 [\#6637](https://github.com/ClickHouse/ClickHouse/pull/6637) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   二重の空白のチェックを追加しました。 [\#6643](https://github.com/ClickHouse/ClickHouse/pull/6643) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正 `new/delete` サニタイザーでビルドするときのメモリ追跡。 追跡は明確ではない。 テストでのメモリ制限の例外のみを防ぎます。 [\#6450](https://github.com/ClickHouse/ClickHouse/pull/6450) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   リンク中に未定義のシンボルのチェックを有効にします。 [\#6453](https://github.com/ClickHouse/ClickHouse/pull/6453) ([イワン](https://github.com/abyss7))
-   再構築を避ける `hyperscan` 毎日 [\#6307](https://github.com/ClickHouse/ClickHouse/pull/6307) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定されたUBSanのレポート `ProtobufWriter`. [\#6163](https://github.com/ClickHouse/ClickHouse/pull/6163) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   クエリプロファイラは互換性がないため、サニタイザでの使用を許可しないでください。 [\#6769](https://github.com/ClickHouse/ClickHouse/pull/6769) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   タイマーで失敗した後に辞書を再ロードするテストを追加します。 [\#6114](https://github.com/ClickHouse/ClickHouse/pull/6114) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   で矛盾を修正 `PipelineExecutor::prepareProcessor` 引数の型。 [\#6494](https://github.com/ClickHouse/ClickHouse/pull/6494) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   不正なUriのテストを追加しました。 [\#6493](https://github.com/ClickHouse/ClickHouse/pull/6493) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   より多くのチェックを追加 `CAST` 機能。 こいつの間にか．ファジィテストです。 [\#6346](https://github.com/ClickHouse/ClickHouse/pull/6346) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   追加 `gcc-9` サポートへの `docker/builder` 画像をローカルに作成するコンテナ。 [\#6333](https://github.com/ClickHouse/ClickHouse/pull/6333) ([グレブ-ノビコフ](https://github.com/NanoBjorn))
-   主キーのテスト `LowCardinality(String)`. [\#5044](https://github.com/ClickHouse/ClickHouse/issues/5044) [\#6219](https://github.com/ClickHouse/ClickHouse/pull/6219) ([dimarub2000](https://github.com/dimarub2000))
-   遅いスタックトレース印刷の影響を修正しました。 [\#6315](https://github.com/ClickHouse/ClickHouse/pull/6315) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   クラッシュのテストケースを追加する `groupUniqArray` で固定 [\#6029](https://github.com/ClickHouse/ClickHouse/pull/6029). [\#4402](https://github.com/ClickHouse/ClickHouse/issues/4402) [\#6129](https://github.com/ClickHouse/ClickHouse/pull/6129) ([akuzm](https://github.com/akuzm))
-   固定指標変異テスト。 [\#6645](https://github.com/ClickHouse/ClickHouse/pull/6645) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   パフォーマンステス [\#6427](https://github.com/ClickHouse/ClickHouse/pull/6427) ([akuzm](https://github.com/akuzm))
-   マテリアライズドビューは、疑わしい低い基数タイプに関する設定に関係なく、低い基数タイプで作成できるようになりました。 [\#6428](https://github.com/ClickHouse/ClickHouse/pull/6428) ([Olga Khvostikova](https://github.com/stavrolia))
-   更新されたテスト `send_logs_level` 設定。 [\#6207](https://github.com/ClickHouse/ClickHouse/pull/6207) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   Gcc-8.2の下でビルドを修正しました。 [\#6196](https://github.com/ClickHouse/ClickHouse/pull/6196) ([マックス-アクメドフ](https://github.com/zlobober))
-   内部libc++でビルドを修正しました。 [\#6724](https://github.com/ClickHouse/ClickHouse/pull/6724) ([イワン](https://github.com/abyss7))
-   共有ビルドを修正 `rdkafka` ライブラリ [\#6101](https://github.com/ClickHouse/ClickHouse/pull/6101) ([イワン](https://github.com/abyss7))
-   Mac OSのビルド（不完全）のための修正。 [\#6390](https://github.com/ClickHouse/ClickHouse/pull/6390) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov)) [\#6429](https://github.com/ClickHouse/ClickHouse/pull/6429) ([アレックス-ザイツェフ](https://github.com/alex-zaitsev))
-   修正 “splitted” ビルド [\#6618](https://github.com/ClickHouse/ClickHouse/pull/6618) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   その他のビルド修正: [\#6186](https://github.com/ClickHouse/ClickHouse/pull/6186) ([アモス鳥](https://github.com/amosbird)) [\#6486](https://github.com/ClickHouse/ClickHouse/pull/6486) [\#6348](https://github.com/ClickHouse/ClickHouse/pull/6348) ([vxider](https://github.com/Vxider)) [\#6744](https://github.com/ClickHouse/ClickHouse/pull/6744) ([イワン](https://github.com/abyss7)) [\#6016](https://github.com/ClickHouse/ClickHouse/pull/6016) [\#6421](https://github.com/ClickHouse/ClickHouse/pull/6421) [\#6491](https://github.com/ClickHouse/ClickHouse/pull/6491) ([プロラー](https://github.com/proller))

#### 下位互換性のない変更 {#backward-incompatible-change-3}

-   めったに使用されない表関数を削除 `catBoostPool` そして貯蔵 `CatBoostPool`. を使った場合、このテーブル機能、メールを書いてください `clickhouse-feedback@yandex-team.com`. CatBoost統合は引き続きサポートされることに注意してください。 [\#6279](https://github.com/ClickHouse/ClickHouse/pull/6279) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   無効にする `ANY RIGHT JOIN` と `ANY FULL JOIN` デフォルトでは。 セット `any_join_distinct_right_table_keys` それらを有効にする設定。 [\#5126](https://github.com/ClickHouse/ClickHouse/issues/5126) [\#6351](https://github.com/ClickHouse/ClickHouse/pull/6351) ([アルテム-ズイコフ](https://github.com/4ertus2))

## ClickHouseリリース19.13 {#clickhouse-release-19-13}

### ClickHouseリリース19.13.6.51,2019-10-02 {#clickhouse-release-19-13-6-51-2019-10-02}

#### バグ修正 {#bug-fix-9}

-   このリリースも含む全てのバグ修正から19.11.12.69.

### ClickHouseリリース19.13.5.44,2019-09-20 {#clickhouse-release-19-13-5-44-2019-09-20}

#### バグ修正 {#bug-fix-10}

-   このリリースには、19.14.6.12のすべてのバグ修正も含まれています。
-   実行中にテーブルの一貫性のない状態を修正しました `DROP` クエリーのための複製テーブルが飼育係アクセスすることはできません。 [\#6045](https://github.com/ClickHouse/ClickHouse/issues/6045) [\#6413](https://github.com/ClickHouse/ClickHouse/pull/6413) ([ニキータ-ミハイロフ](https://github.com/nikitamikhaylov))
-   StorageMergeでのデータレースの修正 [\#6717](https://github.com/ClickHouse/ClickHouse/pull/6717) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ソケットから無限のrecvにつながるクエリプロファイラのバグを修正しました。 [\#6386](https://github.com/ClickHouse/ClickHouse/pull/6386) ([アレサピン](https://github.com/alesapin))
-   実行中に過剰なCPU使用率を修正 `JSONExtractRaw` ブール値に対する関数。 [\#6208](https://github.com/ClickHouse/ClickHouse/pull/6208) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   修正の回帰が進を実現します。 [\#6415](https://github.com/ClickHouse/ClickHouse/pull/6415) ([イワン](https://github.com/abyss7))
-   テーブル関数 `url` この脆弱性により、攻撃者は要求に任意のHTTPヘッダーを挿入することができました。 この問題は [ニキータ-チホミロフ](https://github.com/NSTikhomirov). [\#6466](https://github.com/ClickHouse/ClickHouse/pull/6466) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   役に立たない修正 `AST` Set indexをチェックインします。 [\#6510](https://github.com/ClickHouse/ClickHouse/issues/6510) [\#6651](https://github.com/ClickHouse/ClickHouse/pull/6651) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   の修正された解析 `AggregateFunction` クエリに埋め込まれた値。 [\#6575](https://github.com/ClickHouse/ClickHouse/issues/6575) [\#6773](https://github.com/ClickHouse/ClickHouse/pull/6773) ([Zhichang Yu](https://github.com/yuzhichang))
-   修正された間違った動作 `trim` 機能ファミリー。 [\#6647](https://github.com/ClickHouse/ClickHouse/pull/6647) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouseリリース19.13.4.32,2019-09-10 {#clickhouse-release-19-13-4-32-2019-09-10}

#### バグ修正 {#bug-fix-11}

-   このリリースには、19.11.9.52と19.11.10.54のすべてのバグセキュリティ修正も含まれています。
-   で固定データレース `system.parts` テーブルと `ALTER` クエリ。 [\#6245](https://github.com/ClickHouse/ClickHouse/issues/6245) [\#6513](https://github.com/ClickHouse/ClickHouse/pull/6513) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Sampleとprewhereで空の分散テーブルから読み込む場合に、ストリーム内のヘッダーの不一致を修正しました。 [\#6167](https://github.com/ClickHouse/ClickHouse/issues/6167) ([Lixiang銭](https://github.com/fancyqlx)) [\#6823](https://github.com/ClickHouse/ClickHouse/pull/6823) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   使用時のクラッシュを修正 `IN` タプルを持つサブクエリを持つ句。 [\#6125](https://github.com/ClickHouse/ClickHouse/issues/6125) [\#6550](https://github.com/ClickHouse/ClickHouse/pull/6550) ([tavplubix](https://github.com/tavplubix))
-   同じ列名の大文字と小文字を修正 `GLOBAL JOIN ON` セクション [\#6181](https://github.com/ClickHouse/ClickHouse/pull/6181) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   固定したときにクラッシュする場合が鋳造型 `Decimal` それをサポートしていません。 代わりに例外を投げます。 [\#6297](https://github.com/ClickHouse/ClickHouse/pull/6297) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   で固定クラッシュ `extractAll()` 機能。 [\#6644](https://github.com/ClickHouse/ClickHouse/pull/6644) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   のクエリ変換 `MySQL`, `ODBC`, `JDBC` 表関数が正しく動作するようになった `SELECT WHERE` 複数のクエリ `AND` 式。 [\#6381](https://github.com/ClickHouse/ClickHouse/issues/6381) [\#6676](https://github.com/ClickHouse/ClickHouse/pull/6676) ([dimarub2000](https://github.com/dimarub2000))
-   MySQL8統合のための以前の宣言チェックを追加しました。 [\#6569](https://github.com/ClickHouse/ClickHouse/pull/6569) ([ラファエル-ダヴィド-ティノコ](https://github.com/rafaeldtinoco))

#### セキュリティ修正 {#security-fix-1}

-   修二の脆弱性がコーデックに減圧相（悪意のあるユーザーが可能で圧縮データにつながるバッファオーバーフローの減圧). [\#6670](https://github.com/ClickHouse/ClickHouse/pull/6670) ([アルテム-ズイコフ](https://github.com/4ertus2))

### ClickHouse Release19.13.3.26,2019-08-22 {#clickhouse-release-19-13-3-26-2019-08-22}

#### バグ修正 {#bug-fix-12}

-   修正 `ALTER TABLE ... UPDATE` テーブルのクエリ `enable_mixed_granularity_parts=1`. [\#6543](https://github.com/ClickHouse/ClickHouse/pull/6543) ([アレサピン](https://github.com/alesapin))
-   タプルを持つサブクエリでin句を使用するときにnpeを修正しました。 [\#6125](https://github.com/ClickHouse/ClickHouse/issues/6125) [\#6550](https://github.com/ClickHouse/ClickHouse/pull/6550) ([tavplubix](https://github.com/tavplubix))
-   古いレプリカがアライブ状態になっても、DROP PARTITIONによって削除されたデータパーツが残っている可能性がある問題を修正しました。 [\#6522](https://github.com/ClickHouse/ClickHouse/issues/6522) [\#6523](https://github.com/ClickHouse/ClickHouse/pull/6523) ([tavplubix](https://github.com/tavplubix))
-   CSVの解析に関する問題を修正 [\#6426](https://github.com/ClickHouse/ClickHouse/issues/6426) [\#6559](https://github.com/ClickHouse/ClickHouse/pull/6559) ([tavplubix](https://github.com/tavplubix))
-   システム内の固定データレース。パーツテーブルとALTERクエリ。 この修正 [\#6245](https://github.com/ClickHouse/ClickHouse/issues/6245). [\#6513](https://github.com/ClickHouse/ClickHouse/pull/6513) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定の間違ったコードに変異のありメモリが破損す アドレスの読み取りで固定segfault `0x14c0` それは同時に起こった可能性があります `DROP TABLE` と `SELECT` から `system.parts` または `system.parts_columns`. 突然変異クエリの準備における競合状態を修正しました。 によるデッドロックを修正 `OPTIMIZE` 変更のようなレプリケートされたテーブルと同時変更操作の。 [\#6514](https://github.com/ClickHouse/ClickHouse/pull/6514) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定可能なデータ損失の後 `ALTER DELETE` クエリーテーブルとキース。 [\#6224](https://github.com/ClickHouse/ClickHouse/issues/6224) [\#6282](https://github.com/ClickHouse/ClickHouse/pull/6282) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))

#### セキュリティ修正 {#security-fix-2}

-   攻撃者がZooKeeperへの書き込みアクセス権を持ち、ClickHouseが実行されるネットワークから利用可能なカスタムサーバーを実行できる場合、ClickHouseのレプリカとして機能す きものレプリカまでデータを取得すから悪意のあるレプリカで力clickhouse-サーバへの書き込みを任意のパスにファイルシステム. Yandexの情報セキュリティチームEldar Zaitovによって発見されました。 [\#6247](https://github.com/ClickHouse/ClickHouse/pull/6247) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouseリリース19.13.2.19,2019-08-14 {#clickhouse-release-19-13-2-19-2019-08-14}

#### 新機能 {#new-feature-5}

-   サンプリングプロファイラーに照会です。 [例](https://gist.github.com/alexey-milovidov/92758583dd41c24c360fdb8d6a4da194). [\#4247](https://github.com/ClickHouse/ClickHouse/issues/4247) ([laplab](https://github.com/laplab)) [\#6124](https://github.com/ClickHouse/ClickHouse/pull/6124) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov)) [\#6250](https://github.com/ClickHouse/ClickHouse/pull/6250) [\#6283](https://github.com/ClickHouse/ClickHouse/pull/6283) [\#6386](https://github.com/ClickHouse/ClickHouse/pull/6386)
-   列のリストを指定できるようにする `COLUMNS('regexp')` のより洗練された変種のように動作する式 `*` アスタリスク [\#5951](https://github.com/ClickHouse/ClickHouse/pull/5951) ([ムフリデンタル](https://github.com/mfridental)), ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   `CREATE TABLE AS table_function()` 今では可能です [\#6057](https://github.com/ClickHouse/ClickHouse/pull/6057) ([dimarub2000](https://github.com/dimarub2000))
-   確率勾配降下のAdamオプティマイザは、デフォルトでは `stochasticLinearRegression()` と `stochasticLogisticRegression()` 集計機能を示すためのもので、良質なほとんど調整することがあります。 [\#6000](https://github.com/ClickHouse/ClickHouse/pull/6000) ([Quid37](https://github.com/Quid37))
-   Added functions for working with the сustom week number [\#5212](https://github.com/ClickHouse/ClickHouse/pull/5212) ([アンディ-ヤン](https://github.com/andyyzh))
-   `RENAME` クエリはすべてのストレージで動作します。 [\#5953](https://github.com/ClickHouse/ClickHouse/pull/5953) ([イワン](https://github.com/abyss7))
-   現在お客様の受信ログからサーバに要求レベルに設定 `send_logs_level` サーバー設定で指定されたログレベルに関係なく。 [\#5964](https://github.com/ClickHouse/ClickHouse/pull/5964) ([ニキータ-ミハイロフ](https://github.com/nikitamikhaylov))

#### 下位互換性のない変更 {#backward-incompatible-change-4}

-   設定 `input_format_defaults_for_omitted_fields` 既定では有効です。 挿入学の領域において研究が行われてテーブルがこの設定は同じクラスター(設定する必要がありますので前に転じた。 この計算の複雑なデフォルト表現のための省略分野 `JSONEachRow` と `CSV*` フォーマット。 この挙動があるが無視できる性能の差です。 [\#6043](https://github.com/ClickHouse/ClickHouse/pull/6043) ([アルテム-ズイコフ](https://github.com/4ertus2)), [\#5625](https://github.com/ClickHouse/ClickHouse/pull/5625) ([akuzm](https://github.com/akuzm))

#### 実験的な特徴 {#experimental-features}

-   新規クエリ処理パイプライン。 使用 `experimental_use_processors=1` それを有効にするオプション。 あなた自身の悩みのための使用。 [\#4914](https://github.com/ClickHouse/ClickHouse/pull/4914) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))

#### バグ修正 {#bug-fix-13}

-   カフカの統合は、このバージョンで修正されました。
-   固定 `DoubleDelta` のエンコード `Int64` 大きいのため `DoubleDelta` 値、改善 `DoubleDelta` ランダムデータのエンコード `Int32`. [\#5998](https://github.com/ClickHouse/ClickHouse/pull/5998) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   の固定過大評価 `max_rows_to_read` 設定の場合 `merge_tree_uniform_read_distribution` 0に設定されます。 [\#6019](https://github.com/ClickHouse/ClickHouse/pull/6019) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 改善 {#improvement-4}

-   例外をスローする場合 `config.d` fileには、設定ファイルとして対応するルート要素がありません [\#6123](https://github.com/ClickHouse/ClickHouse/pull/6123) ([dimarub2000](https://github.com/dimarub2000))

#### 性能向上 {#performance-improvement-3}

-   最適化 `count()`. これで、最小の列が使用されます（可能であれば）。 [\#6028](https://github.com/ClickHouse/ClickHouse/pull/6028) ([アモス鳥](https://github.com/amosbird))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-5}

-   パフォーマンステ [\#5899](https://github.com/ClickHouse/ClickHouse/pull/5899) ([akuzm](https://github.com/akuzm))
-   外部でビルドを修正 `libcxx` [\#6010](https://github.com/ClickHouse/ClickHouse/pull/6010) ([イワン](https://github.com/abyss7))
-   共有ビルドを修正 `rdkafka` ライブラリ [\#6101](https://github.com/ClickHouse/ClickHouse/pull/6101) ([イワン](https://github.com/abyss7))

## ClickHouseリリース19.11 {#clickhouse-release-19-11}

### ClickHouseリリース19.11.13.74,2019-11-01 {#clickhouse-release-19-11-13-74-2019-11-01}

#### バグ修正 {#bug-fix-14}

-   で固定レアクラッシュ `ALTER MODIFY COLUMN` マージ/変更された部分のいずれかが空の場合（0行）に垂直マージします。 [\#6780](https://github.com/ClickHouse/ClickHouse/pull/6780) ([アレサピン](https://github.com/alesapin))
-   の手動update `SIMDJSON`. これにより、偽のjson診断メッセージでstderrファイルが氾濫する可能性が修正されます。 [\#7548](https://github.com/ClickHouse/ClickHouse/pull/7548) ([Alexander Kazakov](https://github.com/Akazz))
-   とのバグを修正 `mrk` mutationsのファイル拡張子 ([アレサピン](https://github.com/alesapin))

### ClickHouse Release19.11.12.69,2019-10-02 {#clickhouse-release-19-11-12-69-2019-10-02}

#### バグ修正 {#bug-fix-15}

-   固定性能の劣化指標分析複雑なテンキーの大きます。 この修正 [\#6924](https://github.com/ClickHouse/ClickHouse/issues/6924). [\#7075](https://github.com/ClickHouse/ClickHouse/pull/7075) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   分散エンジンでテーブルにデータを送信する際に、まれなSIGSEGVを回避 (`Failed to send batch: file with index XXXXX is absent`). [\#7032](https://github.com/ClickHouse/ClickHouse/pull/7032) ([Azat Khuzhin](https://github.com/azat))
-   修正 `Unknown identifier` 複数の結合を使用します。 この修正 [\#5254](https://github.com/ClickHouse/ClickHouse/issues/5254). [\#7022](https://github.com/ClickHouse/ClickHouse/pull/7022) ([アルテム-ズイコフ](https://github.com/4ertus2))

### ClickHouse Release19.11.11.57,2019-09-13 {#clickhouse-release-19-11-11-57-2019-09-13}

-   カフカ空のトピックから選択するとsegfaultsの原因となる論理エラーを修正しました。 [\#6902](https://github.com/ClickHouse/ClickHouse/issues/6902) [\#6909](https://github.com/ClickHouse/ClickHouse/pull/6909) ([イワン](https://github.com/abyss7))
-   機能のための苦境 `АrrayEnumerateUniqRanked` paramsに空の配列があります。 [\#6928](https://github.com/ClickHouse/ClickHouse/pull/6928) ([プロラー](https://github.com/proller))

### ClickHouse Release19.11.10.54,2019-09-10 {#clickhouse-release-19-11-10-54-2019-09-10}

#### バグ修正 {#bug-fix-16}

-   い店舗-オフセットカフカメッセージを手動できることを確約できることすべてを一度にすべての仕切り. 潜在的な重複を修正 “one consumer - many partitions” シナリオ [\#6872](https://github.com/ClickHouse/ClickHouse/pull/6872) ([イワン](https://github.com/abyss7))

### ClickHouse Release19.11.9.52,2019-09-6 {#clickhouse-release-19-11-9-52-2019-09-6}

-   改善についてはキャッシュを生成する事ができます。 [\#6737](https://github.com/ClickHouse/ClickHouse/pull/6737) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   関数のバグを修正しました `arrayEnumerateUniqRanked`. [\#6779](https://github.com/ClickHouse/ClickHouse/pull/6779) ([プロラー](https://github.com/proller))
-   修正 `JSONExtract` を抽出しながら `Tuple` JSONから。 [\#6718](https://github.com/ClickHouse/ClickHouse/pull/6718) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   固定可能なデータ損失の後 `ALTER DELETE` クエリーテーブルとキース。 [\#6224](https://github.com/ClickHouse/ClickHouse/issues/6224) [\#6282](https://github.com/ClickHouse/ClickHouse/pull/6282) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   固定性能テスト。 [\#6392](https://github.com/ClickHouse/ClickHouse/pull/6392) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   寄木細工：ブール値の列を読んで修正します。 [\#6579](https://github.com/ClickHouse/ClickHouse/pull/6579) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正された間違った動作 `nullIf` 定数引数の関数。 [\#6518](https://github.com/ClickHouse/ClickHouse/pull/6518) ([ギヨーム-タッセリー](https://github.com/YiuRULE)) [\#6580](https://github.com/ClickHouse/ClickHouse/pull/6580) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定カフカメッセージの複製問題が通常のサーバを再起動します。 [\#6597](https://github.com/ClickHouse/ClickHouse/pull/6597) ([イワン](https://github.com/abyss7))
-   長いときに問題を修正しました `ALTER UPDATE` または `ALTER DELETE` 通常のマージを実行できない場合があります。 利用可能な十分な空きスレッドがない場合、突然変異が実行されないようにします。 [\#6502](https://github.com/ClickHouse/ClickHouse/issues/6502) [\#6617](https://github.com/ClickHouse/ClickHouse/pull/6617) ([tavplubix](https://github.com/tavplubix))
-   処理中のエラーを修正 “timezone” サーバー設定ファイル内。 [\#6709](https://github.com/ClickHouse/ClickHouse/pull/6709) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   カフカのテストを修正します。 [\#6805](https://github.com/ClickHouse/ClickHouse/pull/6805) ([イワン](https://github.com/abyss7))

#### セキュリティ修正 {#security-fix-3}

-   攻撃者がZooKeeperへの書き込みアクセス権を持ち、ClickHouseが実行されているネットワークから利用可能なカスタムサーバーを実行できる場合、ClickHouseのレプリカとして機能 きものレプリカまでデータを取得すから悪意のあるレプリカで力clickhouse-サーバへの書き込みを任意のパスにファイルシステム. Yandexの情報セキュリティチームEldar Zaitovによって発見されました。 [\#6247](https://github.com/ClickHouse/ClickHouse/pull/6247) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.11.8.46,2019-08-22 {#clickhouse-release-19-11-8-46-2019-08-22}

#### バグ修正 {#bug-fix-17}

-   修正 `ALTER TABLE ... UPDATE` テーブルのクエリ `enable_mixed_granularity_parts=1`. [\#6543](https://github.com/ClickHouse/ClickHouse/pull/6543) ([アレサピン](https://github.com/alesapin))
-   タプルを持つサブクエリでin句を使用するときにnpeを修正しました。 [\#6125](https://github.com/ClickHouse/ClickHouse/issues/6125) [\#6550](https://github.com/ClickHouse/ClickHouse/pull/6550) ([tavplubix](https://github.com/tavplubix))
-   古いレプリカがアライブ状態になっても、DROP PARTITIONによって削除されたデータパーツが残っている可能性がある問題を修正しました。 [\#6522](https://github.com/ClickHouse/ClickHouse/issues/6522) [\#6523](https://github.com/ClickHouse/ClickHouse/pull/6523) ([tavplubix](https://github.com/tavplubix))
-   CSVの解析に関する問題を修正 [\#6426](https://github.com/ClickHouse/ClickHouse/issues/6426) [\#6559](https://github.com/ClickHouse/ClickHouse/pull/6559) ([tavplubix](https://github.com/tavplubix))
-   システム内の固定データレース。パーツテーブルとALTERクエリ。 この修正 [\#6245](https://github.com/ClickHouse/ClickHouse/issues/6245). [\#6513](https://github.com/ClickHouse/ClickHouse/pull/6513) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定の間違ったコードに変異のありメモリが破損す アドレスの読み取りで固定segfault `0x14c0` それは同時に起こった可能性があります `DROP TABLE` と `SELECT` から `system.parts` または `system.parts_columns`. 突然変異クエリの準備における競合状態を修正しました。 によるデッドロックを修正 `OPTIMIZE` 変更のようなレプリケートされたテーブルと同時変更操作の。 [\#6514](https://github.com/ClickHouse/ClickHouse/pull/6514) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.11.7.40,2019-08-14 {#clickhouse-release-19-11-7-40-2019-08-14}

#### バグ修正 {#bug-fix-18}

-   カフカの統合は、このバージョンで修正されました。
-   使用するときにsegfaultを修正 `arrayReduce` 定数引数の場合。 [\#6326](https://github.com/ClickHouse/ClickHouse/pull/6326) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定 `toFloat()` 単調性。 [\#6374](https://github.com/ClickHouse/ClickHouse/pull/6374) ([dimarub2000](https://github.com/dimarub2000))
-   有効でsegfaultを修正 `optimize_skip_unused_shards` シャーディングキーがない [\#6384](https://github.com/ClickHouse/ClickHouse/pull/6384) ([クルティジ](https://github.com/CurtizJ))
-   の固定ロジック `arrayEnumerateUniqRanked` 機能。 [\#6423](https://github.com/ClickHouse/ClickHouse/pull/6423) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   MySQLハンドラから余分な冗長ロギングを削除しました。 [\#6389](https://github.com/ClickHouse/ClickHouse/pull/6389) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   間違った動作と可能なsegfaultsを修正 `topK` と `topKWeighted` 集計関数。 [\#6404](https://github.com/ClickHouse/ClickHouse/pull/6404) ([クルティジ](https://github.com/CurtizJ))
-   仮想列を公開しない `system.columns` テーブル。 これは下位互換性のために必要です。 [\#6406](https://github.com/ClickHouse/ClickHouse/pull/6406) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正のバグとメモリの割り当てのための文字列の分野での複合キーキャッシュを辞書で調べました。 [\#6447](https://github.com/ClickHouse/ClickHouse/pull/6447) ([アレサピン](https://github.com/alesapin))
-   新しいレプリカを作成するときに適応粒度を有効にするバグを修正 `Replicated*MergeTree` テーブル。 [\#6452](https://github.com/ClickHouse/ClickHouse/pull/6452) ([アレサピン](https://github.com/alesapin))
-   修正の無限ループ読み込み時にカフカメッセージ [\#6354](https://github.com/ClickHouse/ClickHouse/pull/6354) ([abyss7](https://github.com/abyss7))
-   Sqlパーサーでのスタックオーバーフローによるサーバークラッシュとスタックオーバーフロ `Merge` と `Distributed` テーブル [\#6433](https://github.com/ClickHouse/ClickHouse/pull/6433) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定Gorillaエンコードエラーの小型dnaの塩基配列を決定した。 [\#6444](https://github.com/ClickHouse/ClickHouse/pull/6444) ([Enmk](https://github.com/Enmk))

#### 改善 {#improvement-5}

-   ユーザーに上書きを許可する `poll_interval` と `idle_connection_timeout` 接続時の設定。 [\#6230](https://github.com/ClickHouse/ClickHouse/pull/6230) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.11.5.28,2019-08-05 {#clickhouse-release-19-11-5-28-2019-08-05}

#### バグ修正 {#bug-fix-19}

-   固定の可能性を掛けクエリの場合はサーバが過負荷状態で運転されています。 [\#6301](https://github.com/ClickHouse/ClickHouse/pull/6301) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   YandexConsistentHash関数のFPEを修正しました。 この修正 [\#6304](https://github.com/ClickHouse/ClickHouse/issues/6304). [\#6126](https://github.com/ClickHouse/ClickHouse/pull/6126) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   の変換のバグを修正しました `LowCardinality` タイプ `AggregateFunctionFactory`. この修正 [\#6257](https://github.com/ClickHouse/ClickHouse/issues/6257). [\#6281](https://github.com/ClickHouse/ClickHouse/pull/6281) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   の解析を修正 `bool` からの設定 `true` と `false` 設定ファイル内の文字列。 [\#6278](https://github.com/ClickHouse/ClickHouse/pull/6278) ([アレサピン](https://github.com/alesapin))
-   固定珍しいバグと互換性のないストリームヘッダをクエリー `Distributed` テーブル `MergeTree` テーブルの一部 `WHERE` 移動先 `PREWHERE`. [\#6236](https://github.com/ClickHouse/ClickHouse/pull/6236) ([アレサピン](https://github.com/alesapin))
-   符号付き型から符号なし型への整数除算でのオーバーフローを修正。 この修正 [\#6214](https://github.com/ClickHouse/ClickHouse/issues/6214). [\#6233](https://github.com/ClickHouse/ClickHouse/pull/6233) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 下位互換性のない変更 {#backward-incompatible-change-5}

-   `Kafka` まだ壊れてる

### ClickHouse Release19.11.4.24,2019-08-01 {#clickhouse-release-19-11-4-24-2019-08-01}

#### バグ修正 {#bug-fix-20}

-   適応粒度で二次インデックスマークを書くとバグを修正しました。 [\#6126](https://github.com/ClickHouse/ClickHouse/pull/6126) ([アレサピン](https://github.com/alesapin))
-   修正 `WITH ROLLUP` と `WITH CUBE` の修飾子 `GROUP BY` 二レベルの集計を使って。 [\#6225](https://github.com/ClickHouse/ClickHouse/pull/6225) ([アントン-ポポフ](https://github.com/CurtizJ))
-   固定ハングイン `JSONExtractRaw` 機能。 固定 [\#6195](https://github.com/ClickHouse/ClickHouse/issues/6195) [\#6198](https://github.com/ClickHouse/ClickHouse/pull/6198) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ExternalLoader::reloadOutdated()でsegfaultを修正しました。 [\#6082](https://github.com/ClickHouse/ClickHouse/pull/6082) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   固定の場合はサーバが切れることがあり聞くソケットがセットのリスクマネジメントの継続け残ります。 ﾂつｻﾂつ､ﾂつ"ﾂつ､ﾂつｱﾂづﾂづﾂつｷﾂ。 サーバーがエラーを返すことがあります `bad_function_call` 残りのクエリの場合。 [\#6231](https://github.com/ClickHouse/ClickHouse/pull/6231) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ODBC、MySQL、ClickHouseおよびHTTP経由で外部辞書の初期読み込みのための更新フィールドに役に立たないと間違った条件を修正しました。 この修正 [\#6069](https://github.com/ClickHouse/ClickHouse/issues/6069) [\#6083](https://github.com/ClickHouse/ClickHouse/pull/6083) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   キャストの無関係な例外を修正しました `LowCardinality(Nullable)` to not-Nullable column in case if it doesn't contain Nulls (e.g. in query like `SELECT CAST(CAST('Hello' AS LowCardinality(Nullable(String))) AS String)`. [\#6094](https://github.com/ClickHouse/ClickHouse/issues/6094) [\#6119](https://github.com/ClickHouse/ClickHouse/pull/6119) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   の非決定的な結果を修正 “uniq” 極端なまれなケースでの集計関数。 このバグはすべてのClickHouseバージョンに存在しました。 [\#6058](https://github.com/ClickHouse/ClickHouse/pull/6058) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   私たちは関数に少し高すぎるcidrを設定するとSegfault `IPv6CIDRToRange`. [\#6068](https://github.com/ClickHouse/ClickHouse/pull/6068) ([ギヨーム-タッセリー](https://github.com/YiuRULE))
-   固定小さなメモリリークがサーバに捨てる多くの例外から多くの異なるコンテキストを共有します。 [\#6144](https://github.com/ClickHouse/ClickHouse/pull/6144) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定の状態で消費者も一時停止前の契約とな再開します。 [\#6075](https://github.com/ClickHouse/ClickHouse/pull/6075) ([イワン](https://github.com/abyss7) 注このカフカを砕このバージョン。
-   エラーで完了した前回の読み取り操作からKafkaデータバッファをクリアする [\#6026](https://github.com/ClickHouse/ClickHouse/pull/6026) ([ニコライ](https://github.com/bopohaa) 注このカフカを砕このバージョン。
-   以来 `StorageMergeTree::background_task_handle` で初期化される。 `startup()` その `MergeTreeBlockOutputStream::write()` 初期化の前に使用しようとする可能性があります。 すぐチェックインの場合は初期化されます。 [\#6080](https://github.com/ClickHouse/ClickHouse/pull/6080) ([イワン](https://github.com/abyss7))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-6}

-   追加された公式 `rpm` パッケージ。 [\#5740](https://github.com/ClickHouse/ClickHouse/pull/5740) ([プロラー](https://github.com/proller)) ([アレサピン](https://github.com/alesapin))
-   ビルド機能の追加 `.rpm` と `.tgz` パッケージ `packager` スクリプト [\#5769](https://github.com/ClickHouse/ClickHouse/pull/5769) ([アレサピン](https://github.com/alesapin))
-   の修正 “Arcadia” ビルドシステム。 [\#6223](https://github.com/ClickHouse/ClickHouse/pull/6223) ([プロラー](https://github.com/proller))

#### 下位互換性のない変更 {#backward-incompatible-change-6}

-   `Kafka` このバージョンでは壊れている。

### ClickHouse Release19.11.3.11,2019-07-18 {#clickhouse-release-19-11-3-11-2019-07-18}

#### 新機能 {#new-feature-6}

-   るためのサポートを追加しました用意します。 [\#5331](https://github.com/ClickHouse/ClickHouse/pull/5331/) ([Alexander](https://github.com/sanych73)) [\#5630](https://github.com/ClickHouse/ClickHouse/pull/5630) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   `DoubleDelta` と `Gorilla` 列コーデック [\#5600](https://github.com/ClickHouse/ClickHouse/pull/5600) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   追加 `os_thread_priority` 制御することを割り当てる設定 “nice” 動的スケジューリング優先度を調整するためにOSが使用するクエリ処理スレッドの値。 それは必要です `CAP_SYS_NICE` 働く機能。 これは [\#5858](https://github.com/ClickHouse/ClickHouse/issues/5858) [\#5909](https://github.com/ClickHouse/ClickHouse/pull/5909) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   実装 `_topic`, `_offset`, `_key` カフカエンジンの列 [\#5382](https://github.com/ClickHouse/ClickHouse/pull/5382) ([イワン](https://github.com/abyss7) 注このカフカを砕このバージョン。
-   集計関数コンビネータの追加 `-Resample` [\#5590](https://github.com/ClickHouse/ClickHouse/pull/5590) ([hcz](https://github.com/hczhcz))
-   集計関数 `groupArrayMovingSum(win_size)(x)` と `groupArrayMovingAvg(win_size)(x)` ウィンドウサイズの制限の有無にかかわらず、移動合計/平均を計算します。 [\#5595](https://github.com/ClickHouse/ClickHouse/pull/5595) ([inv2004](https://github.com/inv2004))
-   Synonimを追加 `arrayFlatten` \<-\> `flatten` [\#5764](https://github.com/ClickHouse/ClickHouse/pull/5764) ([hcz](https://github.com/hczhcz))
-   インターゲートH3機能 `geoToH3` ユーバーから。 [\#4724](https://github.com/ClickHouse/ClickHouse/pull/4724) ([レメン-イヴァン](https://github.com/BHYCHIK)) [\#5805](https://github.com/ClickHouse/ClickHouse/pull/5805) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### バグ修正 {#bug-fix-21}

-   非同期updateでDNSキャッシュを実装します。 個別のスレッドで解決すべてのホストを更新DNSキャッシュが期間(設定 `dns_cache_update_period`). ホストのipが頻繁に変化するときに役立ちます。 [\#5857](https://github.com/ClickHouse/ClickHouse/pull/5857) ([アントン-ポポフ](https://github.com/CurtizJ))
-   でsegfaultを修正 `Delta` 32ビットサイズ未満の値を持つ列に影響を与えるコーデック。 バグを修正ledランダムメモリが破損す [\#5786](https://github.com/ClickHouse/ClickHouse/pull/5786) ([アレサピン](https://github.com/alesapin))
-   TTLマージでsegfaultを修正ブロック内の非物理列と。 [\#5819](https://github.com/ClickHouse/ClickHouse/pull/5819) ([アントン-ポポフ](https://github.com/CurtizJ))
-   パーツのチェックで珍しいバグを修正 `LowCardinality` 列。 以前は `checkDataPart` 常に失敗します `LowCardinality` 列。 [\#5832](https://github.com/ClickHouse/ClickHouse/pull/5832) ([アレサピン](https://github.com/alesapin))
-   回避掛けに接続した場合、サーバスレッドプールを行います。 それはからの接続にとって重要です `remote` 長い接続タイムアウトがある場合、レプリカのないシャードへの表関数または接続。 この修正 [\#5878](https://github.com/ClickHouse/ClickHouse/issues/5878) [\#5881](https://github.com/ClickHouse/ClickHouse/pull/5881) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   定数引数のサポート `evalMLModel` 機能。 この修正 [\#5817](https://github.com/ClickHouse/ClickHouse/issues/5817) [\#5820](https://github.com/ClickHouse/ClickHouse/pull/5820) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ClickHouseがデフォルトのタイムゾーンを `UCT` 代わりに `UTC`. この修正 [\#5804](https://github.com/ClickHouse/ClickHouse/issues/5804). [\#5828](https://github.com/ClickHouse/ClickHouse/pull/5828) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定バッファアンダーフロー `visitParamExtractRaw`. この修正 [\#5901](https://github.com/ClickHouse/ClickHouse/issues/5901) [\#5902](https://github.com/ClickHouse/ClickHouse/pull/5902) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   現在配布中 `DROP/ALTER/TRUNCATE/OPTIMIZE ON CLUSTER` クエリはリーダーレプリカで直接実行されます。 [\#5757](https://github.com/ClickHouse/ClickHouse/pull/5757) ([アレサピン](https://github.com/alesapin))
-   修正 `coalesce` のために `ColumnConst` と `ColumnNullable` +関連する変更。 [\#5755](https://github.com/ClickHouse/ClickHouse/pull/5755) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   を修正 `ReadBufferFromKafkaConsumer` 新しいメッセージを読み続けるように `commit()` 前に失速したとしても [\#5852](https://github.com/ClickHouse/ClickHouse/pull/5852) ([イワン](https://github.com/abyss7))
-   修正 `FULL` と `RIGHT` 参加時の結果参加 `Nullable` 右のテーブルのキー。 [\#5859](https://github.com/ClickHouse/ClickHouse/pull/5859) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   優先度の低いクエリの無限のスリープの可能性のある修正。 [\#5842](https://github.com/ClickHouse/ClickHouse/pull/5842) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   いくつかのクエリがquery\_logに表示されない原因となる競合状態を修正しました `SYSTEM FLUSH LOGS` クエリ。 [\#5456](https://github.com/ClickHouse/ClickHouse/issues/5456) [\#5685](https://github.com/ClickHouse/ClickHouse/pull/5685) ([アントン-ポポフ](https://github.com/CurtizJ))
-   固定 `heap-use-after-free` 既に削除された複写機オブジェクトを使用しようとする時計によって引き起こされるClusterCopierのASan警告。 [\#5871](https://github.com/ClickHouse/ClickHouse/pull/5871) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   間違って修正 `StringRef` 一部の実装によって返されるポインタ `IColumn::deserializeAndInsertFromArena`. このバグは単体テストのみに影響しました。 [\#5973](https://github.com/ClickHouse/ClickHouse/pull/5973) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   同じ名前の列をマスクするソースおよび中間配列結合列を防止します。 [\#5941](https://github.com/ClickHouse/ClickHouse/pull/5941) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   Mysqlスタイルの識別子を引用してMySQLエンジンにクエリを挿入し、選択を修正しました。 [\#5704](https://github.com/ClickHouse/ClickHouse/pull/5704) ([冬張](https://github.com/zhang2014))
-   さて `CHECK TABLE` クエリはMergeTreeエンジンファミリで動作できます。 を返しますチェック状態とメッセージの場合の各部分(またはファイルの場合simplierエンジン） また、壊れた部分のフェッチのバグを修正しました。 [\#5865](https://github.com/ClickHouse/ClickHouse/pull/5865) ([アレサピン](https://github.com/alesapin))
-   SPLIT\_SHARED\_LIBRARIESランタイムを修正 [\#5793](https://github.com/ClickHouse/ClickHouse/pull/5793) ([ダニラ-クテニン](https://github.com/danlark1))
-   固定時のタイムゾーンの初期化 `/etc/localtime` のような相対的なシンボリックリンク `../usr/share/zoneinfo/Europe/Moscow` [\#5922](https://github.com/ClickHouse/ClickHouse/pull/5922) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   clickhouse-複写機：シャットダウン時に無料で使用した後に修正 [\#5752](https://github.com/ClickHouse/ClickHouse/pull/5752) ([プロラー](https://github.com/proller))
-   更新 `simdjson`. ゼロバイトのいくつかの無効なJSONsが正常に解析する問題を修正しました。 [\#5938](https://github.com/ClickHouse/ClickHouse/pull/5938) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   SystemLogsのシャットダウンを修正 [\#5802](https://github.com/ClickHouse/ClickHouse/pull/5802) ([アントン-ポポフ](https://github.com/CurtizJ))
-   Invalidate\_queryの条件が辞書に依存する場合のハングを修正しました。 [\#6011](https://github.com/ClickHouse/ClickHouse/pull/6011) ([ヴィタリー-バラノフ](https://github.com/vitlibar))

#### 改善 {#improvement-6}

-   クラスター構成で解決不可能なアドレスを許可します。 これらは使用できないと見なされ、接続の試行ごとに解決が試みられます。 これはKubernetesにとって特に便利です。 この修正 [\#5714](https://github.com/ClickHouse/ClickHouse/issues/5714) [\#5924](https://github.com/ClickHouse/ClickHouse/pull/5924) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   アイドル状態のTCP接続を閉じます(既定では一時間のタイムアウト)。 これは、すべてのサーバーに複数の分散テーブルがある大規模なクラスターでは、すべてのサーバーが他のすべてのサーバーとの接続プールを保持でき、クエリの同時実 この修正 [\#5879](https://github.com/ClickHouse/ClickHouse/issues/5879) [\#5880](https://github.com/ClickHouse/ClickHouse/pull/5880) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   より良い品質の `topK` 機能。 新しい要素の重みが大きい場合、最後の要素を削除するようにSavingSpace setの動作を変更しました。 [\#5833](https://github.com/ClickHouse/ClickHouse/issues/5833) [\#5850](https://github.com/ClickHouse/ClickHouse/pull/5850) ([ギヨーム-タッセリー](https://github.com/YiuRULE))
-   URLの機能と作業領域は今では不完全なUrlなスキーム [\#5725](https://github.com/ClickHouse/ClickHouse/pull/5725) ([アレサピン](https://github.com/alesapin))
-   に追加されたチェックサム `system.parts_columns` テーブル。 [\#5874](https://github.com/ClickHouse/ClickHouse/pull/5874) ([ニキータ-ミハイロフ](https://github.com/nikitamikhaylov))
-   追加 `Enum` のためのsynonimとしてのデータ型 `Enum8` または `Enum16`. [\#5886](https://github.com/ClickHouse/ClickHouse/pull/5886) ([dimarub2000](https://github.com/dimarub2000))
-   のための完全なビット転置の変形 `T64` コーデック。 がより良い圧縮 `zstd`. [\#5742](https://github.com/ClickHouse/ClickHouse/pull/5742) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   条件 `startsWith` 機能するまでに使用その有効なタイプを利用します。 この修正 [\#5310](https://github.com/ClickHouse/ClickHouse/issues/5310) と [\#5882](https://github.com/ClickHouse/ClickHouse/issues/5882) [\#5919](https://github.com/ClickHouse/ClickHouse/pull/5919) ([dimarub2000](https://github.com/dimarub2000))
-   使用を許可する `clickhouse-copier` クロス-複製クラスタトポロジーを許可する空のデータベースの名前です。 [\#5745](https://github.com/ClickHouse/ClickHouse/pull/5745) ([nvartolomei](https://github.com/nvartolomei))
-   使用 `UTC` システムのデフォルトのタイムゾーンとして `tzdata` (e.g. bare Docker container). Before this patch, error message `Could not determine local time zone` サーバーまたはクライアントが起動を拒否しました。 [\#5827](https://github.com/ClickHouse/ClickHouse/pull/5827) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   関数内の浮動小数点引数のサポートを返しました `quantileTiming` 下位互換性のため。 [\#5911](https://github.com/ClickHouse/ClickHouse/pull/5911) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   エラーメッセージに列がないテーブルを表示します。 [\#5768](https://github.com/ClickHouse/ClickHouse/pull/5768) ([イワン](https://github.com/abyss7))
-   さまざまなユーザーが同じquery\_idでクエリを実行できない [\#5430](https://github.com/ClickHouse/ClickHouse/pull/5430) ([プロラー](https://github.com/proller))
-   より強固なコードの送信メトリクスをグラファイトを表してい それは長い倍数の間に働きます `RENAME TABLE` 作戦だ [\#5875](https://github.com/ClickHouse/ClickHouse/pull/5875) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   よりエラーメッセージが表示されますのでThreadPoolできない予定、タスクを実行します。 この修正 [\#5305](https://github.com/ClickHouse/ClickHouse/issues/5305) [\#5801](https://github.com/ClickHouse/ClickHouse/pull/5801) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   より直感的にngramsearchを反転する [\#5807](https://github.com/ClickHouse/ClickHouse/pull/5807) ([ダニラ-クテニン](https://github.com/danlark1))
-   HDFS engine builderでのユーザー解析の追加 [\#5946](https://github.com/ClickHouse/ClickHouse/pull/5946) ([akonyaev90](https://github.com/akonyaev90))
-   デフォルト値の更新 `max_ast_elements parameter` [\#5933](https://github.com/ClickHouse/ClickHouse/pull/5933) ([アルテム-コノヴァロフ](https://github.com/izebit))
-   廃止された設定の概念を追加しました。 廃止された設定 `allow_experimental_low_cardinality_type` 効果無しで使用することができます。 [0f15c01c6802f7ce1a1494c12c846be8c98944cd](https://github.com/ClickHouse/ClickHouse/commit/0f15c01c6802f7ce1a1494c12c846be8c98944cd) [アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov)

#### 性能向上 {#performance-improvement-4}

-   増加数の河川から選択するとMergeテーブルにより均一に分布す。 設定を追加 `max_streams_multiplier_for_merge_tables`. この修正 [\#5797](https://github.com/ClickHouse/ClickHouse/issues/5797) [\#5915](https://github.com/ClickHouse/ClickHouse/pull/5915) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-7}

-   Clickhouseの異なるバージョンとのクライアントサーバーの相互作用の下位互換性テストを追加します。 [\#5868](https://github.com/ClickHouse/ClickHouse/pull/5868) ([アレサピン](https://github.com/alesapin))
-   テスト対象の情報を毎にコミットを引きます。 [\#5896](https://github.com/ClickHouse/ClickHouse/pull/5896) ([アレサピン](https://github.com/alesapin))
-   アドレスsanitizerと協力してカスタムアロケータをサポート (`Arena` と `ArenaWithFreeLists`）のよりよいデバッグのため “use-after-free” エラー [\#5728](https://github.com/ClickHouse/ClickHouse/pull/5728) ([akuzm](https://github.com/akuzm))
-   に切り替える [LLVM libunwindの実装](https://github.com/llvm-mirror/libunwind) C++例外処理およびスタックトレース印刷の場合 [\#4828](https://github.com/ClickHouse/ClickHouse/pull/4828) ([ニキータ-ラプコフ](https://github.com/laplab))
-   からさらに二つの警告を追加-Weverything [\#5923](https://github.com/ClickHouse/ClickHouse/pull/5923) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   メモリサニタイザーでClickHouseを構築することができます。 [\#3949](https://github.com/ClickHouse/ClickHouse/pull/3949) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   についての固定ubsanレポート `bitTest` fuzzテストの機能。 [\#5943](https://github.com/ClickHouse/ClickHouse/pull/5943) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Docker：認証を必要とするClickHouseインスタンスを初期化する可能性を追加しました。 [\#5727](https://github.com/ClickHouse/ClickHouse/pull/5727) ([コルビャコフ-アンドレイ](https://github.com/shurshun))
-   Librdkafkaをバージョン1.1.0に更新する [\#5872](https://github.com/ClickHouse/ClickHouse/pull/5872) ([イワン](https://github.com/abyss7))
-   追加グローバルタイムアウトのための統合の試験を無効にし試験ます。 [\#5741](https://github.com/ClickHouse/ClickHouse/pull/5741) ([アレサピン](https://github.com/alesapin))
-   いくつかのThreadSanitizerエラーを修正しました。 [\#5854](https://github.com/ClickHouse/ClickHouse/pull/5854) ([akuzm](https://github.com/akuzm))
-   その `--no-undefined` オプション力、リンカーをチェックすべての外部の名の存在をリンク 分割ビルドモードでライブラリ間の実際の依存関係を追跡することは非常に便利です。 [\#5855](https://github.com/ClickHouse/ClickHouse/pull/5855) ([イワン](https://github.com/abyss7))
-   のための追加された性能試験 [\#5797](https://github.com/ClickHouse/ClickHouse/issues/5797) [\#5914](https://github.com/ClickHouse/ClickHouse/pull/5914) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Gcc-7との互換性を修正しました。 [\#5840](https://github.com/ClickHouse/ClickHouse/pull/5840) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Gcc-9のサポートが追加されました。 この修正 [\#5717](https://github.com/ClickHouse/ClickHouse/issues/5717) [\#5774](https://github.com/ClickHouse/ClickHouse/pull/5774) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Libunwindが正しくリンクされていない場合のエラーを修正。 [\#5948](https://github.com/ClickHouse/ClickHouse/pull/5948) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   PVS-Studioによって発見されたいくつかの警告を修正しました。 [\#5921](https://github.com/ClickHouse/ClickHouse/pull/5921) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   追加された初期サポート `clang-tidy` 静的な検光子。 [\#5806](https://github.com/ClickHouse/ClickHouse/pull/5806) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   BSD/Linuxエンディアンマクロの変換( ‘be64toh’ と ‘htobe64’）に相当する。 [\#5785](https://github.com/ClickHouse/ClickHouse/pull/5785) ([フー-チェン](https://github.com/fredchenbj))
-   改善された統合テストガイド。 [\#5796](https://github.com/ClickHouse/ClickHouse/pull/5796) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   Macosx+gcc9でのビルドの修正 [\#5822](https://github.com/ClickHouse/ClickHouse/pull/5822) ([フィリモノフ](https://github.com/filimonov))
-   AggreAGte-\>aggregateという難しいタイプミスを修正しました。 [\#5753](https://github.com/ClickHouse/ClickHouse/pull/5753) ([akuzm](https://github.com/akuzm))
-   Freebsdのビルドを修正 [\#5760](https://github.com/ClickHouse/ClickHouse/pull/5760) ([プロラー](https://github.com/proller))
-   追加リンク実験YouTubeチャンネルサイト [\#5845](https://github.com/ClickHouse/ClickHouse/pull/5845) ([イヴァン-ブリンコフ](https://github.com/blinkov))
-   CMake:カバレッジフラグのオプションを追加:WITH\_COVERAGE [\#5776](https://github.com/ClickHouse/ClickHouse/pull/5776) ([プロラー](https://github.com/proller))
-   インラインPODArrayの初期サイズを修正しました。 [\#5787](https://github.com/ClickHouse/ClickHouse/pull/5787) ([akuzm](https://github.com/akuzm))
-   clickhouse-サーバー.postinst:centos6のos検出を修正 [\#5788](https://github.com/ClickHouse/ClickHouse/pull/5788) ([プロラー](https://github.com/proller))
-   Arch linuxパッケージの生成を追加。 [\#5719](https://github.com/ClickHouse/ClickHouse/pull/5719) ([ウラジーミル-チェボタレフ](https://github.com/excitoon))
-   共通/設定を分割します。h by libs(dbms) [\#5715](https://github.com/ClickHouse/ClickHouse/pull/5715) ([プロラー](https://github.com/proller))
-   の修正 “Arcadia” ムの構築 [\#5795](https://github.com/ClickHouse/ClickHouse/pull/5795) ([プロラー](https://github.com/proller))
-   型破りなビルドの修正(gcc9、サブモジュールなし) [\#5792](https://github.com/ClickHouse/ClickHouse/pull/5792) ([プロラー](https://github.com/proller))
-   バグが発生しやすいことが判明したため、unalignedstoreで明示的な型を必要とする [\#5791](https://github.com/ClickHouse/ClickHouse/pull/5791) ([akuzm](https://github.com/akuzm))
-   MacOSのビルドを修正 [\#5830](https://github.com/ClickHouse/ClickHouse/pull/5830) ([フィリモノフ](https://github.com/filimonov))
-   より大きなデータセットを持つ新しいJIT機能に関する性能テスト [\#5263](https://github.com/ClickHouse/ClickHouse/issues/5263) [\#5887](https://github.com/ClickHouse/ClickHouse/pull/5887) ([ギヨーム-タッセリー](https://github.com/YiuRULE))
-   Stress testでのステートフルテストの実行 [12693e568722f11e19859742f56428455501fd2a](https://github.com/ClickHouse/ClickHouse/commit/12693e568722f11e19859742f56428455501fd2a) ([アレサピン](https://github.com/alesapin))

#### 下位互換性のない変更 {#backward-incompatible-change-7}

-   `Kafka` このバージョンでは壊れている。
-   有効にする `adaptive_index_granularity` =新しいのためのデフォルトで10MB `MergeTree` テーブル バージョン19.11+で新しいMergeTreeテーブルを作成した場合、19.6より前のバージョンへのダウングレードは不可能になります。 [\#5628](https://github.com/ClickHouse/ClickHouse/pull/5628) ([アレサピン](https://github.com/alesapin))
-   Yandexのによって使用された古い文書化されていない埋め込み辞書を削除しました。メトリカ 機能 `OSIn`, `SEIn`, `OSToRoot`, `SEToRoot`, `OSHierarchy`, `SEHierarchy` 利用できなくなりました。 ご利用の場合これらの機能は、メールclickhouse-feedback@yandex-team.com. 注:最後の瞬間にしてくれました。 [\#5780](https://github.com/ClickHouse/ClickHouse/pull/5780) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

## ClickHouseリリース19.10 {#clickhouse-release-19-10}

### ClickHouseリリース19.10.1.5,2019-07-12 {#clickhouse-release-19-10-1-5-2019-07-12}

#### 新機能 {#new-feature-7}

-   新しい列コーデックの追加: `T64`. (U)IntX/EnumX/Data(Time)/DecimalX列用に作成されました。 これは、一定または小さな範囲の値を持つ列に適しているはずです。 コーデック自体は、再圧縮せずにデータ型を拡大または縮小できます。 [\#5557](https://github.com/ClickHouse/ClickHouse/pull/5557) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   データベースエンジ `MySQL` できる全てのテーブルをリモートMySQLサーバー [\#5599](https://github.com/ClickHouse/ClickHouse/pull/5599) ([冬張](https://github.com/zhang2014))
-   `bitmapContains` 実装。 それはより速い2xです `bitmapHasAny` の場合、二つのビットマップ一要素となります。 [\#5535](https://github.com/ClickHouse/ClickHouse/pull/5535) ([Zhichang Yu](https://github.com/yuzhichang))
-   のサポート `crc32` 関数（MySQLやPHPと同じように動作します）。 ハッシュ関数が必要な場合は使用しないでください。 [\#5661](https://github.com/ClickHouse/ClickHouse/pull/5661) ([レメン-イヴァン](https://github.com/BHYCHIK))
-   実装 `SYSTEM START/STOP DISTRIBUTED SENDS` 非同期挿入を制御するクエリ `Distributed` テーブル [\#4935](https://github.com/ClickHouse/ClickHouse/pull/4935) ([冬張](https://github.com/zhang2014))

#### バグ修正 {#bug-fix-22}

-   無視するクエリの実行を制限およびmaxのパーツのサイズの合併に制限が実行中の突然変異. [\#5659](https://github.com/ClickHouse/ClickHouse/pull/5659) ([アントン-ポポフ](https://github.com/CurtizJ))
-   通常のブロックの重複除外（非常にまれ）と重複ブロックの挿入（より頻繁に）につながる可能性のあるバグを修正しました。 [\#5549](https://github.com/ClickHouse/ClickHouse/pull/5549) ([アレサピン](https://github.com/alesapin))
-   機能の修正 `arrayEnumerateUniqRanked` 空の配列を持つ引数の場合 [\#5559](https://github.com/ClickHouse/ClickHouse/pull/5559) ([プロラー](https://github.com/proller))
-   な購読カフカ題なく意思をポーリングメッセージ. [\#5698](https://github.com/ClickHouse/ClickHouse/pull/5698) ([イワン](https://github.com/abyss7))
-   設定を行う `join_use_nulls` Nullable内に入ることができない型に対しては効果を得ない [\#5700](https://github.com/ClickHouse/ClickHouse/pull/5700) ([Olga Khvostikova](https://github.com/stavrolia))
-   固定 `Incorrect size of index granularity` エラー [\#5720](https://github.com/ClickHouse/ClickHouse/pull/5720) ([コラクスター](https://github.com/coraxster))
-   小数点変換オーバーフローに浮動小数点を修正 [\#5607](https://github.com/ClickHouse/ClickHouse/pull/5607) ([コラクスター](https://github.com/coraxster))
-   フラッシュバッファ `WriteBufferFromHDFS`デストラクタと呼ばれる。 これは書き込みを修正する `HDFS`. [\#5684](https://github.com/ClickHouse/ClickHouse/pull/5684) ([新東鵬](https://github.com/eejoin))

#### 改善 {#improvement-7}

-   空のセルを扱う `CSV` 設定時のデフォルト値として `input_format_defaults_for_omitted_fields` 有効です。 [\#5625](https://github.com/ClickHouse/ClickHouse/pull/5625) ([akuzm](https://github.com/akuzm))
-   外部辞書の非ブロック読み込み。 [\#5567](https://github.com/ClickHouse/ClickHouse/pull/5567) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   ネットワークタイムアウトできるダイナミックな変化のための既存の接続に従って設定します。 [\#4558](https://github.com/ClickHouse/ClickHouse/pull/4558) ([コンスタンチン-ポドシュモク](https://github.com/podshumok))
-   を使用して “public\_suffix\_list” 関数の場合 `firstSignificantSubdomain`, `cutToFirstSignificantSubdomain`. で用いたハッシュテーブルの生成 `gperf` ファイルから生成されたリスト：https://publicsuffix.org/list/public\_suffix\_list.dat.(たとえば、ドメインを認識します `ac.uk` 非重要として）。 [\#5030](https://github.com/ClickHouse/ClickHouse/pull/5030) ([ギヨーム-タッセリー](https://github.com/YiuRULE))
-   採用 `IPv6` システムテーブルのデータ型。 `system.processes` と `system.query_log` [\#5640](https://github.com/ClickHouse/ClickHouse/pull/5640) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   MySQL互換プロトコルとの接続にセッションを使用する。 \#5476 [\#5646](https://github.com/ClickHouse/ClickHouse/pull/5646) ([ユーリー-バラノフ](https://github.com/yurriy))
-   よりサポート `ALTER` クエリ `ON CLUSTER`. [\#5593](https://github.com/ClickHouse/ClickHouse/pull/5593) [\#5613](https://github.com/ClickHouse/ClickHouse/pull/5613) ([スンディリ](https://github.com/sundy-li))
-   サポート `<logger>` セクション `clickhouse-local` 設定ファイル。 [\#5540](https://github.com/ClickHouse/ClickHouse/pull/5540) ([プロラー](https://github.com/proller))
-   クエリの実行を許可する `remote` テーブル関数 `clickhouse-local` [\#5627](https://github.com/ClickHouse/ClickHouse/pull/5627) ([プロラー](https://github.com/proller))

#### 性能向上 {#performance-improvement-5}

-   MergeTree列の最後に最後のマークを書き込む可能性を追加します。 これを避ける無駄を読み込みのためのキーのテーブルデータです。 適応インデックスの粒度が使用されている場合にのみ有効になります。 [\#5624](https://github.com/ClickHouse/ClickHouse/pull/5624) ([アレサピン](https://github.com/alesapin))
-   非常に遅いファイルシステムでのMergeTreeテーブルのパフォーマンスの向上 `stat` シスコール [\#5648](https://github.com/ClickHouse/ClickHouse/pull/5648) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定性能の劣化からの読み出しMergeTreeテーブルで導入されたバージョン19.6. 修正\#5631. [\#5633](https://github.com/ClickHouse/ClickHouse/pull/5633) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-8}

-   実装 `TestKeeper` テストに使用されるZooKeeperインタフェースの実装として [\#5643](https://github.com/ClickHouse/ClickHouse/pull/5643) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov)) ([レブシュキン-アレクセイ](https://github.com/alexey-milovidov))
-   これからは `.sql` 試験走行ができるによって切り離されたサーバを並列には、ランダムなデータベースです。 ることができると考えて、追加試験とカスタムサーバー構成は、必ず異なる試験に影響しません。 [\#5554](https://github.com/ClickHouse/ClickHouse/pull/5554) ([イワン](https://github.com/abyss7))
-   削除 `<name>` と `<metrics>` 性能テストから [\#5672](https://github.com/ClickHouse/ClickHouse/pull/5672) ([Olga Khvostikova](https://github.com/stavrolia))
-   固定 “select\_format” 性能試験のための `Pretty` 形式 [\#5642](https://github.com/ClickHouse/ClickHouse/pull/5642) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

## ClickHouseリリース19.9 {#clickhouse-release-19-9}

### ClickHouseリリース19.9.3.31,2019-07-05 {#clickhouse-release-19-9-3-31-2019-07-05}

#### バグ修正 {#bug-fix-23}

-   32ビットサイズ未満の値を持つ列に影響を与えるデルタコーデックでsegfaultを修正しました。 バグを修正ledランダムメモリが破損す [\#5786](https://github.com/ClickHouse/ClickHouse/pull/5786) ([アレサピン](https://github.com/alesapin))
-   低カーディナリティカラムでパーツをチェックする際のまれなバグを修正。 [\#5832](https://github.com/ClickHouse/ClickHouse/pull/5832) ([アレサピン](https://github.com/alesapin))
-   TTLマージでsegfaultを修正ブロック内の非物理列と。 [\#5819](https://github.com/ClickHouse/ClickHouse/pull/5819) ([アントン-ポポフ](https://github.com/CurtizJ))
-   優先度の低いクエリの潜在的な無限のスリープを修正しました。 [\#5842](https://github.com/ClickHouse/ClickHouse/pull/5842) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ClickHouseがUTCではなくUCTとして既定のタイムゾーンを決定する方法を修正しました。 [\#5828](https://github.com/ClickHouse/ClickHouse/pull/5828) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   のを修正した。約の実行の分散DROP/ALTER/QUICK/最適化クラスターに関するお問い合わせフォロワレプリカの前にリーダーレプリカ. これで、リーダーレプリカで直接実行されます。 [\#5757](https://github.com/ClickHouse/ClickHouse/pull/5757) ([アレサピン](https://github.com/alesapin))
-   固定レースの条件を回避することが可能となり、一部のクエリーのような画面が、表示されないでquery\_logぐにシステムのフラッシュログを返します。 [\#5685](https://github.com/ClickHouse/ClickHouse/pull/5685) ([アントン-ポポフ](https://github.com/CurtizJ))
-   追加の欠落支援のための定数の引数 `evalMLModel` 機能。 [\#5820](https://github.com/ClickHouse/ClickHouse/pull/5820) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.9.2.4,2019-06-24 {#clickhouse-release-19-9-2-4-2019-06-24}

#### 新機能 {#new-feature-8}

-   冷凍部品に関する情報を印刷する `system.parts` テーブル。 [\#5471](https://github.com/ClickHouse/ClickHouse/pull/5471) ([プロラー](https://github.com/proller))
-   お客様のパスワードをclickhouse-クライアント開始tty名が設定されていない場合には引数 [\#5092](https://github.com/ClickHouse/ClickHouse/pull/5092) ([プロラー](https://github.com/proller))
-   実装 `dictGet` と `dictGetOrDefault` Decimal型の関数。 [\#5394](https://github.com/ClickHouse/ClickHouse/pull/5394) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### 改善 {#improvement-8}

-   Debian init:サービス停止タイムアウトの追加 [\#5522](https://github.com/ClickHouse/ClickHouse/pull/5522) ([プロラー](https://github.com/proller))
-   追加の設定により禁止されるデフォルトテーブルの作成と怪しいタイプLowCardinality [\#5448](https://github.com/ClickHouse/ClickHouse/pull/5448) ([Olga Khvostikova](https://github.com/stavrolia))
-   回帰機能を返却時の重量モデルとして用いられていない状態で機能 `evalMLMethod`. [\#5411](https://github.com/ClickHouse/ClickHouse/pull/5411) ([Quid37](https://github.com/Quid37))
-   回帰方法の名前を変更し、改善します。 [\#5492](https://github.com/ClickHouse/ClickHouse/pull/5492) ([Quid37](https://github.com/Quid37))
-   明のインタフェースを文字列が揃. [\#5586](https://github.com/ClickHouse/ClickHouse/pull/5586) ([ダニラ-クテニン](https://github.com/danlark1))

#### バグ修正 {#bug-fix-24}

-   カフカで潜在的なデータ損失を修正 [\#5445](https://github.com/ClickHouse/ClickHouse/pull/5445) ([イワン](https://github.com/abyss7))
-   で潜在的な無限ループを修正 `PrettySpace` 列がゼロで呼び出された場合の書式 [\#5560](https://github.com/ClickHouse/ClickHouse/pull/5560) ([Olga Khvostikova](https://github.com/stavrolia))
-   線形モデルの固定UInt32オーバーフローバグ。 非constモデル引数のeval MLモデルを許可します。 [\#5516](https://github.com/ClickHouse/ClickHouse/pull/5516) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   `ALTER TABLE ... DROP INDEX IF EXISTS ...` なる例外を提供される場合指数が存在しない [\#5524](https://github.com/ClickHouse/ClickHouse/pull/5524) ([グレブ-ノビコフ](https://github.com/NanoBjorn))
-   でsegfaultを修正 `bitmapHasAny` スカラーサブクエリで [\#5528](https://github.com/ClickHouse/ClickHouse/pull/5528) ([Zhichang Yu](https://github.com/yuzhichang))
-   固定の場合にはエラー複製を接続プールなリトライを解決するホストでも、DNSキャッシュした。 [\#5534](https://github.com/ClickHouse/ClickHouse/pull/5534) ([アレサピン](https://github.com/alesapin))
-   固定 `ALTER ... MODIFY TTL` 複製されたマージツリーです [\#5539](https://github.com/ClickHouse/ClickHouse/pull/5539) ([アントン-ポポフ](https://github.com/CurtizJ))
-   マテリアライズされた列で分散テーブルに挿入を修正 [\#5429](https://github.com/ClickHouse/ClickHouse/pull/5429) ([Azat Khuzhin](https://github.com/azat))
-   Fix悪allocが切り詰め加入の保管 [\#5437](https://github.com/ClickHouse/ClickHouse/pull/5437) ([Tシーズン](https://github.com/TCeason))
-   に最近のバージョンのパッケージtzdata一部のファイルsymlinksます。 現在の仕組みを検出するデフォルトのタイムゾーンの故障が考えられ、間違った名前に一部のタイムゾーン. これで、少なくともタイムゾーン名を指定した場合は、TZの内容に強制します。 [\#5443](https://github.com/ClickHouse/ClickHouse/pull/5443) ([イワン](https://github.com/abyss7))
-   合計で一定の針が少なくとも16KBの長さである場合、MultiVolnitskyサーチャーでいくつかの非常にまれなケースを修正します。 このアルゴリズムは、以前の結果を見逃したり上書きしたりすることがあります。 `multiSearchAny`. [\#5588](https://github.com/ClickHouse/ClickHouse/pull/5588) ([ダニラ-クテニン](https://github.com/danlark1))
-   ExternalData要求の設定でClickHouse設定を使用できなかった場合の問題を修正しました。 また、今のところ、設定 `date_time_input_format` と `low_cardinality_allow_in_native_format` 名前のあいまいさのために使用することはできません（外部データではテーブル形式として解釈でき、クエリでは設定にすることができます）。 [\#5455](https://github.com/ClickHouse/ClickHouse/pull/5455) ([ダニラ-クテニン](https://github.com/danlark1))
-   パーツがZOOKEEPERから落とさずにFSからのみ取り除かれたバグを修正しました。 [\#5520](https://github.com/ClickHouse/ClickHouse/pull/5520) ([アレサピン](https://github.com/alesapin))
-   MySQLプロトコルか [\#5478](https://github.com/ClickHouse/ClickHouse/pull/5478) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   DDLクエリ処理中にZNONODEをスキップ [\#5489](https://github.com/ClickHouse/ClickHouse/pull/5489) ([Azat Khuzhin](https://github.com/azat))
-   ミックスを修正 `UNION ALL` 結果列タイプ。 があった場合に矛盾したデータとカラムの種類によ列あります。 [\#5503](https://github.com/ClickHouse/ClickHouse/pull/5503) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   間違った整数に対して例外をスローする `dictGetT` クラッシュの代わりに関数。 [\#5446](https://github.com/ClickHouse/ClickHouse/pull/5446) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   ハッシュ化されたディクショナリのelement\_countとload\_factorが間違っているのを修正 `system.dictionaries` テーブル。 [\#5440](https://github.com/ClickHouse/ClickHouse/pull/5440) ([Azat Khuzhin](https://github.com/azat))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-9}

-   固定ビルドなし `Brotli` HTTP圧縮サポート (`ENABLE_BROTLI=OFF` cmake変数）。 [\#5521](https://github.com/ClickHouse/ClickHouse/pull/5521) ([アントン-ユジャニノフ](https://github.com/citrin))
-   轟音を含める。轟音/轟音としてh。h [\#5523](https://github.com/ClickHouse/ClickHouse/pull/5523) ([オリヴェイ-デシュ](https://github.com/orivej))
-   Hyperscanでgcc9の警告を修正しました（＃ラインディレクティブは悪です！) [\#5546](https://github.com/ClickHouse/ClickHouse/pull/5546) ([ダニラ-クテニン](https://github.com/danlark1))
-   全ての場合の警告表gcc-9. いくつかのcontribの問題を修正します。 Gcc9ICEを修正し、bugzillaに提出してください。 [\#5498](https://github.com/ClickHouse/ClickHouse/pull/5498) ([ダニラ-クテニン](https://github.com/danlark1))
-   Lldとのリンクを修正 [\#5477](https://github.com/ClickHouse/ClickHouse/pull/5477) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   辞書で使用されていない特殊化を削除する [\#5452](https://github.com/ClickHouse/ClickHouse/pull/5452) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   向上性能試験のためのフォーマットと構文解析表の異なる種類のファイル [\#5497](https://github.com/ClickHouse/ClickHouse/pull/5497) ([Olga Khvostikova](https://github.com/stavrolia))
-   並列テスト実行の修正 [\#5506](https://github.com/ClickHouse/ClickHouse/pull/5506) ([プロラー](https://github.com/proller))
-   Docker:clickhouse-testからconfigsを使用する [\#5531](https://github.com/ClickHouse/ClickHouse/pull/5531) ([プロラー](https://github.com/proller))
-   FreeBSD用のコンパイルを修正 [\#5447](https://github.com/ClickHouse/ClickHouse/pull/5447) ([プロラー](https://github.com/proller))
-   更にブースト1.70 [\#5570](https://github.com/ClickHouse/ClickHouse/pull/5570) ([プロラー](https://github.com/proller))
-   サブモジュールとしてビルドclickhouseを修正 [\#5574](https://github.com/ClickHouse/ClickHouse/pull/5574) ([プロラー](https://github.com/proller))
-   JSONExtractパフォーマンステストの改善 [\#5444](https://github.com/ClickHouse/ClickHouse/pull/5444) ([ヴィタリー-バラノフ](https://github.com/vitlibar))

## ClickHouseリリース19.8 {#clickhouse-release-19-8}

### ClickHouse Release19.8.3.8,2019-06-11 {#clickhouse-release-19-8-3-8-2019-06-11}

#### 新しい機能 {#new-features}

-   JSONで動作する関数を追加しました [\#4686](https://github.com/ClickHouse/ClickHouse/pull/4686) ([hcz](https://github.com/hczhcz)) [\#5124](https://github.com/ClickHouse/ClickHouse/pull/5124). ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   多くの言語に存在するbasename関数と同様の動作を持つ関数basenameを追加します (`os.path.basename` pythonでは, `basename` in PHP, etc…). Work with both an UNIX-like path or a Windows path. [\#5136](https://github.com/ClickHouse/ClickHouse/pull/5136) ([ギヨーム-タッセリー](https://github.com/YiuRULE))
-   追加 `LIMIT n, m BY` または `LIMIT m OFFSET n BY` LIMIT BY句にnのオフセットを設定する構文。 [\#5138](https://github.com/ClickHouse/ClickHouse/pull/5138) ([アントン-ポポフ](https://github.com/CurtizJ))
-   新しいデータ型を追加 `SimpleAggregateFunction` これにより、軽い集計を持つ列を `AggregatingMergeTree`. これは、次のような単純な関数でのみ使用できます `any`, `anyLast`, `sum`, `min`, `max`. [\#4629](https://github.com/ClickHouse/ClickHouse/pull/4629) ([ボリス-グランヴォー](https://github.com/bgranvea))
-   関数内の非定数引数のサポートが追加されました `ngramDistance` [\#5198](https://github.com/ClickHouse/ClickHouse/pull/5198) ([ダニラ-クテニン](https://github.com/danlark1))
-   追加された機能 `skewPop`, `skewSamp`, `kurtPop` と `kurtSamp` シーケンスの歪度、サンプルの歪度、尖度、およびサンプルの尖度をそれぞれ計算します。 [\#5200](https://github.com/ClickHouse/ClickHouse/pull/5200) ([hcz](https://github.com/hczhcz))
-   サポートの名前変更の操作 `MaterializeView` ストレージ。 [\#5209](https://github.com/ClickHouse/ClickHouse/pull/5209) ([ギヨーム-タッセリー](https://github.com/YiuRULE))
-   MySQL clientを使用してClickHouseに接続できるサーバーを追加しました。 [\#4715](https://github.com/ClickHouse/ClickHouse/pull/4715) ([ユーリー-バラノフ](https://github.com/yurriy))
-   追加 `toDecimal*OrZero` と `toDecimal*OrNull` 機能。 [\#5291](https://github.com/ClickHouse/ClickHouse/pull/5291) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   関数の小数点型のサポート: `quantile`, `quantiles`, `median`, `quantileExactWeighted`, `quantilesExactWeighted`,medianExactWeighted. [\#5304](https://github.com/ClickHouse/ClickHouse/pull/5304) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   追加 `toValidUTF8` function, which replaces all invalid UTF-8 characters by replacement character � (U+FFFD). [\#5322](https://github.com/ClickHouse/ClickHouse/pull/5322) ([ダニラ-クテニン](https://github.com/danlark1))
-   追加 `format` 機能。 引数にリストされた文字列で定数パターン（簡略化されたPython形式パターン）を書式設定します。 [\#5330](https://github.com/ClickHouse/ClickHouse/pull/5330) ([ダニラ-クテニン](https://github.com/danlark1))
-   追加 `system.detached_parts` の分離された部分に関する情報を含む表 `MergeTree` テーブル [\#5353](https://github.com/ClickHouse/ClickHouse/pull/5353) ([akuzm](https://github.com/akuzm))
-   追加 `ngramSearch` 針と干し草の山の非対称差を計算する関数。 [\#5418](https://github.com/ClickHouse/ClickHouse/pull/5418)[\#5422](https://github.com/ClickHouse/ClickHouse/pull/5422) ([ダニラ-クテニン](https://github.com/danlark1))
-   集計関数インタフェースを用いた基本的な機械学習法（確率的線形回帰とロジスティック回帰）の実装。 モデルの重みを更新するための異なる戦略（単純勾配降下法、運動量の方法、ネステロフ法）を持っています。 にも対応-ミニバッチのカスタムサイズです。 [\#4943](https://github.com/ClickHouse/ClickHouse/pull/4943) ([Quid37](https://github.com/Quid37))
-   の実装 `geohashEncode` と `geohashDecode` 機能。 [\#5003](https://github.com/ClickHouse/ClickHouse/pull/5003) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   集計関数を追加 `timeSeriesGroupSum` る累積の異なる時系列のサンプルのタイムスタンプなアライメントを実施します。 これは、二つのサンプルタイムスタンプ間の線形補間を使用して、一緒に時系列を合計します。 集計関数を追加 `timeSeriesGroupRateSum`、時系列のレートを計算し、その後、一緒にレートを合計します。 [\#4542](https://github.com/ClickHouse/ClickHouse/pull/4542) ([ヤンクアン-リュウ](https://github.com/LiuYangkuan))
-   追加された機能 `IPv4CIDRtoIPv4Range` と `IPv6CIDRtoIPv6Range` CIDRを使用して、サブネット内のIPの下限と上限を計算します。 [\#5095](https://github.com/ClickHouse/ClickHouse/pull/5095) ([ギヨーム-タッセリー](https://github.com/YiuRULE))
-   有効な設定でHTTPを使用してクエリを送信するときに、X-ClickHouse-Summaryヘッダーを追加します `send_progress_in_http_headers`. X-ClickHouse-Progressの通常の情報と、クエリに挿入された行数やバイト数などの追加情報を返します。 [\#5116](https://github.com/ClickHouse/ClickHouse/pull/5116) ([ギヨーム-タッセリー](https://github.com/YiuRULE))

#### 改善 {#improvements}

-   追加 `max_parts_in_total` パーティションキー\#5166の安全でない指定を防ぐMergeTreeファミリのテーブル(デフォルト:100 000)の設定。 [\#5171](https://github.com/ClickHouse/ClickHouse/pull/5171) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   `clickhouse-obfuscator`：初期シードと列の位置ではなく列名を組み合わせて、個々の列のシードを導出します。 ことを目的として変換するデータセットに複数の関連するテーブル、テーブルはJOINableに設定します。 [\#5178](https://github.com/ClickHouse/ClickHouse/pull/5178) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   追加された機能 `JSONExtractRaw`, `JSONExtractKeyAndValues`. 名前変更された関数 `jsonExtract<type>` に `JSONExtract<type>`. 何かがうまくいかないとき、これらの関数は対応する値を返します。 `NULL`. 変更された関数 `JSONExtract` これで、最後のパラメータから戻り値の型を取得し、nullablesを注入しません。 AVX2命令が利用できない場合にRapidJSONへのフォールバックを実装しました。 Simdjsonライブラリを新しいバージョンに更新しました。 [\#5235](https://github.com/ClickHouse/ClickHouse/pull/5235) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   さて `if` と `multiIf` 関数は条件に依存しません `Nullable` しかし、sqlの互換性のためにブランチに依存しています。 [\#5238](https://github.com/ClickHouse/ClickHouse/pull/5238) ([ジャン-ウー](https://github.com/janplus))
-   `In` 述語が生成されます `Null` 結果から `Null` のような入力 `Equal` 機能。 [\#5152](https://github.com/ClickHouse/ClickHouse/pull/5152) ([ジャン-ウー](https://github.com/janplus))
-   カフカからの行数(flush\_interval/poll\_timeout)ごとに制限時間をチェックします。 これにより、カフカの消費者からの読み取りをより頻繁に中断し、トップレベルのストリームの時間制限を確認することができます [\#5249](https://github.com/ClickHouse/ClickHouse/pull/5249) ([イワン](https://github.com/abyss7))
-   バンドルされたSASLとrdkafkaをリンク. SASLスクラム認証の使用を許可する必要があります [\#5253](https://github.com/ClickHouse/ClickHouse/pull/5253) ([イワン](https://github.com/abyss7))
-   すべての結合のRowRefListのバッチバージョン。 [\#5267](https://github.com/ClickHouse/ClickHouse/pull/5267) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   clickhouse-server:より有益なlistenエラーメッセージ。 [\#5268](https://github.com/ClickHouse/ClickHouse/pull/5268) ([プロラー](https://github.com/proller))
-   機能のためのclickhouse-copierのサポート辞書 `<sharding_key>` [\#5270](https://github.com/ClickHouse/ClickHouse/pull/5270) ([プロラー](https://github.com/proller))
-   新しい設定を追加 `kafka_commit_every_batch` カフカコミット政策を規制する。
    メッセージのすべてのバッチが処理された後、またはブロック全体がストレージに書き込まれた後です。 このトレードオフの関係を失うメッセージやみ表示することを目的としていま倍もいる。 [\#5308](https://github.com/ClickHouse/ClickHouse/pull/5308) ([イワン](https://github.com/abyss7))
-   作る `windowFunnel` 他の符号なし整数型をサポートする。 [\#5320](https://github.com/ClickHouse/ClickHouse/pull/5320) ([スンディリ](https://github.com/sundy-li))
-   仮想列のシャドウを許可する `_table` マージエンジンで。 [\#5325](https://github.com/ClickHouse/ClickHouse/pull/5325) ([イワン](https://github.com/abyss7))
-   作る `sequenceMatch` 集計機能の支援その他の符号なし整数型 [\#5339](https://github.com/ClickHouse/ClickHouse/pull/5339) ([スンディリ](https://github.com/sundy-li))
-   より良いエラーメッセージの場合はチェックサムミスマッチは一によるものと考えられるハードウェアです。 [\#5355](https://github.com/ClickHouse/ClickHouse/pull/5355) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   チェックすると配下のテーブル支援のためのサンプリング `StorageMerge` [\#5366](https://github.com/ClickHouse/ClickHouse/pull/5366) ([イワン](https://github.com/abyss7))
-   Сlose MySQL connections after their usage in external dictionaries. It is related to issue \#893. [\#5395](https://github.com/ClickHouse/ClickHouse/pull/5395) ([Clément Rodriguez](https://github.com/clemrodriguez))
-   MySQLワイヤプロトコルの改善。 形式の名前をMySQLWireに変更しました。 RAIIを使ってRSA\_freeを呼び出す。 コンテキ [\#5419](https://github.com/ClickHouse/ClickHouse/pull/5419) ([ユーリー-バラノフ](https://github.com/yurriy))
-   clickhouse-client: allow to run with unaccessable history file (read-only, no disk space, file is directory, …). [\#5431](https://github.com/ClickHouse/ClickHouse/pull/5431) ([プロラー](https://github.com/proller))
-   分散テーブルへの非同期挿入のクエリ設定を尊重します。 [\#4936](https://github.com/ClickHouse/ClickHouse/pull/4936) ([Tシーズン](https://github.com/TCeason))
-   名前変更された関数 `leastSqr` に `simpleLinearRegression`, `LinearRegression` に `linearRegression`, `LogisticRegression` に `logisticRegression`. [\#5391](https://github.com/ClickHouse/ClickHouse/pull/5391) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))

#### 性能の向上 {#performance-improvements}

-   ALTER MODIFY queryで、複製されていないMergeTreeテーブルの一部の処理を並列化します。 [\#4639](https://github.com/ClickHouse/ClickHouse/pull/4639) ([イヴァン-クシュ](https://github.com/IvanKush))
-   正規表現の抽出における最適化。 [\#5193](https://github.com/ClickHouse/ClickHouse/pull/5193) [\#5191](https://github.com/ClickHouse/ClickHouse/pull/5191) ([ダニラ-クテニン](https://github.com/danlark1))
-   Join onセクションでのみ使用されている場合は、右結合キー列をjoin resultに追加しないでください。 [\#5260](https://github.com/ClickHouse/ClickHouse/pull/5260) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   最初の空の応答の後、Kafkaバッファをフリーズします。 それは多数の呼出しをの避けます `ReadBuffer::next()` いくつかの行解析ストリームの空の結果の場合。 [\#5283](https://github.com/ClickHouse/ClickHouse/pull/5283) ([イワン](https://github.com/abyss7))
-   `concat` 複数の引数に対する関数の最適化。 [\#5357](https://github.com/ClickHouse/ClickHouse/pull/5357) ([ダニラ-クテニン](https://github.com/danlark1))
-   Query optimisation. Allow push down IN statement while rewriting commа/cross join into inner one. [\#5396](https://github.com/ClickHouse/ClickHouse/pull/5396) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   LZ4の実装をリファレンスワンでアップグレードして、解凍を高速化します。 [\#5070](https://github.com/ClickHouse/ClickHouse/pull/5070) ([ダニラ-クテニン](https://github.com/danlark1))
-   MSD基数ソート(kxsortに基づく)、および部分ソートを実装しました。 [\#5129](https://github.com/ClickHouse/ClickHouse/pull/5129) ([エフゲニー-プラウダ](https://github.com/kvinty))

#### バグ修正 {#bug-fixes}

-   結合でプッシュが必要な列を修正 [\#5192](https://github.com/ClickHouse/ClickHouse/pull/5192) ([冬張](https://github.com/zhang2014))
-   ClickHouseがsystemdによって実行されているときに、コマンドを修正しました `sudo service clickhouse-server forcerestart` 期待通りに動作していませんでした。 [\#5204](https://github.com/ClickHouse/ClickHouse/pull/5204) ([プロラー](https://github.com/proller))
-   DataPartsExchangeのhttpエラーコードを修正しました（9009ポートのinterserver httpサーバーは常にエラーであってもコード200を返しました）。 [\#5216](https://github.com/ClickHouse/ClickHouse/pull/5216) ([プロラー](https://github.com/proller))
-   MAX\_SMALL\_STRING\_SIZEより長い文字列のSimpleAggregateFunctionを修正 [\#5311](https://github.com/ClickHouse/ClickHouse/pull/5311) ([Azat Khuzhin](https://github.com/azat))
-   エラーを修正 `Decimal` に `Nullable(Decimal)` inでの変換。 （異なるスケールを含む）小数点変換への他の小数をサポート。 [\#5350](https://github.com/ClickHouse/ClickHouse/pull/5350) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   誤った計算につながるsimdjsonライブラリ内の固定FPU clobbering `uniqHLL` と `uniqCombined` 集計関数と数学関数のような `log`. [\#5354](https://github.com/ClickHouse/ClickHouse/pull/5354) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   JSON関数でのconst/nonconstの混合ケースの処理を修正しました。 [\#5435](https://github.com/ClickHouse/ClickHouse/pull/5435) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   修正 `retention` 機能。 これで、データ行で満たすすべての条件がデータ状態に追加されます。 [\#5119](https://github.com/ClickHouse/ClickHouse/pull/5119) ([小路](https://github.com/nicelulu))
-   結果の種類を修正 `quantileExact` 小数で。 [\#5304](https://github.com/ClickHouse/ClickHouse/pull/5304) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### 文書 {#documentation}

-   ドキュメントの翻訳 `CollapsingMergeTree` 中国語に。 [\#5168](https://github.com/ClickHouse/ClickHouse/pull/5168) ([张风啸](https://github.com/AlexZFX))
-   翻訳一部のアンダーグラウンドテーブルエンジン。
    [\#5134](https://github.com/ClickHouse/ClickHouse/pull/5134)
    [\#5328](https://github.com/ClickHouse/ClickHouse/pull/5328)
    ([決してリー](https://github.com/neverlee))

#### ビルド/テスト/パッケージの改善 {#buildtestingpackaging-improvements}

-   ありそうな使用後の無料を示すいくつかのサニタイザーレポートを修正します。[\#5139](https://github.com/ClickHouse/ClickHouse/pull/5139) [\#5143](https://github.com/ClickHouse/ClickHouse/pull/5143) [\#5393](https://github.com/ClickHouse/ClickHouse/pull/5393) ([イワン](https://github.com/abyss7))
-   移動性能試験の個別のディレクトリが便利です。 [\#5158](https://github.com/ClickHouse/ClickHouse/pull/5158) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正誤性能試験までを実施。 [\#5255](https://github.com/ClickHouse/ClickHouse/pull/5255) ([アレサピン](https://github.com/alesapin))
-   追加ツールをチェックサムを計算によるビット切り替えデバッグハードウェアます。 [\#5334](https://github.com/ClickHouse/ClickHouse/pull/5334) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   くランナーのスクリプトをより使用できます。 [\#5340](https://github.com/ClickHouse/ClickHouse/pull/5340)[\#5360](https://github.com/ClickHouse/ClickHouse/pull/5360) ([フィリモノフ](https://github.com/filimonov))
-   追加小さな命令をどう書き込み能力を発揮する。 [\#5408](https://github.com/ClickHouse/ClickHouse/pull/5408) ([アレサピン](https://github.com/alesapin))
-   パフォーマンステストでのクエリの作成、入力、削除で置換を行う機能を追加 [\#5367](https://github.com/ClickHouse/ClickHouse/pull/5367) ([Olga Khvostikova](https://github.com/stavrolia))

## ClickHouseリリース19.7 {#clickhouse-release-19-7}

### ClickHouseリリース19.7.5.29,2019-07-05 {#clickhouse-release-19-7-5-29-2019-07-05}

#### バグ修正 {#bug-fix-25}

-   固定能の回帰一部のクエリを処理するクラウドの場合。 [\#5192](https://github.com/ClickHouse/ClickHouse/pull/5192) ([冬張](https://github.com/zhang2014))

### ClickHouseリリース19.7.5.27,2019-06-09 {#clickhouse-release-19-7-5-27-2019-06-09}

#### 新しい機能 {#new-features-1}

-   ビットマップ関連の機能を追加 `bitmapHasAny` と `bitmapHasAll` 類似する `hasAny` と `hasAll` 配列の関数。 [\#5279](https://github.com/ClickHouse/ClickHouse/pull/5279) ([セルジ-ウラジキン](https://github.com/svladykin))

#### バグ修正 {#bug-fixes-1}

-   Segfaultをオンに修正 `minmax` Null値のインデックス。 [\#5246](https://github.com/ClickHouse/ClickHouse/pull/5246) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   すべての入力列を必要な出力に応じてLIMITにマークします。 それは修正します ‘Not found column’ 一部の分散クエリでエラー。 [\#5407](https://github.com/ClickHouse/ClickHouse/pull/5407) ([コンスタンティン-S-パン](https://github.com/kvap))
-   修正 “Column ‘0’ already exists” エラー `SELECT .. PREWHERE` デフォルトの列 [\#5397](https://github.com/ClickHouse/ClickHouse/pull/5397) ([プロラー](https://github.com/proller))
-   修正 `ALTER MODIFY TTL` クエリオン `ReplicatedMergeTree`. [\#5539](https://github.com/ClickHouse/ClickHouse/pull/5539/commits) ([アントン-ポポフ](https://github.com/CurtizJ))
-   なクラッシュサーバの場合カフカの消費者が開始されます。 [\#5285](https://github.com/ClickHouse/ClickHouse/pull/5285) ([イワン](https://github.com/abyss7))
-   固定ビットマップ機能を誤った結果です。 [\#5359](https://github.com/ClickHouse/ClickHouse/pull/5359) ([アンディ-ヤン](https://github.com/andyyzh))
-   ハッシュ化された辞書のelement\_countを修正（重複を含まない) [\#5440](https://github.com/ClickHouse/ClickHouse/pull/5440) ([Azat Khuzhin](https://github.com/azat))
-   環境変数TZの内容をタイムゾーンの名前として使用します。 すでに正しく検出デフォルトのタイムゾーンもあります。[\#5443](https://github.com/ClickHouse/ClickHouse/pull/5443) ([イワン](https://github.com/abyss7))
-   整数を変換しようとしないでください `dictGetT` それは正しく動作しないため、機能します。 代わりに例外をスローします。 [\#5446](https://github.com/ClickHouse/ClickHouse/pull/5446) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   ExternalData HTTP要求の設定を修正しました。 [\#5455](https://github.com/ClickHouse/ClickHouse/pull/5455) ([ダニラ
    クテニン](https://github.com/danlark1))
-   パーツがZOOKEEPERから落とさずにFSからのみ取り除かれたバグを修正しました。 [\#5520](https://github.com/ClickHouse/ClickHouse/pull/5520) ([アレサピン](https://github.com/alesapin))
-   固定の区分断層に `bitmapHasAny` 機能。 [\#5528](https://github.com/ClickHouse/ClickHouse/pull/5528) ([Zhichang Yu](https://github.com/yuzhichang))
-   固定の場合にはエラー複製を接続プールなリトライを解決するホストでも、DNSキャッシュした。 [\#5534](https://github.com/ClickHouse/ClickHouse/pull/5534) ([アレサピン](https://github.com/alesapin))
-   固定 `DROP INDEX IF EXISTS` クエリ。 さて `ALTER TABLE ... DROP INDEX IF EXISTS ...` 指定されたインデックスが存在しない場合、queryは例外を発生させません。 [\#5524](https://github.com/ClickHouse/ClickHouse/pull/5524) ([グレブ-ノビコフ](https://github.com/NanoBjorn))
-   修正unionすべてのスーパータイプ列。 があった場合に矛盾したデータとカラムの種類によ列あります。 [\#5503](https://github.com/ClickHouse/ClickHouse/pull/5503) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   DDLクエリ処理中にZNONODEをスキップします。 前に別のノードがタスクキュー内のznodeを削除すると、
    それを処理しませんでしたが、すでに子のリストを取得し、DDLWorkerスレッドを終了します。 [\#5489](https://github.com/ClickHouse/ClickHouse/pull/5489) ([Azat Khuzhin](https://github.com/azat))
-   固定挿入配布()テーブルを実現します。 [\#5429](https://github.com/ClickHouse/ClickHouse/pull/5429) ([Azat Khuzhin](https://github.com/azat))

### ClickHouse Release19.7.3.9,2019-05-30 {#clickhouse-release-19-7-3-9-2019-05-30}

#### 新しい機能 {#new-features-2}

-   ユーザーが指定できる設定の範囲を制限することができます。
    これらの制約は、ユーザー設定プロファイルで設定できます。
    [\#4931](https://github.com/ClickHouse/ClickHouse/pull/4931) ([ヴィタリ
    バラノフ](https://github.com/vitlibar))
-   関数の第二のバージョンを追加します `groupUniqArray` 任意を使って
    `max_size` 結果の配列のサイズを制限するパラメーター。 この
    動作は次のようになります `groupArray(max_size)(x)` 機能。
    [\#5026](https://github.com/ClickHouse/ClickHouse/pull/5026) ([ギヨーム
    タッサリー](https://github.com/YiuRULE))
-   TSVWithNames/CSVWithNames入力ファイル形式の場合、列の順序は次のようになります
    ファイ これはによって制御される
    `input_format_with_names_use_header` パラメータ。
    [\#5081](https://github.com/ClickHouse/ClickHouse/pull/5081)
    ([Alexander](https://github.com/Akazz))

#### バグ修正 {#bug-fixes-2}

-   マージ中にuncompressed\_cache+JOINでクラッシュする(\#5197)
    [\#5133](https://github.com/ClickHouse/ClickHouse/pull/5133) ([ダニラ
    クテニン](https://github.com/danlark1))
-   システムテーブルへのclickhouse-clientクエリのセグメンテーション障害。 \#5066
    [\#5127](https://github.com/ClickHouse/ClickHouse/pull/5127)
    ([イワン](https://github.com/abyss7))
-   KafkaEngineによる重負荷時のデータ損失(\#4736)
    [\#5080](https://github.com/ClickHouse/ClickHouse/pull/5080)
    ([イワン](https://github.com/abyss7))
-   UNION ALLを使用してクエリを実行するときに発生する可能性のある非常にまれなデータ競合状態を修正しました。列,システム.テーブル、システム。部品、システム。parts\_tablesまたはマージファミリのテーブルと、関連するテーブルの列の変更を同時に実行します。 [\#5189](https://github.com/ClickHouse/ClickHouse/pull/5189) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 性能の向上 {#performance-improvements-1}

-   単一の数値列によるソートに基数ソートを使用する `ORDER BY` なし
    `LIMIT`. [\#5106](https://github.com/ClickHouse/ClickHouse/pull/5106),
    [\#4439](https://github.com/ClickHouse/ClickHouse/pull/4439)
    ([エフゲニー-プラウダ](https://github.com/kvinty),
    [アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 文書 {#documentation-1}

-   一部のテーブルエンジンの文書を中国語に翻訳します。
    [\#5107](https://github.com/ClickHouse/ClickHouse/pull/5107),
    [\#5094](https://github.com/ClickHouse/ClickHouse/pull/5094),
    [\#5087](https://github.com/ClickHouse/ClickHouse/pull/5087)
    ([张风啸](https://github.com/AlexZFX)),
    [\#5068](https://github.com/ClickHouse/ClickHouse/pull/5068) ([しない
    リー](https://github.com/neverlee))

#### ビルド/テスト/パッケージの改善 {#buildtestingpackaging-improvements-1}

-   UTF-8文字を正しく印刷する `clickhouse-test`.
    [\#5084](https://github.com/ClickHouse/ClickHouse/pull/5084)
    ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   常に提案をロードするclickhouse-clientのコマンドラインパラメータを追加
    データ [\#5102](https://github.com/ClickHouse/ClickHouse/pull/5102)
    ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   PVS-Studioの警告の一部を解決します。
    [\#5082](https://github.com/ClickHouse/ClickHouse/pull/5082)
    ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   LZ4の更新 [\#5040](https://github.com/ClickHouse/ClickHouse/pull/5040) ([ダニラ
    クテニン](https://github.com/danlark1))
-   今後のプル要求\#5030の要件を構築するためにgperfを追加します。
    [\#5110](https://github.com/ClickHouse/ClickHouse/pull/5110)
    ([プロラー](https://github.com/proller))

## ClickHouseリリース19.6 {#clickhouse-release-19-6}

### ClickHouse Release19.6.3.18,2019-06-13 {#clickhouse-release-19-6-3-18-2019-06-13}

#### バグ修正 {#bug-fixes-3}

-   テーブル関数からのクエリの条件プッシュダウンで修正 `mysql` と `odbc` と対応するテーブルエンジン。 これは＃3540と＃2384を修正します。 [\#5313](https://github.com/ClickHouse/ClickHouse/pull/5313) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Zookeeperのデッドロックを修正しました。 [\#5297](https://github.com/ClickHouse/ClickHouse/pull/5297) ([ギスブ1世](https://github.com/github1youlc))
-   CSVで引用符で囲まれた小数を許可します。 [\#5284](https://github.com/ClickHouse/ClickHouse/pull/5284) ([アルテム-ズイコフ](https://github.com/4ertus2)
-   Float Inf/NaNから小数への変換を禁止します（例外をスローします）。 [\#5282](https://github.com/ClickHouse/ClickHouse/pull/5282) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   名前変更クエリのデータ競合を修正しました。 [\#5247](https://github.com/ClickHouse/ClickHouse/pull/5247) ([冬張](https://github.com/zhang2014))
-   LFAllocを一時的に無効にします。 LFAllocを使用すると、UncompressedCacheを割り当てる際に多くのMAP\_FAILEDが発生し、結果として負荷の高いサーバーでのクエリのクラッシュにつながる可能性があります。 [cfdba93](https://github.com/ClickHouse/ClickHouse/commit/cfdba938ce22f16efeec504f7f90206a515b1280)([ダニラ-クテニン](https://github.com/danlark1))

### ClickHouse Release19.6.2.11,2019-05-13 {#clickhouse-release-19-6-2-11-2019-05-13}

#### 新しい機能 {#new-features-3}

-   列および表のTTL式。 [\#4212](https://github.com/ClickHouse/ClickHouse/pull/4212) ([アントン-ポポフ](https://github.com/CurtizJ))
-   追加されたサポート `brotli` HTTPレスポンスの圧縮(Accept-Encoding:br) [\#4388](https://github.com/ClickHouse/ClickHouse/pull/4388) ([ミハイル](https://github.com/fandyushin))
-   新しい機能を追加 `isValidUTF8` 確認を行うための設定のバイトが正常にutf-8エンコードされます。 [\#4934](https://github.com/ClickHouse/ClickHouse/pull/4934) ([ダニラ-クテニン](https://github.com/danlark1))
-   新しい負荷分散ポリシーの追加 `first_or_random` 送信されるクエリを最初に指定されたホストの場合は利用できな送信をクエリーダ主催のチャームのボー. クロスレプリケーショントポロジ設定に便利です。 [\#5012](https://github.com/ClickHouse/ClickHouse/pull/5012) ([nvartolomei](https://github.com/nvartolomei))

#### 実験的な特徴 {#experimental-features-1}

-   設定を追加 `index_granularity_bytes` MergeTree\*テーブルファミリの(適応インデックス粒度)。 [\#4826](https://github.com/ClickHouse/ClickHouse/pull/4826) ([アレサピン](https://github.com/alesapin))

#### 改善 {#improvements-1}

-   関数の非定数引数と負のサイズと長さの引数のサポートが追加されました `substringUTF8`. [\#4989](https://github.com/ClickHouse/ClickHouse/pull/4989) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   左結合の右表へのプッシュダウン、右結合の左表へのプッシュダウン、および完全結合の両方の表を無効にします。 これにより、誤った結合結果が修正されます。 [\#4846](https://github.com/ClickHouse/ClickHouse/pull/4846) ([イワン](https://github.com/abyss7))
-   `clickhouse-copier`:からの自動アップロードタスク設定 `--task-file` オプション [\#4876](https://github.com/ClickHouse/ClickHouse/pull/4876) ([プロラー](https://github.com/proller))
-   追加の誤字ハンドラに保存工場とテーブル機能の工場です。 [\#4891](https://github.com/ClickHouse/ClickHouse/pull/4891) ([ダニラ-クテニン](https://github.com/danlark1))
-   サブクエリなしで複数の結合のためのアスタリスクと修飾アスタリスクをサポート [\#4898](https://github.com/ClickHouse/ClickHouse/pull/4898) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   く不カラムのエラーメッセージよりユーザーにも優しい。 [\#4915](https://github.com/ClickHouse/ClickHouse/pull/4915) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### 性能の向上 {#performance-improvements-2}

-   ASOF結合の大幅な高速化 [\#4924](https://github.com/ClickHouse/ClickHouse/pull/4924) ([マルティン-バッカー](https://github.com/Gladdy))

#### 下位互換性のない変更 {#backward-incompatible-changes}

-   HTTPヘッダ `Query-Id` に改名されました `X-ClickHouse-Query-Id` 一貫性のために。 [\#4972](https://github.com/ClickHouse/ClickHouse/pull/4972) ([ミハイル](https://github.com/fandyushin))

#### バグ修正 {#bug-fixes-4}

-   固定された潜在的なヌルポインタの逆参照 `clickhouse-copier`. [\#4900](https://github.com/ClickHouse/ClickHouse/pull/4900) ([プロラー](https://github.com/proller))
-   結合+配列結合でクエリのエラーを修正しました [\#4938](https://github.com/ClickHouse/ClickHouse/pull/4938) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   固定掛けの開始にサーバーが辞書により他の辞書を介してデータベースエンジン=辞書で調べました。 [\#4962](https://github.com/ClickHouse/ClickHouse/pull/4962) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   Partially fix distributed\_product\_mode = local. It's possible to allow columns of local tables in where/having/order by/… via table aliases. Throw exception if table does not have alias. There's not possible to access to the columns without table aliases yet. [\#4986](https://github.com/ClickHouse/ClickHouse/pull/4986) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   潜在的に間違った結果を修正 `SELECT DISTINCT` と `JOIN` [\#5001](https://github.com/ClickHouse/ClickHouse/pull/5001) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   UNION ALLを使用してクエリを実行するときに発生する可能性のある非常にまれなデータ競合状態を修正しました。列,システム.テーブル、システム。部品、システム。parts\_tablesまたはマージファミリのテーブルと、関連するテーブルの列の変更を同時に実行します。 [\#5189](https://github.com/ClickHouse/ClickHouse/pull/5189) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### ビルド/テスト/パッケージの改善 {#buildtestingpackaging-improvements-2}

-   別のホストでclickhouse-serverを実行しているときのテストエラーを修正 [\#4713](https://github.com/ClickHouse/ClickHouse/pull/4713) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   clickhouse-test:非tty環境でカラーコントロールシーケンスを無効にします。 [\#4937](https://github.com/ClickHouse/ClickHouse/pull/4937) ([アレサピン](https://github.com/alesapin))
-   clickhouse-test:任意のテストデータベースの使用を許可(削除 `test.` それが可能な資格) [\#5008](https://github.com/ClickHouse/ClickHouse/pull/5008) ([プロラー](https://github.com/proller))
-   Ubsanのエラーを修正 [\#5037](https://github.com/ClickHouse/ClickHouse/pull/5037) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   Yandex LFAllocがClickHouseに追加され、markcacheとUncompressedCacheのデータをさまざまな方法で割り当て、segfaultsをより信頼性の高いものにすることができました [\#4995](https://github.com/ClickHouse/ClickHouse/pull/4995) ([ダニラ-クテニン](https://github.com/danlark1))
-   バックポートとチェンジログを支援するPython util。 [\#4949](https://github.com/ClickHouse/ClickHouse/pull/4949) ([イワン](https://github.com/abyss7))

## ClickHouseリリース19.5 {#clickhouse-release-19-5}

### ClickHouse Release19.5.4.22,2019-05-13 {#clickhouse-release-19-5-4-22-2019-05-13}

#### バグ修正 {#bug-fixes-5}

-   ビットマップ\*関数でのクラッシュを修正 [\#5220](https://github.com/ClickHouse/ClickHouse/pull/5220) [\#5228](https://github.com/ClickHouse/ClickHouse/pull/5228) ([アンディ-ヤン](https://github.com/andyyzh))
-   UNION ALLを使用してクエリを実行するときに発生する可能性のある非常にまれなデータ競合状態を修正しました。列,システム.テーブル、システム。部品、システム。parts\_tablesまたはマージファミリのテーブルと、関連するテーブルの列の変更を同時に実行します。 [\#5189](https://github.com/ClickHouse/ClickHouse/pull/5189) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正されたエラー `Set for IN is not created yet in case of using single LowCardinality column in the left part of IN`. このエラーは、LowCardinality列が主キーの一部である場合に発生しました。 \#5031 [\#5154](https://github.com/ClickHouse/ClickHouse/pull/5154) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   保持関数の変更：行が最初の条件とN番目の条件の両方を満たす場合、最初に満たされた条件のみがデータ状態に追加されます。 これで、データ行で満たすすべての条件がデータ状態に追加されます。 [\#5119](https://github.com/ClickHouse/ClickHouse/pull/5119) ([小路](https://github.com/nicelulu))

### ClickHouse Release19.5.3.8,2019-04-18 {#clickhouse-release-19-5-3-8-2019-04-18}

#### バグ修正 {#bug-fixes-6}

-   固定タイプの設定 `max_partitions_per_insert_block` ブール値からUInt64まで。 [\#5028](https://github.com/ClickHouse/ClickHouse/pull/5028) ([モハマド-ホセイン-セハヴァト](https://github.com/mhsekhavat))

### ClickHouse Release19.5.2.6,2019-04-15 {#clickhouse-release-19-5-2-6-2019-04-15}

#### 新しい機能 {#new-features-4}

-   [Hyperscan](https://github.com/intel/hyperscan) 複数の正規表現マッチングが追加されました(関数 `multiMatchAny`, `multiMatchAnyIndex`, `multiFuzzyMatchAny`, `multiFuzzyMatchAnyIndex`). [\#4780](https://github.com/ClickHouse/ClickHouse/pull/4780), [\#4841](https://github.com/ClickHouse/ClickHouse/pull/4841) ([ダニラ-クテニン](https://github.com/danlark1))
-   `multiSearchFirstPosition` 機能を追加しました。 [\#4780](https://github.com/ClickHouse/ClickHouse/pull/4780) ([ダニラ-クテニン](https://github.com/danlark1))
-   の実施を所定の表現フィルター配列です。 [\#4792](https://github.com/ClickHouse/ClickHouse/pull/4792) ([イワン](https://github.com/abyss7))
-   新しいタイプのデータを飛び指標に基づくブル(使用可能 `equal`, `in` と `like` 機能）。 [\#4499](https://github.com/ClickHouse/ClickHouse/pull/4499) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   追加 `ASOF JOIN` これにより、既知の最新の値に結合するクエリを実行できます。 [\#4774](https://github.com/ClickHouse/ClickHouse/pull/4774) [\#4867](https://github.com/ClickHouse/ClickHouse/pull/4867) [\#4863](https://github.com/ClickHouse/ClickHouse/pull/4863) [\#4875](https://github.com/ClickHouse/ClickHouse/pull/4875) ([マルティン-バッカー](https://github.com/Gladdy), [アルテム-ズイコフ](https://github.com/4ertus2))
-   複数の書き換え `COMMA JOIN` に `CROSS JOIN`. その書き換えて `INNER JOIN` 可能であれば。 [\#4661](https://github.com/ClickHouse/ClickHouse/pull/4661) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### 改善 {#improvement-9}

-   `topK` と `topKWeighted` 今すぐカスタム `loadFactor` （修正の問題 [\#4252](https://github.com/ClickHouse/ClickHouse/issues/4252)). [\#4634](https://github.com/ClickHouse/ClickHouse/pull/4634) ([キリルダンシン](https://github.com/kirillDanshin))
-   使用を許可する `parallel_replicas_count > 1` サンプリングのないテーブルでも（設定は単に無視されます）。 以前のバージョンでは例外につながっていました。 [\#4637](https://github.com/ClickHouse/ClickHouse/pull/4637) ([アレクセイ-エリマノフ](https://github.com/digitalist))
-   のサポート `CREATE OR REPLACE VIEW`. 単一のステートメントでビューを作成したり、新しい定義を設定したりできます。 [\#4654](https://github.com/ClickHouse/ClickHouse/pull/4654) ([ボリス-グランヴォー](https://github.com/bgranvea))
-   `Buffer` テーブルエンジンに対応しま `PREWHERE`. [\#4671](https://github.com/ClickHouse/ClickHouse/pull/4671) ([ヤンクアン-リュウ](https://github.com/LiuYangkuan))
-   追加能力を開始複製テーブルなしデータを飼育係に `readonly` モード [\#4691](https://github.com/ClickHouse/ClickHouse/pull/4691) ([アレサピン](https://github.com/alesapin))
-   Clickhouse-clientのプログレスバーのちらつきを修正しました。 この問題は、使用するときに最も顕著でした `FORMAT Null` ストリーミン [\#4811](https://github.com/ClickHouse/ClickHouse/pull/4811) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   関数を無効にすることを許可する `hyperscan` 図書館にユーザー毎に制限潜在的過剰および再資源利用に [\#4816](https://github.com/ClickHouse/ClickHouse/pull/4816) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   追加バージョン番号でログインしてすべてのエラー. [\#4824](https://github.com/ClickHouse/ClickHouse/pull/4824) ([プロラー](https://github.com/proller))
-   に制限を追加しました `multiMatch` 文字列に収まるように文字列サイズを必要とする関数 `unsigned int`. また、引数の数の制限を追加しました。 `multiSearch` 機能。 [\#4834](https://github.com/ClickHouse/ClickHouse/pull/4834) ([ダニラ-クテニン](https://github.com/danlark1))
-   Hyperscanでのスクラッチ領域とエラー処理の使用が改善されました。 [\#4866](https://github.com/ClickHouse/ClickHouse/pull/4866) ([ダニラ-クテニン](https://github.com/danlark1))
-   塗りつぶし `system.graphite_detentions` のテーブル設定から `*GraphiteMergeTree` エンジンテーブル。 [\#4584](https://github.com/ClickHouse/ClickHouse/pull/4584) ([Mikhail f. Shiryaev](https://github.com/Felixoid))
-   名前変更 `trigramDistance` への関数 `ngramDistance` とより多くの機能を追加 `CaseInsensitive` と `UTF`. [\#4602](https://github.com/ClickHouse/ClickHouse/pull/4602) ([ダニラ-クテニン](https://github.com/danlark1))
-   の改善データを飛び指標を計算します。 [\#4640](https://github.com/ClickHouse/ClickHouse/pull/4640) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   普通に保つ, `DEFAULT`, `MATERIALIZED` と `ALIAS` 単一のリスト内の列（修正の問題 [\#2867](https://github.com/ClickHouse/ClickHouse/issues/2867)). [\#4707](https://github.com/ClickHouse/ClickHouse/pull/4707) ([アレックス-ザテレピン](https://github.com/ztlpn))

#### バグ修正 {#bug-fix-26}

-   避ける `std::terminate` メモリ割り当てに失敗した場合。 さて `std::bad_alloc` 例外は期待どおりにスローされます。 [\#4665](https://github.com/ClickHouse/ClickHouse/pull/4665) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   バッファからの読み取りを修正capnproto。 時にファイルなロードに成功するHTTP. [\#4674](https://github.com/ClickHouse/ClickHouse/pull/4674) ([ウラジスラフ](https://github.com/smirnov-vs))
-   修正エラー `Unknown log entry type: 0` 後に `OPTIMIZE TABLE FINAL` クエリ。 [\#4683](https://github.com/ClickHouse/ClickHouse/pull/4683) ([アモス鳥](https://github.com/amosbird))
-   間違った引数に `hasAny` または `hasAll` 関数はsegfaultにつながる可能性があります。 [\#4698](https://github.com/ClickHouse/ClickHouse/pull/4698) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   実行中にデッドロックが発生する `DROP DATABASE dictionary` クエリ。 [\#4701](https://github.com/ClickHouse/ClickHouse/pull/4701) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   で未定義の動作を修正 `median` と `quantile` 機能。 [\#4702](https://github.com/ClickHouse/ClickHouse/pull/4702) ([hcz](https://github.com/hczhcz))
-   圧縮レベル検出時の修正 `network_compression_method` 小文字で。 V19.1で壊れた。 [\#4706](https://github.com/ClickHouse/ClickHouse/pull/4706) ([プロラー](https://github.com/proller))
-   の固定された無知 `<timezone>UTC</timezone>` 設定（修正の問題 [\#4658](https://github.com/ClickHouse/ClickHouse/issues/4658)). [\#4718](https://github.com/ClickHouse/ClickHouse/pull/4718) ([プロラー](https://github.com/proller))
-   修正 `histogram` 関数の動作 `Distributed` テーブル [\#4741](https://github.com/ClickHouse/ClickHouse/pull/4741) ([olegkv](https://github.com/olegkv))
-   固定tsanレポート `destroy of a locked mutex`. [\#4742](https://github.com/ClickHouse/ClickHouse/pull/4742) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定賛育の報告書の停止によるレースの条件のシステムのログ利用 固定の潜在的利用に停止時part\_logが有効になります。 [\#4758](https://github.com/ClickHouse/ClickHouse/pull/4758) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正再チェック部品 `ReplicatedMergeTreeAlterThread` エラーの場合。 [\#4772](https://github.com/ClickHouse/ClickHouse/pull/4772) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   中間集計関数状態に対する算術演算が、定数引数(サブクエリ結果など)に対して機能していませんでした。 [\#4776](https://github.com/ClickHouse/ClickHouse/pull/4776) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   常にbackquoteカラム名は、メタデータを指すものとします。 それ以外の場合は、列名のテーブルを作成することは不可能です `index` (不正な形式のためサーバーは再起動されません `ATTACH` メタデータ内のクエリ）。 [\#4782](https://github.com/ClickHouse/ClickHouse/pull/4782) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   でクラッシュを修正 `ALTER ... MODIFY ORDER BY` に `Distributed` テーブル。 [\#4790](https://github.com/ClickHouse/ClickHouse/pull/4790) ([Tシーズン](https://github.com/TCeason))
-   でsegfaultを修正 `JOIN ON` 有効にした場合 `enable_optimize_predicate_expression`. [\#4794](https://github.com/ClickHouse/ClickHouse/pull/4794) ([冬張](https://github.com/zhang2014))
-   カフカからprotobufメッセージを消費した後に余分な行を追加するバグを修正しました。 [\#4808](https://github.com/ClickHouse/ClickHouse/pull/4808) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   のクラッシュを修正 `JOIN` null許容ではない列とnull許容の列です。 修正 `NULLs` in右キー in `ANY JOIN` + `join_use_nulls`. [\#4815](https://github.com/ClickHouse/ClickHouse/pull/4815) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   固定の区分断層に `clickhouse-copier`. [\#4835](https://github.com/ClickHouse/ClickHouse/pull/4835) ([プロラー](https://github.com/proller))
-   で固定された競合状態 `SELECT` から `system.tables` テーブルの名前が変更または同時に変更された場合。 [\#4836](https://github.com/ClickHouse/ClickHouse/pull/4836) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定データが取得データの一部は既に互換性のために残されています。 [\#4839](https://github.com/ClickHouse/ClickHouse/pull/4839) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定珍しいデータレースができ起こすこと `RENAME` MergeTree家族のテーブル。 [\#4844](https://github.com/ClickHouse/ClickHouse/pull/4844) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   機能の固定分割の欠陥 `arrayIntersect`. Segmentation faultう場合は関数と呼ばれたとの混合の定数、通常の引数になります。 [\#4847](https://github.com/ClickHouse/ClickHouse/pull/4847) ([Lixiang銭](https://github.com/fancyqlx))
-   からの固定読み取り `Array(LowCardinality)` 列に空の配列の長いシーケンスが含まれている場合はまれです。 [\#4850](https://github.com/ClickHouse/ClickHouse/pull/4850) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   でクラッシュを修正 `FULL/RIGHT JOIN` nullable対nullableに参加するとき。 [\#4855](https://github.com/ClickHouse/ClickHouse/pull/4855) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   修正 `No message received` レプリカ間のパーツの取得中は例外です。 [\#4856](https://github.com/ClickHouse/ClickHouse/pull/4856) ([アレサピン](https://github.com/alesapin))
-   固定 `arrayIntersect` 単一の配列内のいくつかの繰り返し値の場合、関数が間違った結果。 [\#4871](https://github.com/ClickHouse/ClickHouse/pull/4871) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   同時実行の間に競合状態を修正する `ALTER COLUMN` サーバークラッシュにつながる可能性のあるクエリ(問題の修正 [\#3421](https://github.com/ClickHouse/ClickHouse/issues/3421)). [\#4592](https://github.com/ClickHouse/ClickHouse/pull/4592) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   誤った結果を修正 `FULL/RIGHT JOIN` const列を持つ。 [\#4723](https://github.com/ClickHouse/ClickHouse/pull/4723) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   で重複を修正 `GLOBAL JOIN` アスタリスク付き。 [\#4705](https://github.com/ClickHouse/ClickHouse/pull/4705) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   でパラメータ控除を修正 `ALTER MODIFY` 列の `CODEC` 列タイプが指定されていない場合。 [\#4883](https://github.com/ClickHouse/ClickHouse/pull/4883) ([アレサピン](https://github.com/alesapin))
-   関数 `cutQueryStringAndFragment()` と `queryStringAndFragment()` 今正しく動作するとき `URL` フラグメントとクエリを含みません。 [\#4894](https://github.com/ClickHouse/ClickHouse/pull/4894) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   設定時に珍しいバグを修正 `min_bytes_to_use_direct_io` これは、スレッドが列ファイル内で後方にシークする必要があるときに発生します。 [\#4897](https://github.com/ClickHouse/ClickHouse/pull/4897) ([アレサピン](https://github.com/alesapin))
-   集計関数の誤った引数型を修正 `LowCardinality` 引数（修正の問題 [\#4919](https://github.com/ClickHouse/ClickHouse/issues/4919)). [\#4922](https://github.com/ClickHouse/ClickHouse/pull/4922) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   間違った名前の修飾を修正 `GLOBAL JOIN`. [\#4969](https://github.com/ClickHouse/ClickHouse/pull/4969) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   修正機能 `toISOWeek` 1970年の結果。 [\#4988](https://github.com/ClickHouse/ClickHouse/pull/4988) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正 `DROP`, `TRUNCATE` と `OPTIMIZE` クエリの重複 `ON CLUSTER` のために `ReplicatedMergeTree*` テーブル家族. [\#4991](https://github.com/ClickHouse/ClickHouse/pull/4991) ([アレサピン](https://github.com/alesapin))

#### 下位互換性のない変更 {#backward-incompatible-change-8}

-   名前変更の設定 `insert_sample_with_metadata` 設定へ `input_format_defaults_for_omitted_fields`. [\#4771](https://github.com/ClickHouse/ClickHouse/pull/4771) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   設定を追加 `max_partitions_per_insert_block` （デフォルトでは値100）。 場合に挿入したブロックを含むより多くのパーティション例外がスローされます。 制限を削除する場合は、0に設定します（推奨しません）。 [\#4845](https://github.com/ClickHouse/ClickHouse/pull/4845) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   複数検索機能の名前が変更されました (`multiPosition` に `multiSearchAllPositions`, `multiSearch` に `multiSearchAny`, `firstMatch` に `multiSearchFirstIndex`). [\#4780](https://github.com/ClickHouse/ClickHouse/pull/4780) ([ダニラ-クテニン](https://github.com/danlark1))

#### 性能向上 {#performance-improvement-6}

-   多くの針または多くの類似bigramsとのクエリのための約5-10％の検索改善を与え、インラインによってVolnitsky検索を最適化します。 [\#4862](https://github.com/ClickHouse/ClickHouse/pull/4862) ([ダニラ-クテニン](https://github.com/danlark1))
-   設定時のパフォーマンス問題を修正 `use_uncompressed_cache` がゼロより大き登場したときのすべてのデータに含まれる。 [\#4913](https://github.com/ClickHouse/ClickHouse/pull/4913) ([アレサピン](https://github.com/alesapin))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-10}

-   デバッグビルドの強化：より詳細なメモリマッピングとASLR。 これによりメモリの揃い踏みのバグの場合には豆やMSanできます。 [\#4632](https://github.com/ClickHouse/ClickHouse/pull/4632) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Cmake変数のサポートの追加 `ENABLE_PROTOBUF`, `ENABLE_PARQUET` と `ENABLE_BROTLI` これにより、上記の機能を有効/無効にすることができます（librdkafka、mysqlなどの場合と同じです）。 [\#4669](https://github.com/ClickHouse/ClickHouse/pull/4669) ([シルヴィウ-カラゲア](https://github.com/silviucpp))
-   追加ダイレクトに刷版を出力するプロセス一覧表示およびstacktracesのすべてのスレッドの場合一部のクエリで吊るされているだけなので後の試験です。 [\#4675](https://github.com/ClickHouse/ClickHouse/pull/4675) ([アレサピン](https://github.com/alesapin))
-   再試行の追加 `Connection loss` エラー `clickhouse-test`. [\#4682](https://github.com/ClickHouse/ClickHouse/pull/4682) ([アレサピン](https://github.com/alesapin))
-   Freebsd build with vagrantをパッケージャスクリプトに追加し、スレッドサニタイザでビルドします。 [\#4712](https://github.com/ClickHouse/ClickHouse/pull/4712) [\#4748](https://github.com/ClickHouse/ClickHouse/pull/4748) ([アレサピン](https://github.com/alesapin))
-   現在ユーザーのためのパスワードユーザー `'default'` 取付けの間。 [\#4725](https://github.com/ClickHouse/ClickHouse/pull/4725) ([プロラー](https://github.com/proller))
-   警告を抑制する `rdkafka` 図書館 [\#4740](https://github.com/ClickHouse/ClickHouse/pull/4740) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Sslなしでビルドできるようにする。 [\#4750](https://github.com/ClickHouse/ClickHouse/pull/4750) ([プロラー](https://github.com/proller))
-   カスタムユーザーからclickhouse-serverイメージを起動する方法を追加します。 [\#4753](https://github.com/ClickHouse/ClickHouse/pull/4753) ([Mikhail f. Shiryaev](https://github.com/Felixoid))
-   Contrib boostを1.69にアップグレードします。 [\#4793](https://github.com/ClickHouse/ClickHouse/pull/4793) ([プロラー](https://github.com/proller))
-   使用を無効にする `mremap` きめにスレッドに指消毒剤. 驚いたことに、TSanは傍受しません `mremap` （それは傍受しますが `mmap`, `munmap`）それは偽陽性につながる。 ステートフルテストでのTSanレポートの修正 [\#4859](https://github.com/ClickHouse/ClickHouse/pull/4859) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   追加試験にチェックを使用形式スキーマによHTTPインターフェース。 [\#4864](https://github.com/ClickHouse/ClickHouse/pull/4864) ([ヴィタリー-バラノフ](https://github.com/vitlibar))

## ClickHouseリリース19.4 {#clickhouse-release-19-4}

### ClickHouseリリース19.4.4.33,2019-04-17 {#clickhouse-release-19-4-4-33-2019-04-17}

#### バグ修正 {#bug-fixes-7}

-   避ける `std::terminate` メモリ割り当てに失敗した場合。 さて `std::bad_alloc` 例外は期待どおりにスローされます。 [\#4665](https://github.com/ClickHouse/ClickHouse/pull/4665) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   バッファからの読み取りを修正capnproto。 時にファイルなロードに成功するHTTP. [\#4674](https://github.com/ClickHouse/ClickHouse/pull/4674) ([ウラジスラフ](https://github.com/smirnov-vs))
-   修正エラー `Unknown log entry type: 0` 後に `OPTIMIZE TABLE FINAL` クエリ。 [\#4683](https://github.com/ClickHouse/ClickHouse/pull/4683) ([アモス鳥](https://github.com/amosbird))
-   間違った引数に `hasAny` または `hasAll` 関数はsegfaultにつながる可能性があります。 [\#4698](https://github.com/ClickHouse/ClickHouse/pull/4698) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   実行中にデッドロックが発生する `DROP DATABASE dictionary` クエリ。 [\#4701](https://github.com/ClickHouse/ClickHouse/pull/4701) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   で未定義の動作を修正 `median` と `quantile` 機能。 [\#4702](https://github.com/ClickHouse/ClickHouse/pull/4702) ([hcz](https://github.com/hczhcz))
-   圧縮レベル検出時の修正 `network_compression_method` 小文字で。 V19.1で壊れた。 [\#4706](https://github.com/ClickHouse/ClickHouse/pull/4706) ([プロラー](https://github.com/proller))
-   の固定された無知 `<timezone>UTC</timezone>` 設定（修正の問題 [\#4658](https://github.com/ClickHouse/ClickHouse/issues/4658)). [\#4718](https://github.com/ClickHouse/ClickHouse/pull/4718) ([プロラー](https://github.com/proller))
-   修正 `histogram` 関数の動作 `Distributed` テーブル [\#4741](https://github.com/ClickHouse/ClickHouse/pull/4741) ([olegkv](https://github.com/olegkv))
-   固定tsanレポート `destroy of a locked mutex`. [\#4742](https://github.com/ClickHouse/ClickHouse/pull/4742) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定賛育の報告書の停止によるレースの条件のシステムのログ利用 固定の潜在的利用に停止時part\_logが有効になります。 [\#4758](https://github.com/ClickHouse/ClickHouse/pull/4758) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正再チェック部品 `ReplicatedMergeTreeAlterThread` エラーの場合。 [\#4772](https://github.com/ClickHouse/ClickHouse/pull/4772) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   中間集計関数状態に対する算術演算が、定数引数(サブクエリ結果など)に対して機能していませんでした。 [\#4776](https://github.com/ClickHouse/ClickHouse/pull/4776) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   常にbackquoteカラム名は、メタデータを指すものとします。 それ以外の場合は、列名のテーブルを作成することは不可能です `index` (不正な形式のためサーバーは再起動されません `ATTACH` メタデータ内のクエリ）。 [\#4782](https://github.com/ClickHouse/ClickHouse/pull/4782) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   でクラッシュを修正 `ALTER ... MODIFY ORDER BY` に `Distributed` テーブル。 [\#4790](https://github.com/ClickHouse/ClickHouse/pull/4790) ([Tシーズン](https://github.com/TCeason))
-   でsegfaultを修正 `JOIN ON` 有効にした場合 `enable_optimize_predicate_expression`. [\#4794](https://github.com/ClickHouse/ClickHouse/pull/4794) ([冬張](https://github.com/zhang2014))
-   カフカからprotobufメッセージを消費した後に余分な行を追加するバグを修正しました。 [\#4808](https://github.com/ClickHouse/ClickHouse/pull/4808) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   固定の区分断層に `clickhouse-copier`. [\#4835](https://github.com/ClickHouse/ClickHouse/pull/4835) ([プロラー](https://github.com/proller))
-   で固定された競合状態 `SELECT` から `system.tables` テーブルの名前が変更または同時に変更された場合。 [\#4836](https://github.com/ClickHouse/ClickHouse/pull/4836) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定データが取得データの一部は既に互換性のために残されています。 [\#4839](https://github.com/ClickHouse/ClickHouse/pull/4839) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定珍しいデータレースができ起こすこと `RENAME` MergeTree家族のテーブル。 [\#4844](https://github.com/ClickHouse/ClickHouse/pull/4844) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   機能の固定分割の欠陥 `arrayIntersect`. Segmentation faultう場合は関数と呼ばれたとの混合の定数、通常の引数になります。 [\#4847](https://github.com/ClickHouse/ClickHouse/pull/4847) ([Lixiang銭](https://github.com/fancyqlx))
-   からの固定読み取り `Array(LowCardinality)` 列に空の配列の長いシーケンスが含まれている場合はまれです。 [\#4850](https://github.com/ClickHouse/ClickHouse/pull/4850) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   修正 `No message received` レプリカ間のパーツの取得中は例外です。 [\#4856](https://github.com/ClickHouse/ClickHouse/pull/4856) ([アレサピン](https://github.com/alesapin))
-   固定 `arrayIntersect` 単一の配列内のいくつかの繰り返し値の場合、関数が間違った結果。 [\#4871](https://github.com/ClickHouse/ClickHouse/pull/4871) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   同時実行の間に競合状態を修正する `ALTER COLUMN` サーバークラッシュにつながる可能性のあるクエリ(問題の修正 [\#3421](https://github.com/ClickHouse/ClickHouse/issues/3421)). [\#4592](https://github.com/ClickHouse/ClickHouse/pull/4592) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   でパラメータ控除を修正 `ALTER MODIFY` 列の `CODEC` 列タイプが指定されていない場合。 [\#4883](https://github.com/ClickHouse/ClickHouse/pull/4883) ([アレサピン](https://github.com/alesapin))
-   関数 `cutQueryStringAndFragment()` と `queryStringAndFragment()` 今正しく動作するとき `URL` フラグメントとクエリを含みません。 [\#4894](https://github.com/ClickHouse/ClickHouse/pull/4894) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   設定時に珍しいバグを修正 `min_bytes_to_use_direct_io` これは、スレッドが列ファイル内で後方にシークする必要があるときに発生します。 [\#4897](https://github.com/ClickHouse/ClickHouse/pull/4897) ([アレサピン](https://github.com/alesapin))
-   集計関数の誤った引数型を修正 `LowCardinality` 引数（修正の問題 [\#4919](https://github.com/ClickHouse/ClickHouse/issues/4919)). [\#4922](https://github.com/ClickHouse/ClickHouse/pull/4922) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   修正機能 `toISOWeek` 1970年の結果。 [\#4988](https://github.com/ClickHouse/ClickHouse/pull/4988) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正 `DROP`, `TRUNCATE` と `OPTIMIZE` クエリの重複 `ON CLUSTER` のために `ReplicatedMergeTree*` テーブル家族. [\#4991](https://github.com/ClickHouse/ClickHouse/pull/4991) ([アレサピン](https://github.com/alesapin))

#### 改善 {#improvements-2}

-   普通に保つ, `DEFAULT`, `MATERIALIZED` と `ALIAS` 単一のリスト内の列（修正の問題 [\#2867](https://github.com/ClickHouse/ClickHouse/issues/2867)). [\#4707](https://github.com/ClickHouse/ClickHouse/pull/4707) ([アレックス-ザテレピン](https://github.com/ztlpn))

### ClickHouseリリース19.4.3.11,2019-04-02 {#clickhouse-release-19-4-3-11-2019-04-02}

#### バグ修正 {#bug-fixes-8}

-   でクラッシュを修正 `FULL/RIGHT JOIN` nullable対nullableに参加するとき。 [\#4855](https://github.com/ClickHouse/ClickHouse/pull/4855) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   固定の区分断層に `clickhouse-copier`. [\#4835](https://github.com/ClickHouse/ClickHouse/pull/4835) ([プロラー](https://github.com/proller))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-11}

-   カスタムユーザーからclickhouse-serverイメージを起動する方法を追加します。 [\#4753](https://github.com/ClickHouse/ClickHouse/pull/4753) ([Mikhail f. Shiryaev](https://github.com/Felixoid))

### ClickHouseリリース19.4.2.7,2019-03-30 {#clickhouse-release-19-4-2-7-2019-03-30}

#### バグ修正 {#bug-fixes-9}

-   からの固定読み取り `Array(LowCardinality)` 列に空の配列の長いシーケンスが含まれている場合はまれです。 [\#4850](https://github.com/ClickHouse/ClickHouse/pull/4850) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))

### ClickHouse Release19.4.1.3,2019-03-19 {#clickhouse-release-19-4-1-3-2019-03-19}

#### バグ修正 {#bug-fixes-10}

-   両方を含む固定リモートクエリ `LIMIT BY` と `LIMIT`. 以前は、 `LIMIT BY` と `LIMIT` リモートクエリに使用された, `LIMIT` 前に起こる可能性が `LIMIT BY`、あまりにもろ過結果につながった。 [\#4708](https://github.com/ClickHouse/ClickHouse/pull/4708) ([コンスタンティン-S-パン](https://github.com/kvap))

### ClickHouseリリース19.4.0.49,2019-03-09 {#clickhouse-release-19-4-0-49-2019-03-09}

#### 新しい機能 {#new-features-5}

-   追加されたフルサポート `Protobuf` フォーマット(入力と出力、入れ子になったデータ構造)。 [\#4174](https://github.com/ClickHouse/ClickHouse/pull/4174) [\#4493](https://github.com/ClickHouse/ClickHouse/pull/4493) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   轟音ビットマップとビットマップ関数を追加しました。 [\#4207](https://github.com/ClickHouse/ClickHouse/pull/4207) ([アンディ-ヤン](https://github.com/andyyzh)) [\#4568](https://github.com/ClickHouse/ClickHouse/pull/4568) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   寄木細工の形式のサポート。 [\#4448](https://github.com/ClickHouse/ClickHouse/pull/4448) ([プロラー](https://github.com/proller))
-   ファジィ文字列の比較のためにN-gram距離を追加しました。 これは、R言語のq-gramメトリックに似ています。 [\#4466](https://github.com/ClickHouse/ClickHouse/pull/4466) ([ダニラ-クテニン](https://github.com/danlark1))
-   結合ルールのための黒鉛rollupから専用の凝集-保持。 [\#4426](https://github.com/ClickHouse/ClickHouse/pull/4426) ([Mikhail f. Shiryaev](https://github.com/Felixoid))
-   追加 `max_execution_speed` と `max_execution_speed_bytes` リソース使用量を制限する。 追加 `min_execution_speed_bytes` を補完するように設定する `min_execution_speed`. [\#4430](https://github.com/ClickHouse/ClickHouse/pull/4430) ([冬張](https://github.com/zhang2014))
-   実装関数 `flatten`. [\#4555](https://github.com/ClickHouse/ClickHouse/pull/4555) [\#4409](https://github.com/ClickHouse/ClickHouse/pull/4409) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov), [kzon](https://github.com/kzon))
-   追加された機能 `arrayEnumerateDenseRanked` と `arrayEnumerateUniqRanked` （それはのようです `arrayEnumerateUniq` しかし、多次元配列の内部を見るために配列の深さを微調整することができます）。 [\#4475](https://github.com/ClickHouse/ClickHouse/pull/4475) ([プロラー](https://github.com/proller)) [\#4601](https://github.com/ClickHouse/ClickHouse/pull/4601) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Multiple JOINS with some restrictions: no asterisks, no complex aliases in ON/WHERE/GROUP BY/… [\#4462](https://github.com/ClickHouse/ClickHouse/pull/4462) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### バグ修正 {#bug-fixes-11}

-   このリリースには、19.3と19.1のすべてのバグ修正も含まれています。
-   インデックスをスキップするデータのバグを修正しました。 [\#4407](https://github.com/ClickHouse/ClickHouse/pull/4407) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   固定 `set` インデックス `Nullable` と `LowCardinality` 列。 その前に, `set` インデックス `Nullable` または `LowCardinality` 列がエラーにつながった `Data type must be deserialized with multiple streams` 選択中。 [\#4594](https://github.com/ClickHouse/ClickHouse/pull/4594) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   完全にupdate\_timeを正しく設定 `executable` 辞書の更新。 [\#4551](https://github.com/ClickHouse/ClickHouse/pull/4551) ([テマ-ノヴィコフ](https://github.com/temoon))
-   19.3で壊れたプログレスバーを修正。 [\#4627](https://github.com/ClickHouse/ClickHouse/pull/4627) ([フィリモノフ](https://github.com/filimonov))
-   特定のケースでは、メモリ領域が縮小されたときにMemoryTrackerの矛盾した値を修正しました。 [\#4619](https://github.com/ClickHouse/ClickHouse/pull/4619) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ThreadPoolの未定義の動作を修正しました。 [\#4612](https://github.com/ClickHouse/ClickHouse/pull/4612) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   メッセージで非常にまれなクラッシュを修正 `mutex lock failed: Invalid argument` これは、MergeTreeテーブルがSELECTと同時に削除された場合に発生する可能性があります。 [\#4608](https://github.com/ClickHouse/ClickHouse/pull/4608) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   ODBCドライバとの互換性 `LowCardinality` データ型。 [\#4381](https://github.com/ClickHouse/ClickHouse/pull/4381) ([プロラー](https://github.com/proller))
-   FreeBSD:フィックスアップ `AIOcontextPool: Found io_event with unknown id 0` エラー [\#4438](https://github.com/ClickHouse/ClickHouse/pull/4438) ([ウルゴルドビーフ](https://github.com/urgordeadbeef))
-   `system.part_log` 設定に関係なくテーブルが作成されました。 [\#4483](https://github.com/ClickHouse/ClickHouse/pull/4483) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   未定義の動作を修正 `dictIsIn` キャッシュ辞書の機能。 [\#4515](https://github.com/ClickHouse/ClickHouse/pull/4515) ([アレサピン](https://github.com/alesapin))
-   Fixed a deadlock when a SELECT query locks the same table multiple times (e.g. from different threads or when executing multiple subqueries) and there is a concurrent DDL query. [\#4535](https://github.com/ClickHouse/ClickHouse/pull/4535) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   デフォルトでcompile\_expressionsを無効にします。 `llvm` contribはそれをとのテストし、 `clang` と `asan`. [\#4579](https://github.com/ClickHouse/ClickHouse/pull/4579) ([アレサピン](https://github.com/alesapin))
-   防ぐ `std::terminate` とき `invalidate_query` のために `clickhouse` 外部ディクショナリソースから誤った結果セット(空または複数の行または複数の列)が返されました。 問題を修正しました。 `invalidate_query` に関係なく、五秒ごとに行われました `lifetime`. [\#4583](https://github.com/ClickHouse/ClickHouse/pull/4583) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   デッドロックを避けなさい時 `invalidate_query` 辞書の場合 `clickhouse` ソースが関与していた `system.dictionaries` テーブルまたは `Dictionaries` データベース（まれなケース）。 [\#4599](https://github.com/ClickHouse/ClickHouse/pull/4599) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   空の場所でクロス結合の修正。 [\#4598](https://github.com/ClickHouse/ClickHouse/pull/4598) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   関数内の固定segfault “replicate” 定数引数が渡されたとき。 [\#4603](https://github.com/ClickHouse/ClickHouse/pull/4603) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   述語オプティマイザでラムダ関数を修正。 [\#4408](https://github.com/ClickHouse/ClickHouse/pull/4408) ([冬張](https://github.com/zhang2014))
-   複数の結合複数の修正。 [\#4595](https://github.com/ClickHouse/ClickHouse/pull/4595) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### 改善 {#improvements-3}

-   右のテーブルの列のセクションの結合のサポートエイリアス。 [\#4412](https://github.com/ClickHouse/ClickHouse/pull/4412) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   複数の結合の結果は、サブセレクトで使用する正しい結果名が必要です。 平置き換えエイリアスとソース名ます。 [\#4474](https://github.com/ClickHouse/ClickHouse/pull/4474) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   改善プッシュダウンの論理のために参加します。 [\#4387](https://github.com/ClickHouse/ClickHouse/pull/4387) ([イワン](https://github.com/abyss7))

#### 性能の向上 {#performance-improvements-3}

-   のヒューリスティックの改善 “move to PREWHERE” 最適化。 [\#4405](https://github.com/ClickHouse/ClickHouse/pull/4405) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   8ビットキーと16ビットキーにHashTableのAPIを使用する適切なルックアップテーブルを使用します。 [\#4536](https://github.com/ClickHouse/ClickHouse/pull/4536) ([アモス鳥](https://github.com/amosbird))
-   文字列比較のパフォーマンスの向上。 [\#4564](https://github.com/ClickHouse/ClickHouse/pull/4564) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   分散DDLタスクを処理するメインループが遅くならないように、分散DDLキューを別のスレッドでクリーンアップします。 [\#4502](https://github.com/ClickHouse/ClickHouse/pull/4502) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   とき `min_bytes_to_use_direct_io` 読み込むデータサイズが圧縮されたブロックのサイズによって過小評価されることがあるため、すべてのファイルがO\_DIRECTモードで開かれたわけではあ [\#4526](https://github.com/ClickHouse/ClickHouse/pull/4526) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-12}

-   Clang-9のサポートが追加されました [\#4604](https://github.com/ClickHouse/ClickHouse/pull/4604) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   間違った修正 `__asm__` 指示（再び) [\#4621](https://github.com/ClickHouse/ClickHouse/pull/4621) ([コンスタンチン-ポドシュモク](https://github.com/podshumok))
-   の設定を指定する機能を追加 `clickhouse-performance-test` コマンドラインから。 [\#4437](https://github.com/ClickHouse/ClickHouse/pull/4437) ([アレサピン](https://github.com/alesapin))
-   統合テストに辞書テストを追加します。 [\#4477](https://github.com/ClickHouse/ClickHouse/pull/4477) ([アレサピン](https://github.com/alesapin))
-   追加のクエリからのベンチマークのサイトを自動化性能試験までを実施。 [\#4496](https://github.com/ClickHouse/ClickHouse/pull/4496) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   `xxhash.h` これは実装の詳細であり、そのシンボルは名前空間であるため、外部lz4には存在しません `XXH_NAMESPACE` マクロ Lz4が外部の場合、xxHashも外部でなければならず、依存者はそれにリンクする必要があります。 [\#4495](https://github.com/ClickHouse/ClickHouse/pull/4495) ([オリヴェイ-デシュ](https://github.com/orivej))
-   ときにケースを修正 `quantileTiming` 集計関数は、負または浮動小数点引数で呼び出すことができます（これは未定義の振る舞いsanitizerでファズテストを修正します）。 [\#4506](https://github.com/ClickHouse/ClickHouse/pull/4506) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   スペル誤り訂正。 [\#4531](https://github.com/ClickHouse/ClickHouse/pull/4531) ([sdk2](https://github.com/sdk2))
-   Mac上でコンパイルを修正。 [\#4371](https://github.com/ClickHouse/ClickHouse/pull/4371) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   FreeBSDおよび様々な異常なビルド構成のビルド修正。 [\#4444](https://github.com/ClickHouse/ClickHouse/pull/4444) ([プロラー](https://github.com/proller))

## ClickHouseリリース19.3 {#clickhouse-release-19-3}

### ClickHouseリリース19.3.9.1,2019-04-02 {#clickhouse-release-19-3-9-1-2019-04-02}

#### バグ修正 {#bug-fixes-12}

-   でクラッシュを修正 `FULL/RIGHT JOIN` nullable対nullableに参加するとき。 [\#4855](https://github.com/ClickHouse/ClickHouse/pull/4855) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   固定の区分断層に `clickhouse-copier`. [\#4835](https://github.com/ClickHouse/ClickHouse/pull/4835) ([プロラー](https://github.com/proller))
-   からの固定読み取り `Array(LowCardinality)` 列に空の配列の長いシーケンスが含まれている場合はまれです。 [\#4850](https://github.com/ClickHouse/ClickHouse/pull/4850) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))

#### 造り/テスト/包装の改善 {#buildtestingpackaging-improvement-13}

-   カスタムユーザーからclickhouse-serverイメージを起動する方法を追加する [\#4753](https://github.com/ClickHouse/ClickHouse/pull/4753) ([Mikhail f. Shiryaev](https://github.com/Felixoid))

### ClickHouse Release19.3.7,2019-03-12 {#clickhouse-release-19-3-7-2019-03-12}

#### バグ修正 {#bug-fixes-13}

-   ＃3920のエラーを修正しました。 このエラ `Unknown codec family code`, `Cannot seek through file`）とsegfaults。 このバグはバージョン19.1で最初に登場し、19.1.10および19.3.6までのバージョンに存在します。 [\#4623](https://github.com/ClickHouse/ClickHouse/pull/4623) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.3.6,2019-03-02 {#clickhouse-release-19-3-6-2019-03-02}

#### バグ修正 {#bug-fixes-14}

-   スレッドプールに1000を超えるスレッドがある場合, `std::terminate` が起こるためのスレッド終了します。 [Azat Khuzhin](https://github.com/azat) [\#4485](https://github.com/ClickHouse/ClickHouse/pull/4485) [\#4505](https://github.com/ClickHouse/ClickHouse/pull/4505) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   これで作成することができます `ReplicatedMergeTree*` テーブルのコメントするカラムなデフォルトテーブルとカラムコーデックなコメントがデフォルトする また、コーデックの比較を修正。 [\#4523](https://github.com/ClickHouse/ClickHouse/pull/4523) ([アレサピン](https://github.com/alesapin))
-   固定時にクラッシュするバグに参加す配列またはタプル. [\#4552](https://github.com/ClickHouse/ClickHouse/pull/4552) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   メッセージとclickhouse-コピー機で固定クラッシュ `ThreadStatus not created`. [\#4540](https://github.com/ClickHouse/ClickHouse/pull/4540) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   固定電話を切るサーバー停止の場合は分散DDLsを使用した。 [\#4472](https://github.com/ClickHouse/ClickHouse/pull/4472) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   正しくない列番号が10より大きい列のテキスト形式の解析に関するエラーメッセージに表示されました。 [\#4484](https://github.com/ClickHouse/ClickHouse/pull/4484) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### ビルド/テスト/パッケージの改善 {#buildtestingpackaging-improvements-3}

-   AVXを有効にした固定ビルド。 [\#4527](https://github.com/ClickHouse/ClickHouse/pull/4527) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   コンパイルされているカーネルではなく、既知のバージョンに基づいて拡張会計とIO会計を有効にします。 [\#4541](https://github.com/ClickHouse/ClickHouse/pull/4541) ([nvartolomei](https://github.com/nvartolomei))
-   Core\_dumpの設定をスキップできるようにする。size\_limit、リミットセットが失敗した場合はスローの代わりに警告。 [\#4473](https://github.com/ClickHouse/ClickHouse/pull/4473) ([プロラー](https://github.com/proller))
-   削除された `inline` のタグ `void readBinary(...)` で `Field.cpp`. また、マージ冗長 `namespace DB` ブロック [\#4530](https://github.com/ClickHouse/ClickHouse/pull/4530) ([hcz](https://github.com/hczhcz))

### ClickHouse Release19.3.5,2019-02-21 {#clickhouse-release-19-3-5-2019-02-21}

#### バグ修正 {#bug-fixes-15}

-   大規模なhttp挿入クエリ処理のバグを修正しました。 [\#4454](https://github.com/ClickHouse/ClickHouse/pull/4454) ([アレサピン](https://github.com/alesapin))
-   間違った実装のために古いバージョンとの下位互換性を修正しました `send_logs_level` 設定。 [\#4445](https://github.com/ClickHouse/ClickHouse/pull/4445) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   テーブル関数の下位互換性を修正 `remote` 列のコメントで導入。 [\#4446](https://github.com/ClickHouse/ClickHouse/pull/4446) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.3.4,2019-02-16 {#clickhouse-release-19-3-4-2019-02-16}

#### 改善 {#improvements-4}

-   テーブル-インデックスをさせていただく事があり占めのメモリの制限を行うと `ATTACH TABLE` クエリ。 デタッチ後にテーブルをアタッチできない可能性を回避しました。 [\#4396](https://github.com/ClickHouse/ClickHouse/pull/4396) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ZooKeeperから受け取った最大文字列と配列サイズの制限を少し上げました。 でも引き続き増加しのサイズ `CLIENT_JVMFLAGS=-Djute.maxbuffer=...` 飼育係に。 [\#4398](https://github.com/ClickHouse/ClickHouse/pull/4398) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   すると修理を断念レプリカでも既に膨大な数のノードがそのキューに挿入します [\#4399](https://github.com/ClickHouse/ClickHouse/pull/4399) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   必要な引数を一つ追加する `SET` インデックス(格納されている最大行数)。 [\#4386](https://github.com/ClickHouse/ClickHouse/pull/4386) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))

#### バグ修正 {#bug-fixes-16}

-   固定 `WITH ROLLUP` 単一によるグループの結果 `LowCardinality` キー [\#4384](https://github.com/ClickHouse/ClickHouse/pull/4384) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   固定バグの設定指数を落と顆粒が含まれている場合以 `max_rows` 行）。 [\#4386](https://github.com/ClickHouse/ClickHouse/pull/4386) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   多くのFreeBSDビルド修正。 [\#4397](https://github.com/ClickHouse/ClickHouse/pull/4397) ([プロラー](https://github.com/proller))
-   固定エイリアス置換にクエリサブクエリを含む同じエイリアス（発行 [\#4110](https://github.com/ClickHouse/ClickHouse/issues/4110)). [\#4351](https://github.com/ClickHouse/ClickHouse/pull/4351) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### ビルド/テスト/パッケージの改善 {#buildtestingpackaging-improvements-4}

-   実行する機能を追加する `clickhouse-server` docker imageのステートレステストの場合。 [\#4347](https://github.com/ClickHouse/ClickHouse/pull/4347) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))

### ClickHouse Release19.3.3,2019-02-13 {#clickhouse-release-19-3-3-2019-02-13}

#### 新しい機能 {#new-features-6}

-   追加された `KILL MUTATION` 何らかの理由で立ち往生している突然変異を除去することを可能にする文。 追加 `latest_failed_part`, `latest_fail_time`, `latest_fail_reason` のフィールド `system.mutations` テーブルやtroubleshooting. [\#4287](https://github.com/ClickHouse/ClickHouse/pull/4287) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   集計関数を追加 `entropy` シャノンエントロピーを計算します [\#4238](https://github.com/ClickHouse/ClickHouse/pull/4238) ([Quid37](https://github.com/Quid37))
-   クエリを送信する機能を追加 `INSERT INTO tbl VALUES (....` 分割せずにサーバーに `query` と `data` 部品だ [\#4301](https://github.com/ClickHouse/ClickHouse/pull/4301) ([アレサピン](https://github.com/alesapin))
-   の汎用実装 `arrayWithConstant` 機能を追加しました。 [\#4322](https://github.com/ClickHouse/ClickHouse/pull/4322) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   実装 `NOT BETWEEN` 比較演算子。 [\#4228](https://github.com/ClickHouse/ClickHouse/pull/4228) ([ドミトリー-ナウモフ](https://github.com/nezed))
-   実装 `sumMapFiltered` 値が合計されるキーの数を制限できるようにするには `sumMap`. [\#4129](https://github.com/ClickHouse/ClickHouse/pull/4129) ([Léo Ercolanelli](https://github.com/ercolanelli-leo))
-   の追加されたサポート `Nullable` タイプ `mysql` テーブル関数。 [\#4198](https://github.com/ClickHouse/ClickHouse/pull/4198) ([Emmanuel Donin de Rosière](https://github.com/edonin))
-   の任意の定数式のサポート `LIMIT` 句。 [\#4246](https://github.com/ClickHouse/ClickHouse/pull/4246) ([k3box](https://github.com/k3box))
-   追加 `topKWeighted` (符号なし整数)重みを持つ追加の引数を取る集計関数。 [\#4245](https://github.com/ClickHouse/ClickHouse/pull/4245) ([アンドリュ](https://github.com/andrewgolman))
-   `StorageJoin` 今すぐサポート `join_any_take_last_row` 同じキーの既存の値を上書きできるようにする設定。 [\#3973](https://github.com/ClickHouse/ClickHouse/pull/3973) ([アモス鳥](https://github.com/amosbird)
-   追加された機能 `toStartOfInterval`. [\#4304](https://github.com/ClickHouse/ClickHouse/pull/4304) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   追加 `RowBinaryWithNamesAndTypes` 形式。 [\#4200](https://github.com/ClickHouse/ClickHouse/pull/4200) ([オレグ-コズリュク](https://github.com/DarkWanderer))
-   追加 `IPv4` と `IPv6` データ型。 より効果的な実装 `IPv*` 機能。 [\#3669](https://github.com/ClickHouse/ClickHouse/pull/3669) ([ヴァシーリー-ネムコフ](https://github.com/Enmk))
-   追加された機能 `toStartOfTenMinutes()`. [\#4298](https://github.com/ClickHouse/ClickHouse/pull/4298) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   追加 `Protobuf` 出力形式。 [\#4005](https://github.com/ClickHouse/ClickHouse/pull/4005) [\#4158](https://github.com/ClickHouse/ClickHouse/pull/4158) ([ヴィタリー-バラノフ](https://github.com/vitlibar))
-   追加brotli支援のためのHTTPインタフェースデータインポート(挿入します). [\#4235](https://github.com/ClickHouse/ClickHouse/pull/4235) ([ミハイル](https://github.com/fandyushin))
-   追加ヒントがユーザーを商品につけられたタ関数の名称又は種コマンドラインです。 [\#4239](https://github.com/ClickHouse/ClickHouse/pull/4239) ([ダニラ-クテニン](https://github.com/danlark1))
-   追加 `Query-Id` サーバーのHTTP応答ヘッダーへ。 [\#4231](https://github.com/ClickHouse/ClickHouse/pull/4231) ([ミハイル](https://github.com/fandyushin))

#### 実験的な特徴 {#experimental-features-2}

-   追加 `minmax` と `set` データ飛指標MergeTreeテーブルエンジンです。 [\#4143](https://github.com/ClickHouse/ClickHouse/pull/4143) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   の変換を追加しました `CROSS JOIN` に `INNER JOIN` 可能であれば。 [\#4221](https://github.com/ClickHouse/ClickHouse/pull/4221) [\#4266](https://github.com/ClickHouse/ClickHouse/pull/4266) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### バグ修正 {#bug-fixes-17}

-   固定 `Not found column` 重複する列の場合 `JOIN ON` セクション [\#4279](https://github.com/ClickHouse/ClickHouse/pull/4279) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   作る `START REPLICATED SENDS` コマ [\#4229](https://github.com/ClickHouse/ClickHouse/pull/4229) ([nvartolomei](https://github.com/nvartolomei))
-   固定集計関数の実行 `Array(LowCardinality)` 引数。 [\#4055](https://github.com/ClickHouse/ClickHouse/pull/4055) ([コチェトヴニコライ](https://github.com/KochetovNicolai))
-   間違った動作を修正しました `INSERT ... SELECT ... FROM file(...)` クエリとファイルは `CSVWithNames` または `TSVWIthNames` フォーマットと最初のデータ行がありません。 [\#4297](https://github.com/ClickHouse/ClickHouse/pull/4297) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定クラッシュ辞書の再読み込みの場合の辞書をございません。 このバグは19.1.6に登場しました。 [\#4188](https://github.com/ClickHouse/ClickHouse/pull/4188) ([プロラー](https://github.com/proller))
-   固定 `ALL JOIN` 右の表に重複があります。 [\#4184](https://github.com/ClickHouse/ClickHouse/pull/4184) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   固定分割の欠陥との `use_uncompressed_cache=1` そして、間違った非圧縮サイズの例外。 このバグは19.1.6に登場しました。 [\#4186](https://github.com/ClickHouse/ClickHouse/pull/4186) ([アレサピン](https://github.com/alesapin))
-   固定 `compile_expressions` 大きな（int16以上の）日付の比較に関するバグ。 [\#4341](https://github.com/ClickHouse/ClickHouse/pull/4341) ([アレサピン](https://github.com/alesapin))
-   テーブル関数から選択するときの無限ループを修正 `numbers(0)`. [\#4280](https://github.com/ClickHouse/ClickHouse/pull/4280) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   述語の最適化を一時的に無効にする `ORDER BY`. [\#3890](https://github.com/ClickHouse/ClickHouse/pull/3890) ([冬張](https://github.com/zhang2014))
-   固定 `Illegal instruction` 古いCpuでbase64関数を使用するときにエラーが発生しました。 このエラーは、ClickHouseがgcc-8でコンパイルされたときにのみ再現されます。 [\#4275](https://github.com/ClickHouse/ClickHouse/pull/4275) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定 `No message received` TLS接続を介してPostgreSQL ODBCドライバと対話するときのエラー。 MySQL ODBCドライバを使用するときにもsegfaultを修正します。 [\#4170](https://github.com/ClickHouse/ClickHouse/pull/4170) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正された誤った結果とき `Date` と `DateTime` 引数は、条件演算子（関数）の分岐で使用されます `if`). 関数の一般的なケースを追加しました `if`. [\#4243](https://github.com/ClickHouse/ClickHouse/pull/4243) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ClickHouse辞書は今内読み込みます `clickhouse` プロセス。 [\#4166](https://github.com/ClickHouse/ClickHouse/pull/4166) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定デッドロック時 `SELECT` テーブルから `File` エンジンは後に再試行されました `No such file or directory` エラー [\#4161](https://github.com/ClickHouse/ClickHouse/pull/4161) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   から選択したときに修正された競合状態 `system.tables` を与える `table doesn't exist` エラー [\#4313](https://github.com/ClickHouse/ClickHouse/pull/4313) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   `clickhouse-client` 対話モードで実行された場合、コマンドライン候補のデータをロードしているときに終了時にsegfaultできます。 [\#4317](https://github.com/ClickHouse/ClickHouse/pull/4317) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   バグを修正しました。 `IN` 演算子が誤った結果を生成していた。 [\#4099](https://github.com/ClickHouse/ClickHouse/pull/4099) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   修正されたエラー：データベースがある場合 `Dictionary` localhostからClickHouseソースを持つ辞書がある場合、辞書はロードできません。 [\#4255](https://github.com/ClickHouse/ClickHouse/pull/4255) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定エラー時のシステムログのようにして作成時サーバをシャットダウンしました。 [\#4254](https://github.com/ClickHouse/ClickHouse/pull/4254) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   正しく正しい型を返し、ロックを適切に処理します `joinGet` 機能。 [\#4153](https://github.com/ClickHouse/ClickHouse/pull/4153) ([アモス鳥](https://github.com/amosbird))
-   追加 `sumMapWithOverflow` 機能。 [\#4151](https://github.com/ClickHouse/ClickHouse/pull/4151) ([Léo Ercolanelli](https://github.com/ercolanelli-leo))
-   で固定segfault `allow_experimental_multiple_joins_emulation`. [52de2c](https://github.com/ClickHouse/ClickHouse/commit/52de2cd927f7b5257dd67e175f0a5560a48840d0) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   不正なバグを修正しました `Date` と `DateTime` 比較。 [\#4237](https://github.com/ClickHouse/ClickHouse/pull/4237) ([ヴァレクセイ](https://github.com/valexey))
-   未定義の動作サニタイザの下で固定ファズテスト：追加されたパラメータ型のチェック `quantile*Weighted` 機能の系列。 [\#4145](https://github.com/ClickHouse/ClickHouse/pull/4145) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   古いデータパーツの削除が失敗する可能性がある場合に、まれな競合状態を修正 `File not found` エラー [\#4378](https://github.com/ClickHouse/ClickHouse/pull/4378) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   /Etc/clickhouse-server/configが欠落しているパッケージをインストールする修正。xml。 [\#4343](https://github.com/ClickHouse/ClickHouse/pull/4343) ([プロラー](https://github.com/proller))

#### ビルド/テスト/パッケージの改善 {#buildtestingpackaging-improvements-5}

-   Debianパッケージ:設定に従って/etc/clickhouse-server/前処理されたリンクを修正します。 [\#4205](https://github.com/ClickHouse/ClickHouse/pull/4205) ([プロラー](https://github.com/proller))
-   FreeBSDのための様々なビルド修正。 [\#4225](https://github.com/ClickHouse/ClickHouse/pull/4225) ([プロラー](https://github.com/proller))
-   Perftestでテーブルを作成、記入、ドロップする機能を追加しました。 [\#4220](https://github.com/ClickHouse/ClickHouse/pull/4220) ([アレサピン](https://github.com/alesapin))
-   追加スクリプトチェックを複製します。 [\#4326](https://github.com/ClickHouse/ClickHouse/pull/4326) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   パフォーマ [\#4264](https://github.com/ClickHouse/ClickHouse/pull/4264) ([アレサピン](https://github.com/alesapin))
-   パッケージはデバッグシンボルとを示唆を設置することができます。 [\#4274](https://github.com/ClickHouse/ClickHouse/pull/4274) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   パフォーマンステストのリファクタリング。 より良いロギングと信号処理。 [\#4171](https://github.com/ClickHouse/ClickHouse/pull/4171) ([アレサピン](https://github.com/alesapin))
-   匿名Yandexのにドキュメントを追加しました。メトリカ-データセット [\#4164](https://github.com/ClickHouse/ClickHouse/pull/4164) ([アレサピン](https://github.com/alesapin))
-   Аdded tool for converting an old month-partitioned part to the custom-partitioned format. [\#4195](https://github.com/ClickHouse/ClickHouse/pull/4195) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   追加docsつのデータセットにs3. [\#4144](https://github.com/ClickHouse/ClickHouse/pull/4144) ([アレサピン](https://github.com/alesapin))
-   プル要求の説明から変更履歴を作成するスクリプトを追加しました。 [\#4169](https://github.com/ClickHouse/ClickHouse/pull/4169) [\#4173](https://github.com/ClickHouse/ClickHouse/pull/4173) ([コチェトヴニコライ](https://github.com/KochetovNicolai)) ([コチェトヴニコライ](https://github.com/KochetovNicolai))
-   追加人形のモジュールClickHouse. [\#4182](https://github.com/ClickHouse/ClickHouse/pull/4182) ([マキシム-フェドトフ](https://github.com/MaxFedotov))
-   文書化されていない関数のグループのドキュメントを追加しました。 [\#4168](https://github.com/ClickHouse/ClickHouse/pull/4168) ([冬張](https://github.com/zhang2014))
-   ARMビルドの修正。 [\#4210](https://github.com/ClickHouse/ClickHouse/pull/4210)[\#4306](https://github.com/ClickHouse/ClickHouse/pull/4306) [\#4291](https://github.com/ClickHouse/ClickHouse/pull/4291) ([プロラー](https://github.com/proller)) ([プロラー](https://github.com/proller))
-   辞書テストを実行できるようになりました `ctest`. [\#4189](https://github.com/ClickHouse/ClickHouse/pull/4189) ([プロラー](https://github.com/proller))
-   さて `/etc/ssl` SSL証明書の既定のディレクトリとして使用されます。 [\#4167](https://github.com/ClickHouse/ClickHouse/pull/4167) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   起動時にSSEとAVX命令のチェックを追加しました。 [\#4234](https://github.com/ClickHouse/ClickHouse/pull/4234) ([Igr](https://github.com/igron99))
-   Initスクリプトが待つサーバーで開始されます。 [\#4281](https://github.com/ClickHouse/ClickHouse/pull/4281) ([プロラー](https://github.com/proller))

#### 下位互換性のない変更 {#backward-incompatible-changes-1}

-   削除 `allow_experimental_low_cardinality_type` 設定。 `LowCardinality` データ型は運用準備が整いました。 [\#4323](https://github.com/ClickHouse/ClickHouse/pull/4323) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   削減マークのキャッシュされた、圧縮解除されたキャッシュサイズに従ってメインメニューを開きます。 [\#4240](https://github.com/ClickHouse/ClickHouse/pull/4240) ([ロパチン-コンスタンチン](https://github.com/k-lopatin)
-   キーワードを追加 `INDEX` で `CREATE TABLE` クエリ。 名前のある列 `index` バッククォートまたは二重引用符で囲む必要があります: `` `index` ``. [\#4143](https://github.com/ClickHouse/ClickHouse/pull/4143) ([ニキータ-ヴァシレフ](https://github.com/nikvas0))
-   `sumMap` を推進する結果の型の代わりにオーバーフロー. 古い `sumMap` 動作は次のようにして取得できます `sumMapWithOverflow` 機能。 [\#4151](https://github.com/ClickHouse/ClickHouse/pull/4151) ([Léo Ercolanelli](https://github.com/ercolanelli-leo))

#### 性能の向上 {#performance-improvements-4}

-   `std::sort` に置き換え `pdqsort` なしのクエリの場合 `LIMIT`. [\#4236](https://github.com/ClickHouse/ClickHouse/pull/4236) ([エフゲニー-プラウダ](https://github.com/kvinty))
-   現在サーバーの再利用にスレッドからグローバルスレッドプールがあります。 この影響性能の一部のコーナー。 [\#4150](https://github.com/ClickHouse/ClickHouse/pull/4150) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 改善 {#improvements-5}

-   FreeBSDのAIOサポートを実装しました。 [\#4305](https://github.com/ClickHouse/ClickHouse/pull/4305) ([ウルゴルドビーフ](https://github.com/urgordeadbeef))
-   `SELECT * FROM a JOIN b USING a, b` 今すぐ戻る `a` と `b` 左側のテーブルからの列のみ。 [\#4141](https://github.com/ClickHouse/ClickHouse/pull/4141) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   許可 `-C` として働く顧客の選択 `-c` オプション [\#4232](https://github.com/ClickHouse/ClickHouse/pull/4232) ([ショミンセルゲイ](https://github.com/syominsergey))
-   Nowオプション `--password` 使用せずに値を必要とパスワードからstdin. [\#4230](https://github.com/ClickHouse/ClickHouse/pull/4230) ([BSD\_Conqueror](https://github.com/bsd-conqueror))
-   エスケープされていないメタ文字を含む文字列リテラルの強調表示を追加しました `LIKE` 式または正規表現。 [\#4327](https://github.com/ClickHouse/ClickHouse/pull/4327) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   クライア [\#4213](https://github.com/ClickHouse/ClickHouse/pull/4213) ([nvartolomei](https://github.com/nvartolomei))
-   現在サーバーの進捗報告書くクライアント接続の待機を開始。 [\#4215](https://github.com/ClickHouse/ClickHouse/pull/4215) ([イワン](https://github.com/abyss7))
-   クエリを最適化する理由を持つやや良いメッセージ `optimize_throw_if_noop` 設定を有効にします。 [\#4294](https://github.com/ClickHouse/ClickHouse/pull/4294) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   の追加されたサポート `--version` clickhouseサーバーのオプション。 [\#4251](https://github.com/ClickHouse/ClickHouse/pull/4251) ([ロパチン-コンスタンチン](https://github.com/k-lopatin))
-   追加 `--help/-h` オプション `clickhouse-server`. [\#4233](https://github.com/ClickHouse/ClickHouse/pull/4233) ([ユーリー-バラノフ](https://github.com/yurriy))
-   るためのサポートを追加しましたスカラサブクエリと集計関数の状態ます。 [\#4348](https://github.com/ClickHouse/ClickHouse/pull/4348) ([ニコライ-コチェトフ](https://github.com/KochetovNicolai))
-   向上サーバー停止時間の変更を待ってます。 [\#4372](https://github.com/ClickHouse/ClickHouse/pull/4372) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Replicated\_can\_become\_leader設定に関する情報をシステムに追加しました。レプリカがリーダーになろうとしない場合は、レプリカとログの追加。 [\#4379](https://github.com/ClickHouse/ClickHouse/pull/4379) ([アレックス-ザテレピン](https://github.com/ztlpn))

## ClickHouseリリース19.1 {#clickhouse-release-19-1}

### ClickHouse Release19.1.14,2019-03-14 {#clickhouse-release-19-1-14-2019-03-14}

-   修正されたエラー `Column ... queried more than once` これは、 `asterisk_left_columns_only` を使用する場合は1に設定されます `GLOBAL JOIN` と `SELECT *` （まれなケース）。 この問題は19.3以降には存在しません。 [6bac7d8d](https://github.com/ClickHouse/ClickHouse/pull/4692/commits/6bac7d8d11a9b0d6de0b32b53c47eb2f6f8e7062) ([アルテム-ズイコフ](https://github.com/4ertus2))

### ClickHouse Release19.1.13,2019-03-12 {#clickhouse-release-19-1-13-2019-03-12}

このリリ

### ClickHouseリリース19.1.10,2019-03-03 {#clickhouse-release-19-1-10-2019-03-03}

このリリ

## ClickHouseリリース19.1 {#clickhouse-release-19-1-1}

### ClickHouse Release19.1.9,2019-02-21 {#clickhouse-release-19-1-9-2019-02-21}

#### バグ修正 {#bug-fixes-18}

-   間違った実装のために古いバージョンとの下位互換性を修正しました `send_logs_level` 設定。 [\#4445](https://github.com/ClickHouse/ClickHouse/pull/4445) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   テーブル関数の下位互換性を修正 `remote` 列のコメントで導入。 [\#4446](https://github.com/ClickHouse/ClickHouse/pull/4446) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.1.8,2019-02-16 {#clickhouse-release-19-1-8-2019-02-16}

#### バグ修正 {#bug-fixes-19}

-   /Etc/clickhouse-server/configが欠落しているパッケージをインストールする修正。xml。 [\#4343](https://github.com/ClickHouse/ClickHouse/pull/4343) ([プロラー](https://github.com/proller))

## ClickHouseリリース19.1 {#clickhouse-release-19-1-2}

### ClickHouse Release19.1.7,2019-02-15 {#clickhouse-release-19-1-7-2019-02-15}

#### バグ修正 {#bug-fixes-20}

-   正しく正しい型を返し、ロックを適切に処理します `joinGet` 機能。 [\#4153](https://github.com/ClickHouse/ClickHouse/pull/4153) ([アモス鳥](https://github.com/amosbird))
-   固定エラー時のシステムログのようにして作成時サーバをシャットダウンしました。 [\#4254](https://github.com/ClickHouse/ClickHouse/pull/4254) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   修正されたエラー：データベースがある場合 `Dictionary` localhostからClickHouseソースを持つ辞書がある場合、辞書はロードできません。 [\#4255](https://github.com/ClickHouse/ClickHouse/pull/4255) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   バグを修正しました。 `IN` 演算子が誤った結果を生成していた。 [\#4099](https://github.com/ClickHouse/ClickHouse/pull/4099) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   `clickhouse-client` 対話モードで実行された場合、コマンドライン候補のデータをロードしているときに終了時にsegfaultできます。 [\#4317](https://github.com/ClickHouse/ClickHouse/pull/4317) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   から選択したときに修正された競合状態 `system.tables` を与える `table doesn't exist` エラー [\#4313](https://github.com/ClickHouse/ClickHouse/pull/4313) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定デッドロック時 `SELECT` テーブルから `File` エンジンは後に再試行されました `No such file or directory` エラー [\#4161](https://github.com/ClickHouse/ClickHouse/pull/4161) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定問題:地方ClickHouse辞書読み込まれTCPが負荷以内です。 [\#4166](https://github.com/ClickHouse/ClickHouse/pull/4166) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定 `No message received` TLS接続を介してPostgreSQL ODBCドライバと対話するときのエラー。 MySQL ODBCドライバを使用するときにもsegfaultを修正します。 [\#4170](https://github.com/ClickHouse/ClickHouse/pull/4170) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   述語の最適化を一時的に無効にする `ORDER BY`. [\#3890](https://github.com/ClickHouse/ClickHouse/pull/3890) ([冬張](https://github.com/zhang2014))
-   テーブル関数から選択するときの無限ループを修正 `numbers(0)`. [\#4280](https://github.com/ClickHouse/ClickHouse/pull/4280) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定 `compile_expressions` 大きな（int16以上の）日付の比較に関するバグ。 [\#4341](https://github.com/ClickHouse/ClickHouse/pull/4341) ([アレサピン](https://github.com/alesapin))
-   固定分割の欠陥との `uncompressed_cache=1` そして、間違った非圧縮サイズの例外。 [\#4186](https://github.com/ClickHouse/ClickHouse/pull/4186) ([アレサピン](https://github.com/alesapin))
-   固定 `ALL JOIN` 右の表に重複があります。 [\#4184](https://github.com/ClickHouse/ClickHouse/pull/4184) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   間違った動作を修正しました `INSERT ... SELECT ... FROM file(...)` クエリとファイルは `CSVWithNames` または `TSVWIthNames` フォーマットと最初のデータ行がありません。 [\#4297](https://github.com/ClickHouse/ClickHouse/pull/4297) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定集計関数の実行 `Array(LowCardinality)` 引数。 [\#4055](https://github.com/ClickHouse/ClickHouse/pull/4055) ([コチェトヴニコライ](https://github.com/KochetovNicolai))
-   Debianパッケージ:設定に従って/etc/clickhouse-server/前処理されたリンクを修正します。 [\#4205](https://github.com/ClickHouse/ClickHouse/pull/4205) ([プロラー](https://github.com/proller))
-   未定義の動作サニタイザの下で固定ファズテスト：追加されたパラメータ型のチェック `quantile*Weighted` 機能の系列。 [\#4145](https://github.com/ClickHouse/ClickHouse/pull/4145) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   作る `START REPLICATED SENDS` コマ [\#4229](https://github.com/ClickHouse/ClickHouse/pull/4229) ([nvartolomei](https://github.com/nvartolomei))
-   固定 `Not found column` セクションの結合で重複する列の場合。 [\#4279](https://github.com/ClickHouse/ClickHouse/pull/4279) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   さて `/etc/ssl` SSL証明書の既定のディレクトリとして使用されます。 [\#4167](https://github.com/ClickHouse/ClickHouse/pull/4167) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定クラッシュ辞書の再読み込みの場合の辞書をございません。 [\#4188](https://github.com/ClickHouse/ClickHouse/pull/4188) ([プロラー](https://github.com/proller))
-   不正なバグを修正しました `Date` と `DateTime` 比較。 [\#4237](https://github.com/ClickHouse/ClickHouse/pull/4237) ([ヴァレクセイ](https://github.com/valexey))
-   修正された誤った結果とき `Date` と `DateTime` 引数は、条件演算子（関数）の分岐で使用されます `if`). 関数の一般的なケースを追加しました `if`. [\#4243](https://github.com/ClickHouse/ClickHouse/pull/4243) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

### ClickHouse Release19.1.6,2019-01-24 {#clickhouse-release-19-1-6-2019-01-24}

#### 新しい機能 {#new-features-7}

-   表の列ごとのカスタム圧縮コーデック。 [\#3899](https://github.com/ClickHouse/ClickHouse/pull/3899) [\#4111](https://github.com/ClickHouse/ClickHouse/pull/4111) ([アレサピン](https://github.com/alesapin), [冬張](https://github.com/zhang2014), [アナトリー](https://github.com/Sindbag))
-   圧縮コーデックを追加 `Delta`. [\#4052](https://github.com/ClickHouse/ClickHouse/pull/4052) ([アレサピン](https://github.com/alesapin))
-   許可する `ALTER` 圧縮コーデック。 [\#4054](https://github.com/ClickHouse/ClickHouse/pull/4054) ([アレサピン](https://github.com/alesapin))
-   追加された機能 `left`, `right`, `trim`, `ltrim`, `rtrim`, `timestampadd`, `timestampsub` SQL標準の互換性のため。 [\#3826](https://github.com/ClickHouse/ClickHouse/pull/3826) ([イヴァン-ブリンコフ](https://github.com/blinkov))
-   書き込みのサポート `HDFS` テーブルと `hdfs` テーブル関数。 [\#4084](https://github.com/ClickHouse/ClickHouse/pull/4084) ([アレサピン](https://github.com/alesapin))
-   Big haystackから複数の定数文字列を検索する機能を追加しました: `multiPosition`, `multiSearch` ,`firstMatch` また `-UTF8`, `-CaseInsensitive`,and `-CaseInsensitiveUTF8` 変種。 [\#4053](https://github.com/ClickHouse/ClickHouse/pull/4053) ([ダニラ-クテニン](https://github.com/danlark1))
-   未使用の破片の剪定 `SELECT` シャーディングキー(設定 `optimize_skip_unused_shards`). [\#3851](https://github.com/ClickHouse/ClickHouse/pull/3851) ([グレブ-カンテロフ](https://github.com/kanterov), [イワン](https://github.com/abyss7))
-   許可 `Kafka` ブロックごとにいくつかの解析エラーを無視するエンジン。 [\#4094](https://github.com/ClickHouse/ClickHouse/pull/4094) ([イワン](https://github.com/abyss7))
-   追加されたサポート `CatBoost` マルチクラスモデルの評価。 関数 `modelEvaluate` マルチクラスモデルのクラスごとの生の予測を持つタプルを返します。 `libcatboostmodel.so` で構築する必要があります [\#607](https://github.com/catboost/catboost/pull/607). [\#3959](https://github.com/ClickHouse/ClickHouse/pull/3959) ([コチェトヴニコライ](https://github.com/KochetovNicolai))
-   追加された機能 `filesystemAvailable`, `filesystemFree`, `filesystemCapacity`. [\#4097](https://github.com/ClickHouse/ClickHouse/pull/4097) ([ボリス-グランヴォー](https://github.com/bgranvea))
-   ハッシュ機能の追加 `xxHash64` と `xxHash32`. [\#3905](https://github.com/ClickHouse/ClickHouse/pull/3905) ([フィリモノフ](https://github.com/filimonov))
-   追加 `gccMurmurHash` 同じハッシュシードを使用するハッシュ関数(GCC flavoured Murmur hash) [gcc](https://github.com/gcc-mirror/gcc/blob/41d6b10e96a1de98e90a7c0378437c3255814b16/libstdc%2B%2B-v3/include/bits/functional_hash.h#L191) [\#4000](https://github.com/ClickHouse/ClickHouse/pull/4000) ([スンディリ](https://github.com/sundy-li))
-   ハッシュ機能の追加 `javaHash`, `hiveHash`. [\#3811](https://github.com/ClickHouse/ClickHouse/pull/3811) ([shangshujie365](https://github.com/shangshujie365))
-   テーブル関数を追加 `remoteSecure`. 機能として `remote` しかし、安全な接続を使用します。 [\#4088](https://github.com/ClickHouse/ClickHouse/pull/4088) ([プロラー](https://github.com/proller))

#### 実験的な特徴 {#experimental-features-3}

-   複数の結合エミュレーションを追加 (`allow_experimental_multiple_joins_emulation` 設定）。 [\#3946](https://github.com/ClickHouse/ClickHouse/pull/3946) ([アルテム-ズイコフ](https://github.com/4ertus2))

#### バグ修正 {#bug-fixes-21}

-   作る `compiled_expression_cache_size` 設定により限定のデフォルトの低メモリを消費する。 [\#4041](https://github.com/ClickHouse/ClickHouse/pull/4041) ([アレサピン](https://github.com/alesapin))
-   レプリケートされたテーブルの変更を実行するスレッドと、ZooKeeperから設定を更新するスレッドでハングアップするバグを修正しました。 [\#2947](https://github.com/ClickHouse/ClickHouse/issues/2947) [\#3891](https://github.com/ClickHouse/ClickHouse/issues/3891) [\#3934](https://github.com/ClickHouse/ClickHouse/pull/3934) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   分散型変更タスクを実行するときの競合状態を修正しました。 競合状態により、複数のレプリカがタスクを実行しようとし、ZooKeeperエラーで失敗したものを除くすべてのレプリカが発生しました。 [\#3904](https://github.com/ClickHouse/ClickHouse/pull/3904) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   ときにバグを修正 `from_zk` zookeeperへの要求がタイムアウトした後、config要素が更新されませんでした。 [\#2947](https://github.com/ClickHouse/ClickHouse/issues/2947) [\#3947](https://github.com/ClickHouse/ClickHouse/pull/3947) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   修正のバグが間違っているとの接頭辞IPv4サブネットマスクを商品化しました。 [\#3945](https://github.com/ClickHouse/ClickHouse/pull/3945) ([アレサピン](https://github.com/alesapin))
-   固定クラッシュ (`std::terminate`)まれに、リソースの消耗により新しいスレッドが作成できない場合があります。 [\#3956](https://github.com/ClickHouse/ClickHouse/pull/3956) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   ときにバグを修正 `remote` inに対して間違った制限が使用された場合の表関数の実行 `getStructureOfRemoteTable`. [\#4009](https://github.com/ClickHouse/ClickHouse/pull/4009) ([アレサピン](https://github.com/alesapin))
-   Netlinkソケットの漏れを修正しました。 これらは削除されなかったプールに配置され、現在のすべてのソケットが使用されていたときに新しいスレッドの開始時に新しいソケットが作成 [\#4017](https://github.com/ClickHouse/ClickHouse/pull/4017) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   閉じるとバグを修正 `/proc/self/fd` すべてのfdsが読み取られた前のディレクトリ `/proc` フォーク後 `odbc-bridge` サブプロセス [\#4120](https://github.com/ClickHouse/ClickHouse/pull/4120) ([アレサピン](https://github.com/alesapin))
-   主キーの使用文字列の場合にuint単調変換に文字列を修正しました。 [\#3870](https://github.com/ClickHouse/ClickHouse/pull/3870) ([冬張](https://github.com/zhang2014))
-   整数変換関数の単調性の計算エラーを修正しました。 [\#3921](https://github.com/ClickHouse/ClickHouse/pull/3921) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   で固定segfault `arrayEnumerateUniq`, `arrayEnumerateDense` いくつかの無効な引数の場合の関数。 [\#3909](https://github.com/ClickHouse/ClickHouse/pull/3909) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   StorageMergeでubを修正しました。 [\#3910](https://github.com/ClickHouse/ClickHouse/pull/3910) ([アモス鳥](https://github.com/amosbird))
-   関数内の固定segfault `addDays`, `subtractDays`. [\#3913](https://github.com/ClickHouse/ClickHouse/pull/3913) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定エラー：関数 `round`, `floor`, `trunc`, `ceil` 整数引数と大きな負のスケールで実行すると、偽の結果を返す可能性があります。 [\#3914](https://github.com/ClickHouse/ClickHouse/pull/3914) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   によって誘発されるバグを修正 ‘kill query sync’ これはコアダンプにつながります。 [\#3916](https://github.com/ClickHouse/ClickHouse/pull/3916) ([マブルディーペッカー](https://github.com/fancyqlx))
-   空の複製キューの後に長い遅延のバグを修正しました。 [\#3928](https://github.com/ClickHouse/ClickHouse/pull/3928) [\#3932](https://github.com/ClickHouse/ClickHouse/pull/3932) ([アレサピン](https://github.com/alesapin))
-   テーブルに挿入する場合の過剰なメモリ使用量を修正しました `LowCardinality` 主キー。 [\#3955](https://github.com/ClickHouse/ClickHouse/pull/3955) ([コチェトヴニコライ](https://github.com/KochetovNicolai))
-   固定 `LowCardinality` のシリアル化 `Native` 空の配列の場合の書式。 [\#3907](https://github.com/ClickHouse/ClickHouse/issues/3907) [\#4011](https://github.com/ClickHouse/ClickHouse/pull/4011) ([コチェトヴニコライ](https://github.com/KochetovNicolai))
-   に修正結果が異なる単一LowCardinality数値カラムです。 [\#3895](https://github.com/ClickHouse/ClickHouse/issues/3895) [\#4012](https://github.com/ClickHouse/ClickHouse/pull/4012) ([コチェトヴニコライ](https://github.com/KochetovNicolai))
-   低カーディナリティキーを持つ特殊化された集計を修正しました `compile` 設定が有効になっています）。 [\#3886](https://github.com/ClickHouse/ClickHouse/pull/3886) ([コチェトヴニコライ](https://github.com/KochetovNicolai))
-   固定ユーザとパスワードを転送のための複製のテーブルのクエリ. [\#3957](https://github.com/ClickHouse/ClickHouse/pull/3957) ([アレサピン](https://github.com/alesapin)) ([小路](https://github.com/nicelulu))
-   固定非常に珍しい競合状態とされるようにすることが一覧表の辞書データベースをリロードを生成する事ができます。 [\#3970](https://github.com/ClickHouse/ClickHouse/pull/3970) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   に修正が発生した場合の結果を使用したとROLLUPはュールをご用意しております。 [\#3756](https://github.com/ClickHouse/ClickHouse/issues/3756) [\#3837](https://github.com/ClickHouse/ClickHouse/pull/3837) ([サム-チョウ](https://github.com/reflection))
-   クエリの列エイリアスを修正しました。 `JOIN ON` 構文と分散テーブル。 [\#3980](https://github.com/ClickHouse/ClickHouse/pull/3980) ([冬張](https://github.com/zhang2014))
-   内部実装のエラーを修正しました。 `quantileTDigest` （Artem Vakhrushevによって発見された）。 このエラーはClickHouseでは決して発生せず、ClickHouseコードベースをライブラリとして直接使用する人にのみ関連していました。 [\#3935](https://github.com/ClickHouse/ClickHouse/pull/3935) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 改善 {#improvements-6}

-   のサポート `IF NOT EXISTS` で `ALTER TABLE ADD COLUMN` と一緒に文 `IF EXISTS` で `DROP/MODIFY/CLEAR/COMMENT COLUMN`. [\#3900](https://github.com/ClickHouse/ClickHouse/pull/3900) ([ボリス-グランヴォー](https://github.com/bgranvea))
-   関数 `parseDateTimeBestEffort`：形式のサポート `DD.MM.YYYY`, `DD.MM.YY`, `DD-MM-YYYY`, `DD-Mon-YYYY`, `DD/Month/YYYY` と同様。 [\#3922](https://github.com/ClickHouse/ClickHouse/pull/3922) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   `CapnProtoInputStream` 今ギザギザの構造をサポート。 [\#4063](https://github.com/ClickHouse/ClickHouse/pull/4063) ([稼動に伴Hultgren Van Der Horst](https://github.com/Miniwoffer))
-   ユーザビリティ向上に追加チェックがサーバプロセスからのデータディレクトリはオーナーを想定しています。 できない開始のサーバーからのルートデータが得られない場合には所属非rootユーザーです。 [\#3785](https://github.com/ClickHouse/ClickHouse/pull/3785) ([セルゲイ-v-ガルツェフ](https://github.com/sergey-v-galtsev))
-   より良いロジックの確認に必要なカラムの中での分析クエリを処理するクラウドの場合が仲間入り。 [\#3930](https://github.com/ClickHouse/ClickHouse/pull/3930) ([アルテム-ズイコフ](https://github.com/4ertus2))
-   単一のサーバーに多数の分散テーブルがある場合の接続数を減少させました。 [\#3726](https://github.com/ClickHouse/ClickHouse/pull/3726) ([冬張](https://github.com/zhang2014))
-   サポートされている合計行 `WITH TOTALS` ODBCドライバのクエリ。 [\#3836](https://github.com/ClickHouse/ClickHouse/pull/3836) ([マクシム-コリツキー](https://github.com/nightweb))
-   使用を許可 `Enum`if関数内の整数としてのs。 [\#3875](https://github.com/ClickHouse/ClickHouse/pull/3875) ([イワン](https://github.com/abyss7))
-   追加 `low_cardinality_allow_in_native_format` 設定。 無効の場合は、使用しないでください `LowCadrinality` 入力 `Native` 形式。 [\#3879](https://github.com/ClickHouse/ClickHouse/pull/3879) ([コチェトヴニコライ](https://github.com/KochetovNicolai))
-   削除の冗長化物からの集計表現のキャッシュの低メモリ使用量 [\#4042](https://github.com/ClickHouse/ClickHouse/pull/4042) ([アレサピン](https://github.com/alesapin))
-   それをチェック追加 `SET send_logs_level = 'value'` クエリーを受け適切な値です。 [\#3873](https://github.com/ClickHouse/ClickHouse/pull/3873) ([サビヤニン-マキシム](https://github.com/s-mx))
-   型変換関数の固定データ型チェック。 [\#3896](https://github.com/ClickHouse/ClickHouse/pull/3896) ([冬張](https://github.com/zhang2014))

#### 性能の向上 {#performance-improvements-5}

-   MergeTree設定を追加する `use_minimalistic_part_header_in_zookeeper`. 有効になっている場合、複製のテーブル店舗のコンパクト部分のメタデータの一部znode. これは著しく低下するので、飼育係スナップショットサイズ（場合には、あらゆるテーブルのカラム). この設定を有効にすると、サポートされていないバージョンにダウングレードすることはできません。 [\#3960](https://github.com/ClickHouse/ClickHouse/pull/3960) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   関数のDFAベースの実装を追加する `sequenceMatch` と `sequenceCount` パターンに時間が含まれていない場合。 [\#4004](https://github.com/ClickHouse/ClickHouse/pull/4004) ([Léo Ercolanelli](https://github.com/ercolanelli-leo))
-   整数シリアル化のパフォーマンス向上。 [\#3968](https://github.com/ClickHouse/ClickHouse/pull/3968) ([アモス鳥](https://github.com/amosbird))
-   ゼロ左パディングPODArrayように-1要素は常に有効とゼロになります。 これは、オフセットの分岐のない計算に使用されます。 [\#3920](https://github.com/ClickHouse/ClickHouse/pull/3920) ([アモス鳥](https://github.com/amosbird))
-   元に戻した `jemalloc` 性能低下につながるバージョン。 [\#4018](https://github.com/ClickHouse/ClickHouse/pull/4018) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))

#### 下位互換性のない変更 {#backward-incompatible-changes-2}

-   文書化されていない機能を削除 `ALTER MODIFY PRIMARY KEY` それはによって取って代わられたので `ALTER MODIFY ORDER BY` コマンド [\#3887](https://github.com/ClickHouse/ClickHouse/pull/3887) ([アレックス-ザテレピン](https://github.com/ztlpn))
-   削除された機能 `shardByHash`. [\#3833](https://github.com/ClickHouse/ClickHouse/pull/3833) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Result of typeでのスカラーサブクエリの使用を禁止する `AggregateFunction`. [\#3865](https://github.com/ClickHouse/ClickHouse/pull/3865) ([イワン](https://github.com/abyss7))

#### ビルド/テスト/パッケージの改善 {#buildtestingpackaging-improvements-6}

-   PowerPCのサポートを追加 (`ppc64le`）ビルド。 [\#4132](https://github.com/ClickHouse/ClickHouse/pull/4132) ([ダニラ-クテニン](https://github.com/danlark1))
-   ステートフル機能テストは、public available datasetで実行されます。 [\#3969](https://github.com/ClickHouse/ClickHouse/pull/3969) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   固定エラー時にサーバーはできませんの `bash: /usr/bin/clickhouse-extract-from-config: Operation not permitted` Dockerまたはsystemd-nspawn内のメッセージ。 [\#4136](https://github.com/ClickHouse/ClickHouse/pull/4136) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   更新 `rdkafka` v1.0.0-RC5へのライブラリ。 生のCインタフェースの代わりにcppkafkaを使用しました。 [\#4025](https://github.com/ClickHouse/ClickHouse/pull/4025) ([イワン](https://github.com/abyss7))
-   更新 `mariadb-client` 図書館 ウブサンによって発見された問題の一つを修正しました。 [\#3924](https://github.com/ClickHouse/ClickHouse/pull/3924) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   UBSanビルドのいくつかの修正。 [\#3926](https://github.com/ClickHouse/ClickHouse/pull/3926) [\#3021](https://github.com/ClickHouse/ClickHouse/pull/3021) [\#3948](https://github.com/ClickHouse/ClickHouse/pull/3948) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   UBSanビルドによるテストのコミットごとの実行を追加しました。
-   PVS-Studio static analyzerのコミットごとの実行を追加しました。
-   PVS-Studioで見つかったバグを修正しました。 [\#4013](https://github.com/ClickHouse/ClickHouse/pull/4013) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Glibcの互換性の問題を修正しました。 [\#4100](https://github.com/ClickHouse/ClickHouse/pull/4100) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Dockerイメージを18.10に移動し、glibc\>=2.28の互換性ファイルを追加します [\#3965](https://github.com/ClickHouse/ClickHouse/pull/3965) ([アレサピン](https://github.com/alesapin))
-   追加環境変数の場合はユーザーを行わないchownディレクトリをサーバー Dockerイメージです。 [\#3967](https://github.com/ClickHouse/ClickHouse/pull/3967) ([アレサピン](https://github.com/alesapin))
-   からの警告のほとんどを有効に `-Weverything` クラング 有効 `-Wpedantic`. [\#3986](https://github.com/ClickHouse/ClickHouse/pull/3986) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   Clang8でのみ使用できるいくつかの警告を追加しました。 [\#3993](https://github.com/ClickHouse/ClickHouse/pull/3993) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   リンク先 `libLLVM` 共有リンクを使用する場合、個々のLLVM libに対してではなく。 [\#3989](https://github.com/ClickHouse/ClickHouse/pull/3989) ([オリヴェイ-デシュ](https://github.com/orivej))
-   テスト画像のサニタイザー変数を追加しました。 [\#4072](https://github.com/ClickHouse/ClickHouse/pull/4072) ([アレサピン](https://github.com/alesapin))
-   `clickhouse-server` debianパッケージは推奨します `libcap2-bin` 使用するパッケージ `setcap` 機能を設定するためのツール。 これは任意です。 [\#4093](https://github.com/ClickHouse/ClickHouse/pull/4093) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   改善作成時に固定。 [\#3898](https://github.com/ClickHouse/ClickHouse/pull/3898) ([プロラー](https://github.com/proller))
-   ハッシュ関数の性能テストを追加しました。 [\#3918](https://github.com/ClickHouse/ClickHouse/pull/3918) ([フィリモノフ](https://github.com/filimonov))
-   周期ライブラリの依存関係を修正しました。 [\#3958](https://github.com/ClickHouse/ClickHouse/pull/3958) ([プロラー](https://github.com/proller))
-   利用可能なメモリが少ないコンパイルの改善。 [\#4030](https://github.com/ClickHouse/ClickHouse/pull/4030) ([プロラー](https://github.com/proller))
-   パフォーマン `jemalloc`. [\#4036](https://github.com/ClickHouse/ClickHouse/pull/4036) ([アレクセイ-ミロヴィドフ](https://github.com/alexey-milovidov))
-   下のコメントと文字列リテラルのスペルミスを修正しました `dbms`. [\#4122](https://github.com/ClickHouse/ClickHouse/pull/4122) ([舞羽（まいは](https://github.com/maiha))
-   コメントの修正タイプミス。 [\#4089](https://github.com/ClickHouse/ClickHouse/pull/4089) ([エフゲニー-プラウダ](https://github.com/kvinty))

## [2018年の変更履歴](./2018.md#clickhouse-release-18-16) {#changelog-for-2018}
