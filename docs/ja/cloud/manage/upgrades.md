---
sidebar_label: アップグレード
slug: /ja/manage/updates
---

# アップグレード

ClickHouse Cloud では、パッチ適用やアップグレードについて心配する必要がありません。修正、新機能、性能改善を含むアップグレードを定期的に展開しています。ClickHouse の新機能の詳細については、[Cloud の変更履歴](/docs/ja/cloud/reference/changelog.md)をご覧ください。

## バージョン互換性

サービスを作成するとき、[`compatibility` 設定](/docs/ja/operations/settings/settings#compatibility)は、サービスが最初にプロビジョニングされた時点で ClickHouse Cloud によって提供されている最新の ClickHouse バージョンに設定されます。

`compatibility` 設定により、以前のバージョンの設定のデフォルト値を使用できます。サービスが新しいバージョンにアップグレードされても、`compatibility` 設定に指定されたバージョンは変更されません。これは、サービスを作成したときに存在していた設定のデフォルト値が変更されないことを意味します（ただし、既にそれらのデフォルト値を上書きしている場合、それらはアップグレード後も持続します）。

サービスの `compatibility` 設定は管理できません。`compatibility` 設定に指定されているバージョンを変更したい場合は、[サポートに連絡](https://clickhouse.com/support/program)する必要があります。

## メンテナンスモード

場合によっては、サービスを更新する必要があり、スケーリングやアイドリングなどの特定の機能を無効にする必要があることがあります。まれに、問題が発生しているサービスに対して何らかの措置を講じ、正常な状態に戻す必要が生じることがあります。このようなメンテナンス中は、サービスページに「メンテナンスが進行中」と書かれたバナーが表示されます。この間でもクエリのためにサービスを利用できる場合があります。

メンテナンス中の時間に対しては料金が課されません。_メンテナンスモード_ はまれな出来事であり、通常のサービスアップグレードと混同しないでください。

## リリースチャネル（アップグレードスケジュール）

ClickHouse Cloud サービスのアップグレードスケジュールを特定のリリースチャネルに登録することで指定できます。通常のアップグレードスケジュールに加え、通常のリリーススケジュールの前にサービスを更新したい場合、**Fast release** チャネルを提供しています。早期のアップグレードのための **Fast release** チャネルへの登録は、本番環境以外での利用を推奨しており、サポートチケットを記録することでリクエストできます。

### Fast release チャネル（早期アップグレード）

- 最新の ClickHouse リリースを受け取る
- 新しいリリースがテストされるため、アップグレード頻度がより高い
- 現在**Production** サービスで構成可能
- 重要でない環境での新機能のテストに適しています。厳しい稼働時間と信頼性要件がある本番ワークロードには推奨されません。
  サービスのリリーススケジュールは、Cloud コンソールで変更できます。構成は、サービスの設定タブにあります。

<img src='https://github.com/ClickHouse/clickhouse-docs/assets/105667148/65020339-01b8-4601-9246-9602f8d5a075'    
  class="image"
  alt="Configure backup settings"
  style={{width: '500px', display: 'inline'}} />

<img src='https://github.com/ClickHouse/clickhouse-docs/assets/105667148/90349c4d-c7a3-47f7-9b52-8903afdd95d4'    
  class="image"
  alt="Configure backup settings"
  style={{width: '500px', display: 'inline'}} />

:::note
開発サービスは、Fast release チャネルの直後にアップグレードされます。
:::

### 通常リリースチャネル

- 本番環境に推奨
- 新しいマイナーバージョンは **Fast release** チャネルの少なくとも 2 週間後にリリースされます
- 新しいパッチバージョンは **Fast release** チャネルの少なくとも 2 日後にリリースされます
