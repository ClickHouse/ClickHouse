---
sidebar_title: クエリインサイト
slug: /ja/get-started/query-insights
description: system.query_logデータを視覚化してクエリのデバッグとパフォーマンス最適化を簡素化
keywords: [クエリインサイト, クエリログ, クエリログUI, system.query_logインサイト]
---

# クエリインサイト

**クエリインサイト**機能は、さまざまな視覚化とテーブルを通じてClickHouseの組み込みクエリログをより使いやすくします。ClickHouseの`system.query_log`テーブルは、クエリの最適化、デバッグ、クラスター全体の健康状態とパフォーマンスを監視するための重要な情報源です。

## クエリ概要

サービスを選択すると、左サイドバーの**モニタリング**ナビゲーション項目が展開され、新たに**クエリインサイト**のサブ項目が表示されます。このオプションをクリックすると、新しいクエリインサイトページが開きます：

![クエリインサイトUI概要](@site/docs/ja/cloud/images/sqlconsole/insights_overview.png)

## トップレベルメトリクス

上部の統計ボックスは、選択された期間内の基本的なトップレベルクエリメトリクスを表しています。その下には、クエリの種類（select、insert、その他）ごとに分解されたクエリボリューム、レイテンシ、エラー率を示す3つの時系列チャートがあります。レイテンシチャートは、p50、p90、およびp99レイテンシを表示するようにさらに調整できます：

![クエリインサイトUIレイテンシチャート](@site/docs/ja/cloud/images/sqlconsole/insights_latency.png)

## 最近のクエリ

トップレベルメトリクスの下には、指定された期間内にノーマライズされたクエリハッシュとユーザーでグループ化されたクエリログエントリが表示されるテーブルがあります：

![クエリインサイトUI最近のクエリテーブル](@site/docs/ja/cloud/images/sqlconsole/insights_recent.png)

最近のクエリは、利用可能なフィールドでフィルターおよびソートすることができます。また、テーブルは、テーブル、p90、およびp99レイテンシなどの追加フィールドを表示または非表示にするように構成することができます。

## クエリ詳細表示

最近のクエリテーブルからクエリを選択すると、選択されたクエリに特有のメトリクスと情報を含むフライアウトが開きます：

![クエリインサイトUIクエリ詳細表示](@site/docs/ja/cloud/images/sqlconsole/insights_drilldown.png)

このフライアウトからわかるように、この特定のクエリは過去24時間で3000回以上実行されています。**クエリ情報**タブのすべてのメトリクスは集計されたメトリクスですが、**クエリ履歴**タブを選択することで個々の実行からのメトリクスも表示できます：

<img src={require('../cloud/images/sqlconsole/insights_query_info.png').default}    
  class="image"
  alt="クエリインサイトUIクエリ情報"
  style={{width: '400px'}} />

<br />

このペインから、各クエリ実行の`設定`および`プロファイルイベント`項目を展開して、追加情報を表示できます。
