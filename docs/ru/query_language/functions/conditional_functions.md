# Условные функции

## if {#if}

Управляет условным ветвлением. В отличии от большинства систем, ClickHouse всегда считает условие `cond` и выражения `then` и `else`. Это необходимо, чтобы быстро посчитать ответ.

**Синтаксис** 

```sql
SELECT if(cond, then, else)
```

Если условие `cond` не равно нулю, то возвращается результат выражения `then`, а результат выражения `else`, если оно есть, пропускается. Если условие `cond` равно нулю или `NULL`, то результат выражения `then` пропускается и возвращается результат выражения `else`, если оно есть.

**Параметры**

- `cond` – Условие, которое может быть равно 0 или нет. Может быть [UInt8](../../data_types/int_uint.md) или `NULL`.
- `then` - Возвращается результат выражения, если условие `cond` истинно.
- `else` - Возвращается результат выражения, если условие `cond` ложно.

**Возвращаемые значения**

Функция выполняет выражения `then` или `else` и возвращает его результат, в зависимости от того, было ли условие `cond` равно нулю или нет.

**Пример**

Запрос:

```sql
SELECT if(1, plus(2, 2), plus(2, 6))
```

Ответ:

```text
┌─plus(2, 2)─┐
│          4 │
└────────────┘
```

Запрос:

```sql
SELECT if(0, plus(2, 2), plus(2, 6))
```

Ответ:

```text
┌─plus(2, 6)─┐
│          8 │
└────────────┘
```

## multiIf

Позволяет более компактно записать оператор [CASE](../operators.md#operator_case) в запросе.

```
multiIf(cond_1, then_1, cond_2, then_2...else)
```

**Параметры**

- `cond_N` — Условие, при выполнении которого функция вернёт `then_N`.
- `then_N` — Результат функции при выполнении.
- `else` — Результат функции, если ни одно из условий не выполнено.

Функция принимает `2N+1` параметров.

**Возвращаемые значения**

Функция возвращает одно из значений `then_N` или `else`, в зависимости от условий `cond_N`.

**Пример**

Рассмотрим таблицу

```text
┌─x─┬────y─┐
│ 1 │ ᴺᵁᴸᴸ │
│ 2 │    3 │
└───┴──────┘
```

Выполним запрос `SELECT multiIf(isNull(y), x, y < 3, y, NULL) FROM t_null`. Результат:

```text
┌─multiIf(isNull(y), x, less(y, 3), y, NULL)─┐
│                                          1 │
│                                       ᴺᵁᴸᴸ │
└────────────────────────────────────────────┘
```

[Оригинальная статья](https://clickhouse.yandex/docs/ru/query_language/functions/conditional_functions/) <!--hide-->
