---
sidebar_position: 1
sidebar_label: 2026
---

# 2026 Changelog

### ClickHouse release v25.12.2.54-stable (e06d8a2be22) FIXME as compared to v25.12.1.649-stable (bf4280aa19d)

#### Backward Incompatible Change
* Backported in [#93224](https://github.com/ClickHouse/ClickHouse/issues/93224): Enable advanced shared data for JSON by default. After that change downgrade to versions <25.8 will be not possible, because these versions won't be able to read new data parts with JSON column. For safe upgrades, it's recommended to set `compatibility` setting to the previous version or set MergeTree settings `dynamic_serialization_version='v2', object_serialization_version='v2'`. [#92511](https://github.com/ClickHouse/ClickHouse/pull/92511) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#93061](https://github.com/ClickHouse/ClickHouse/issues/93061): Revert "Allow INSERT into simple ALIAS columns" (Reverts ClickHouse/ClickHouse[#84154](https://github.com/ClickHouse/ClickHouse/issues/84154)). It does not work with custom formats, and does not guarded with a setting. [#92849](https://github.com/ClickHouse/ClickHouse/pull/92849) ([Azat Khuzhin](https://github.com/azat)).

#### Performance Improvement
* Backported in [#92711](https://github.com/ClickHouse/ClickHouse/issues/92711): Optimize distinctJSONPaths aggregate function so it reads only JSON paths from data parts and not the whole JSON column. [#92196](https://github.com/ClickHouse/ClickHouse/pull/92196) ([Pavel Kruglov](https://github.com/Avogar)).

#### Improvement
* Backported in [#92604](https://github.com/ClickHouse/ClickHouse/issues/92604): Add a creation (implicit/explicit) column to system.data_skipping_indices. [#92378](https://github.com/ClickHouse/ClickHouse/pull/92378) ([Raúl Marín](https://github.com/Algunenano)).
* Backported in [#93377](https://github.com/ClickHouse/ClickHouse/issues/93377): Fallback to read-write copy for Azure Blob Storage when native copy fails with BadRequest (e.g. invalid block list). Previously this was only done for Unauthorized error which was seen while copying blob to different storage accounts. But we also sometimes see "The specified block list is invalid" error. So now updated the condition to fallback to read & write for all native copy fails. [#92888](https://github.com/ClickHouse/ClickHouse/pull/92888) ([Smita Kulkarni](https://github.com/SmitaRKulkarni)).
* Backported in [#93015](https://github.com/ClickHouse/ClickHouse/issues/93015): Log background tasks that are slower than average (`background_schedule_pool_log.duration_threshold_milliseconds=30`) to avoid excessive tasks logging. [#92965](https://github.com/ClickHouse/ClickHouse/pull/92965) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#93338](https://github.com/ClickHouse/ClickHouse/issues/93338): Support geometry type for `flipCoordinates`. [#93303](https://github.com/ClickHouse/ClickHouse/pull/93303) ([Bharat Nallan](https://github.com/bharatnc)).
* Backported in [#93395](https://github.com/ClickHouse/ClickHouse/issues/93395): Improve the UX of SYSTEM INSTRUMENT ADD/REMOVE: use String literals for function names, patch all functions that match and allow using function_name in `REMOVE`. [#93345](https://github.com/ClickHouse/ClickHouse/pull/93345) ([Pablo Marcos](https://github.com/pamarcos)).

#### Bug Fix (user-visible misbehavior in an official stable release)
* Backported in [#92606](https://github.com/ClickHouse/ClickHouse/issues/92606): Fix for runtime filters working incorrectly when LEFT ANTI JOIN has extra post-condition. [#91824](https://github.com/ClickHouse/ClickHouse/pull/91824) ([Alexander Gololobov](https://github.com/davenger)).
* Backported in [#92557](https://github.com/ClickHouse/ClickHouse/issues/92557): Cache schema only for the file it was inferred from in globs instead of all files during schema inference. Closes [#91745](https://github.com/ClickHouse/ClickHouse/issues/91745). [#92006](https://github.com/ClickHouse/ClickHouse/pull/92006) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#92685](https://github.com/ClickHouse/ClickHouse/issues/92685): Release request stream in insert select to prevent closing http connection. [#92175](https://github.com/ClickHouse/ClickHouse/pull/92175) ([Sema Checherinda](https://github.com/CheSema)).
* Backported in [#92709](https://github.com/ClickHouse/ClickHouse/issues/92709): Fix `count_distinct_optimization` pass over window functions and over multiple arguments. [#92376](https://github.com/ClickHouse/ClickHouse/pull/92376) ([Raúl Marín](https://github.com/Algunenano)).
* Backported in [#92903](https://github.com/ClickHouse/ClickHouse/issues/92903): Fix possible conflict in column and subcolumn with the same name leading in using wrong serialization and query failures. Closes [#90219](https://github.com/ClickHouse/ClickHouse/issues/90219). Closes [#85161](https://github.com/ClickHouse/ClickHouse/issues/85161). [#92453](https://github.com/ClickHouse/ClickHouse/pull/92453) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#92624](https://github.com/ClickHouse/ClickHouse/issues/92624): Fix deadlock for SHOW CREATE DATABASE for Backup database. [#92541](https://github.com/ClickHouse/ClickHouse/pull/92541) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#92656](https://github.com/ClickHouse/ClickHouse/issues/92656): Prevent crash in tokens() with null second argument. [#92586](https://github.com/ClickHouse/ClickHouse/pull/92586) ([Raúl Marín](https://github.com/Algunenano)).
* Backported in [#93090](https://github.com/ClickHouse/ClickHouse/issues/93090): Creating and materializing text indexes on tables containing large parts (over 4,294,967,295 rows) is temporarily disabled. This limitation prevents incorrect query results, as the current index implementation does not yet support such large parts. [#92644](https://github.com/ClickHouse/ClickHouse/pull/92644) ([Anton Popov](https://github.com/CurtizJ)).
* Backported in [#93091](https://github.com/ClickHouse/ClickHouse/issues/93091): Remove a bug that `ngrambf_v1` indexes with ngram length (1st parameter) > 8 would throw an exception. [#92672](https://github.com/ClickHouse/ClickHouse/pull/92672) ([Robert Schulze](https://github.com/rschu1ze)).
* Backported in [#93125](https://github.com/ClickHouse/ClickHouse/issues/93125): Reworks incorrect logic in access grant checks for wildcard grants. The previous attempt https://github.com/ClickHouse/ClickHouse/pull/90928 addressed a critical vulnerability but ended up being too restrictive, resulting in some wildcard `GRANT` statements failing due to unrelated revokes. [#92725](https://github.com/ClickHouse/ClickHouse/pull/92725) ([pufit](https://github.com/pufit)).
* Backported in [#92745](https://github.com/ClickHouse/ClickHouse/issues/92745): Fix bug in data skipping logic when `not match(...)` is used in `WHERE` causing incorrect results. Closes [#92492](https://github.com/ClickHouse/ClickHouse/issues/92492). [#92726](https://github.com/ClickHouse/ClickHouse/pull/92726) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Backported in [#92773](https://github.com/ClickHouse/ClickHouse/issues/92773): Do not attempt to delete temporary directories at startup if a MergeTree table is created over a read-only disk. [#92748](https://github.com/ClickHouse/ClickHouse/pull/92748) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Backported in [#92805](https://github.com/ClickHouse/ClickHouse/issues/92805): Fix "Cannot add action to empty ExpressionActionsChain" for ALTER TABLE REWRITE PARTS (v2). [#92754](https://github.com/ClickHouse/ClickHouse/pull/92754) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#92990](https://github.com/ClickHouse/ClickHouse/issues/92990): Avoid crash due to reading from a disconnected `Connection`. [#92807](https://github.com/ClickHouse/ClickHouse/pull/92807) ([Raufs Dunamalijevs](https://github.com/rienath)).
* Backported in [#92881](https://github.com/ClickHouse/ClickHouse/issues/92881): Fix logical error ` Failed to set file processing within 100 retries` in storgae `S3Queue` in `Ordered` mode. It is now replaced with a warning. This error could happen before 25.10 version if keeper session expired, however it will still be a warning in 25.10+ versions, as it is still theoretically possible to get this error in case of high processing concurrency in `Ordered` mode. [#92814](https://github.com/ClickHouse/ClickHouse/pull/92814) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Backported in [#92855](https://github.com/ClickHouse/ClickHouse/issues/92855): Fixed calculation of uncompressed sizes of text indexes in the `system.parts` table. [#92832](https://github.com/ClickHouse/ClickHouse/pull/92832) ([Anton Popov](https://github.com/CurtizJ)).
* Backported in [#92945](https://github.com/ClickHouse/ClickHouse/issues/92945): Fixed usage of primary index in lightweight updates that have an `IN` clause with subqueries in the predicate of the `WHERE` clause. [#92838](https://github.com/ClickHouse/ClickHouse/pull/92838) ([Anton Popov](https://github.com/CurtizJ)).
* Backported in [#93223](https://github.com/ClickHouse/ClickHouse/issues/93223): Fix creating type hint for path 'skip' in JSON. Closes [#92731](https://github.com/ClickHouse/ClickHouse/issues/92731). [#92842](https://github.com/ClickHouse/ClickHouse/pull/92842) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#92964](https://github.com/ClickHouse/ClickHouse/issues/92964): Fix possible error `FILE_DOESNT_EXIST` after mutation of a sparse column with `ratio_of_defaults_for_sparse_serialization=0.0`. Closes [#92633](https://github.com/ClickHouse/ClickHouse/issues/92633). [#92860](https://github.com/ClickHouse/ClickHouse/pull/92860) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#92936](https://github.com/ClickHouse/ClickHouse/issues/92936): Fix parquet schema inference in the old parquet reader (not used by default) when a JSON column comes after a Tupe column. Fix the old parquet reader (not used by default) failing on empty tuples. [#92867](https://github.com/ClickHouse/ClickHouse/pull/92867) ([Michael Kolupaev](https://github.com/al13n321)).
* Backported in [#92969](https://github.com/ClickHouse/ClickHouse/issues/92969): Fixed several crashes during merges of text indexes in `MergeTree` tables. [#92925](https://github.com/ClickHouse/ClickHouse/pull/92925) ([Anton Popov](https://github.com/CurtizJ)).
* Backported in [#93024](https://github.com/ClickHouse/ClickHouse/issues/93024): Fix logical error during index analysis when empty array is used in `has` function. Closes [#92906](https://github.com/ClickHouse/ClickHouse/issues/92906). [#92995](https://github.com/ClickHouse/ClickHouse/pull/92995) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Backported in [#93184](https://github.com/ClickHouse/ClickHouse/issues/93184): Fix possible error FILE_DOESNT_EXIST after sparse column mutation when setting `ratio_of_defaults_for_sparse_serialization` was changed to `1.0` via alter. [#93016](https://github.com/ClickHouse/ClickHouse/pull/93016) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#93048](https://github.com/ClickHouse/ClickHouse/issues/93048): Fix bug in data skipping logic when `not materialize(...)` or `not CAST(...)` is used in WHERE causing incorrect results. Closes [#88536](https://github.com/ClickHouse/ClickHouse/issues/88536). [#93017](https://github.com/ClickHouse/ClickHouse/pull/93017) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Backported in [#93034](https://github.com/ClickHouse/ClickHouse/issues/93034): Fix possible usage of outdated parts due to TOCTOU race for shared parts. [#93022](https://github.com/ClickHouse/ClickHouse/pull/93022) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#93059](https://github.com/ClickHouse/ClickHouse/issues/93059): Fix leaving connection in a broken state after preliminary cancellation distributed queries. [#93029](https://github.com/ClickHouse/ClickHouse/pull/93029) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#93097](https://github.com/ClickHouse/ClickHouse/issues/93097): Fixed merges of text indexes built on top of the complex expressions (such as `concat(col1, col2)`). [#93073](https://github.com/ClickHouse/ClickHouse/pull/93073) ([Anton Popov](https://github.com/CurtizJ)).
* Backported in [#93257](https://github.com/ClickHouse/ClickHouse/issues/93257): Fix order by tuple in iceberg. This closes [#92977](https://github.com/ClickHouse/ClickHouse/issues/92977). [#93225](https://github.com/ClickHouse/ClickHouse/pull/93225) ([Konstantin Vedernikov](https://github.com/scanhex12)).
* Backported in [#93313](https://github.com/ClickHouse/ClickHouse/issues/93313): Remove unused columns when the projection is rebuilt during the merge. It reduces memory usage and creates fewer temporary parts. [#93233](https://github.com/ClickHouse/ClickHouse/pull/93233) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* Backported in [#93406](https://github.com/ClickHouse/ClickHouse/issues/93406): Fix unused columns removal from subqueries in the presence of a scalar correlated subquery. Before the fix column could have been removed if it was used only in the correlated subquery, and the query would fail with `NOT_FOUND_COLUMN_IN_BLOCK` error. [#93273](https://github.com/ClickHouse/ClickHouse/pull/93273) ([Dmitry Novik](https://github.com/novikd)).
* Backported in [#93425](https://github.com/ClickHouse/ClickHouse/issues/93425): Fixed rebuilding of text indexes created on top of subcolumns. [#93326](https://github.com/ClickHouse/ClickHouse/pull/93326) ([Anton Popov](https://github.com/CurtizJ)).

#### NOT FOR CHANGELOG / INSIGNIFICANT

* Backported in [#92602](https://github.com/ClickHouse/ClickHouse/issues/92602): Inline isArchSupported. [#92403](https://github.com/ClickHouse/ClickHouse/pull/92403) ([Raúl Marín](https://github.com/Algunenano)).
* Backported in [#92591](https://github.com/ClickHouse/ClickHouse/issues/92591): Fix unnecessary trailing whitespace in JSONPretty format. [#92421](https://github.com/ClickHouse/ClickHouse/pull/92421) ([Pablo Marcos](https://github.com/pamarcos)).
* Backported in [#92600](https://github.com/ClickHouse/ClickHouse/issues/92600): Disable randomization for 03761_lazy_materialization_split_expr. [#92517](https://github.com/ClickHouse/ClickHouse/pull/92517) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* Backported in [#92598](https://github.com/ClickHouse/ClickHouse/issues/92598): tests: optimize 02126_dist_desc by removing redudant SYSTEM FLUSH LOGS. [#92535](https://github.com/ClickHouse/ClickHouse/pull/92535) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#92596](https://github.com/ClickHouse/ClickHouse/issues/92596): Don't run 03735_excessive_buffer_flush in fast tests. [#92538](https://github.com/ClickHouse/ClickHouse/pull/92538) ([Raúl Marín](https://github.com/Algunenano)).
* Backported in [#92720](https://github.com/ClickHouse/ClickHouse/issues/92720): Mark task based parallel replica settings as production tier. [#92577](https://github.com/ClickHouse/ClickHouse/pull/92577) ([Igor Nikonov](https://github.com/devcrafter)).
* Fix text index crash [#90609](https://github.com/ClickHouse/ClickHouse/issues/90609). [#92694](https://github.com/ClickHouse/ClickHouse/pull/92694) ([Robert Schulze](https://github.com/rschu1ze)).
* Backported in [#92729](https://github.com/ClickHouse/ClickHouse/issues/92729): PR: mark automatic parallel replicas mode as experimental. [#92723](https://github.com/ClickHouse/ClickHouse/pull/92723) ([Igor Nikonov](https://github.com/devcrafter)).
* Backported in [#92826](https://github.com/ClickHouse/ClickHouse/issues/92826): Change log level. [#92810](https://github.com/ClickHouse/ClickHouse/pull/92810) ([Konstantin Vedernikov](https://github.com/scanhex12)).
* Backported in [#93007](https://github.com/ClickHouse/ClickHouse/issues/93007): More logs in rest catalogs. [#92993](https://github.com/ClickHouse/ClickHouse/pull/92993) ([Konstantin Vedernikov](https://github.com/scanhex12)).
* Backported in [#93153](https://github.com/ClickHouse/ClickHouse/issues/93153): tests: fix test_distributed_insert_select_to_rmt_where flakiness (due to deduplication). [#93130](https://github.com/ClickHouse/ClickHouse/pull/93130) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#93217](https://github.com/ClickHouse/ClickHouse/issues/93217): One more fix for vertical merges with text indexes. [#93140](https://github.com/ClickHouse/ClickHouse/pull/93140) ([Anton Popov](https://github.com/CurtizJ)).
* Backported in [#93437](https://github.com/ClickHouse/ClickHouse/issues/93437): Fix system instrument stateless tests. [#93420](https://github.com/ClickHouse/ClickHouse/pull/93420) ([Pablo Marcos](https://github.com/pamarcos)).

