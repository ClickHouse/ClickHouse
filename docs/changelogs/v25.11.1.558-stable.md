---
sidebar_position: 1
sidebar_label: 2025
---

# 2025 Changelog

### ClickHouse release v25.11.1.558-stable (16f22f3d744) FIXME as compared to v25.11.1.1-new (ae414ae37fc)

#### Backward Incompatible Change
* Introduce `Geometry` type. Support reading `WKB` and `WKT` formats for it. In previous versions, the `Geometry` type was aliased to `String`, but now it is a full-featured type. [#83344](https://github.com/ClickHouse/ClickHouse/pull/83344) ([scanhex12](https://github.com/scanhex12)).
* Remove deprecated Object type. [#85718](https://github.com/ClickHouse/ClickHouse/pull/85718) ([Pavel Kruglov](https://github.com/Avogar)).
* Escape filenames created for Variant type subcolumns in Wide data part of MergeTree tables. This change breaks compatibility with old tables with Variant/Dynamic/JSON data types. It fixes storing types with special symbols inside Variant (like DateTime with specific timezone that contains `\`). Escaping can be disabled by changing MergeTree setting `escape_variant_subcolumn_filenames` (to keep compatibility disable this setting in the config for MergeTree or set `compatibility` setting to the previous version before upgrade). Resolves [#69590](https://github.com/ClickHouse/ClickHouse/issues/69590). [#87300](https://github.com/ClickHouse/ClickHouse/pull/87300) ([Pavel Kruglov](https://github.com/Avogar)).
* Remove the obsolete `LIVE VIEW` feature. If you use `LIVE VIEW`, upgrading to the new version will not be possible. [#88706](https://github.com/ClickHouse/ClickHouse/pull/88706) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Support exception tagging for HTTP results response to enable clients to parse exceptions more reliably. Resolves [#75175](https://github.com/ClickHouse/ClickHouse/issues/75175). The setting `http_write_exception_in_output_format` is disabled by default for consistency across formats. [#88818](https://github.com/ClickHouse/ClickHouse/pull/88818) ([Kaviraj Kanagaraj](https://github.com/kavirajk)).
* Prohibit the creation of multiple `plain-rewritable` disks on top of the shared object storage path, as this can lead to undefined behavior during collisions of different metadata storage transactions. [#89038](https://github.com/ClickHouse/ClickHouse/pull/89038) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Enable with_size_stream serialization format for the String data type by default. This change is backward compatible, but the new serialization format is supported only since version 25.10, which means that downgrading to versions before 25.10 will not be possible. If you want to keep the possibility of downgrading to 25.9 and earlier, configure serialization_info_version as basic and string_serialization_version as single_stream in the merge_tree section of the server configuration. [#89329](https://github.com/ClickHouse/ClickHouse/pull/89329) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Fixes Kafka storage SASL settings precedence. Table-level SASL settings specified in CREATE TABLE queries now correctly override consumer/producer-specific settings from configuration files. [#89401](https://github.com/ClickHouse/ClickHouse/pull/89401) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Fix `Fatal` when compressing data with size not aligned to element size (in T64 codec). Resolves [#89282](https://github.com/ClickHouse/ClickHouse/issues/89282). [#89432](https://github.com/ClickHouse/ClickHouse/pull/89432) ([yanglongwei](https://github.com/ylw510)).

#### New Feature
* Added new SQL statement EXECUTE AS to support user impersonation. Resolves [#39048](https://github.com/ClickHouse/ClickHouse/issues/39048). [#70775](https://github.com/ClickHouse/ClickHouse/pull/70775) ([Shankar](https://github.com/shiyer7474)).
* Add `flipCoordinates` function that unwraps the required number of dimensions in an array and swaps pointers inside the Tuple column. Resolves [#79469](https://github.com/ClickHouse/ClickHouse/issues/79469). [#79634](https://github.com/ClickHouse/ClickHouse/pull/79634) ([Sachin Kumar Singh](https://github.com/sachinkumarsingh092)).
* Add `system.unicode` table, containing a list of Unicode characters and their properties. Closes [#80055](https://github.com/ClickHouse/ClickHouse/issues/80055). [#80857](https://github.com/ClickHouse/ClickHouse/pull/80857) ([wxybear](https://github.com/wxybear)).
* Support for a part of the Prometheus HTTP Query API. To enable it, add a rule with type `query_api` in the `<prometheus>` section in the configuration file. Supported handlers are `/api/v1/query_range` and `/api/v1/query`. [#86132](https://github.com/ClickHouse/ClickHouse/pull/86132) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* Enhanced `IS NOT DISTINCT FROM` (`<=>`) operator: added support for inverse `IS DISTINCT FROM`, support compatible numeric operands of different types (e.g., `Nullable(UInt32)` and `Nullable(Int64)`). [#87581](https://github.com/ClickHouse/ClickHouse/pull/87581) ([yanglongwei](https://github.com/ylw510)).
* Add a new MergeTree setting `merge_max_dynamic_subcolumns_in_wide_part` to be able to limit the number of dynamic subcolumns in the Wide part after merge regardless of the parameters specified in the data type. [#87646](https://github.com/ClickHouse/ClickHouse/pull/87646) ([Pavel Kruglov](https://github.com/Avogar)).
* Added support for the `cume_dist` window function. Fixes [#86920](https://github.com/ClickHouse/ClickHouse/issues/86920). [#88102](https://github.com/ClickHouse/ClickHouse/pull/88102) ([Manuel](https://github.com/raimannma)).
* User can now add a new argument `preprocessor` in text index construction. The argument is an arbitrary expression that transforms each document before tokenization. [#88272](https://github.com/ClickHouse/ClickHouse/pull/88272) ([Jimmy Aguilar Mena](https://github.com/Ergus)).
* Adds a `memory_usage` field to `X-ClickHouse-Progress` and `X-ClickHouse-Summary`. This can be used to collect memory usage of queries in real time on the client side. [#88393](https://github.com/ClickHouse/ClickHouse/pull/88393) ([Christoph Wurm](https://github.com/cwurm)).
* Add support for fractional `LIMIT` and `OFFSET` for selecting a fraction of a table. Closes [#81892](https://github.com/ClickHouse/ClickHouse/issues/81892). [#88755](https://github.com/ClickHouse/ClickHouse/pull/88755) ([Ahmed Gouda](https://github.com/0xgouda)).
* Add setting into_outfile_create_parent_directories to automatically create parent directories for INTO OUTFILE, preventing errors when output paths do not exist. This simplifies workflows where queries write results to nested directories. Resolves [#88610](https://github.com/ClickHouse/ClickHouse/issues/88610). [#88795](https://github.com/ClickHouse/ClickHouse/pull/88795) ([Saksham](https://github.com/Saksham10-11)).
* Microsoft OneLake catalog integration. [#89366](https://github.com/ClickHouse/ClickHouse/pull/89366) ([scanhex12](https://github.com/scanhex12)).
* Support `CREATE OR REPLACE` syntax for temporary tables. Closes [#35888](https://github.com/ClickHouse/ClickHouse/issues/35888). [#89450](https://github.com/ClickHouse/ClickHouse/pull/89450) ([Aleksandr Musorin](https://github.com/AVMusorin)).
* Support for `arrayRemove(arr, elem)` to remove all elements equal to `elem` from the array `arr`. Resolves [#52099](https://github.com/ClickHouse/ClickHouse/issues/52099). [#89585](https://github.com/ClickHouse/ClickHouse/pull/89585) ([tiwarysaurav](https://github.com/tiwarysaurav)).
* Added `send_profile_events` setting which allows clients to reduce network traffic when profile events are unused. [#89588](https://github.com/ClickHouse/ClickHouse/pull/89588) ([Kaviraj Kanagaraj](https://github.com/kavirajk)).
* Added `kafka_schema_registry_skip_bytes` setting to Kafka table engine to skip envelope header bytes (e.g., AWS Glue Schema Registry's 19-byte prefix) before parsing message payload. This enables ClickHouse to consume messages from schema registries that add metadata headers. [#89621](https://github.com/ClickHouse/ClickHouse/pull/89621) ([Taras Polishchuk](https://github.com/wake-up-neo)).
* Allow disabling background download of nearby part data on a per query basis. Fixes [#89524](https://github.com/ClickHouse/ClickHouse/issues/89524). [#89668](https://github.com/ClickHouse/ClickHouse/pull/89668) ([tanner-bruce](https://github.com/tanner-bruce)).
* Introduces `midpoint` scalar function that calculates average. Resolves [#89029](https://github.com/ClickHouse/ClickHouse/issues/89029). [#89679](https://github.com/ClickHouse/ClickHouse/pull/89679) ([simonmichal](https://github.com/simonmichal)).
* Web UI now provides a download button. It downloads the full result even if the UI displays only part of it. [#89768](https://github.com/ClickHouse/ClickHouse/pull/89768) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Add `arrow_flight_request_descriptor_type` setting to support Dremio and other Arrow Flight servers that require command-style descriptors. Fixes [#89523](https://github.com/ClickHouse/ClickHouse/issues/89523). [#89826](https://github.com/ClickHouse/ClickHouse/pull/89826) ([Shreyas Ganesh](https://github.com/shreyasganesh0)).
* You can now retrieve both the argument and its corresponding minimum or maximum value using the new `argAndMin` and `argAndMax` functions. [#89884](https://github.com/ClickHouse/ClickHouse/pull/89884) ([AbdAlRahman Gad](https://github.com/AbdAlRahmanGad)).
* Added `send_profile_events` setting which allows clients to reduce network traffic when profile events are unused. [#89972](https://github.com/ClickHouse/ClickHouse/pull/89972) ([Kaviraj Kanagaraj](https://github.com/kavirajk)).
* Experimentally support e2k (Elbrus-2000) as a new platform for ClickHouse. [#90159](https://github.com/ClickHouse/ClickHouse/pull/90159) ([Ramil Sattarov](https://github.com/r-a-sattarov)).

#### Experimental Feature
* Support TLS certificates retrieval from ACME providers, [RFC 8555](https://datatracker.ietf.org/doc/html/rfc8555). [#66315](https://github.com/ClickHouse/ClickHouse/pull/66315) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Full-text search is now in private preview (from a previously experimental stage). [#88928](https://github.com/ClickHouse/ClickHouse/pull/88928) ([Robert Schulze](https://github.com/rschu1ze)).
* Move `Alias` to experimental, can be enabled with `allow_experimental_alias_table_engine=1`. [#89712](https://github.com/ClickHouse/ClickHouse/pull/89712) ([Kai Zhu](https://github.com/nauu)).

#### Performance Improvement
* RIGHT and FULL JOINs now use ConcurrentHashJoin; that means that these types of join are now running with a higher degree of parallelism. Improves various cases for RIGHT and FULL JOINs up to 2 times. Resolves [#78027](https://github.com/ClickHouse/ClickHouse/issues/78027). [#78462](https://github.com/ClickHouse/ClickHouse/pull/78462) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* Optimization for large value in ConstantNode. Closes [#72880](https://github.com/ClickHouse/ClickHouse/issues/72880). [#81104](https://github.com/ClickHouse/ClickHouse/pull/81104) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* Up to 8x faster `SELECT` queries with heavy partition pruning on tables with 10K+ parts. [#85535](https://github.com/ClickHouse/ClickHouse/pull/85535) ([James Morrison](https://github.com/jawm)).
* Fix vsdo for aarch64 and possible other arch/kernel combinations. [#86096](https://github.com/ClickHouse/ClickHouse/pull/86096) ([Tomas Hulata](https://github.com/tombokombo)).
* When a query uses fixed hash map for aggregation state(group by a small integer), ClickHouse would merge the aggregation state in parallel to speed up the query. Resolves [#63666](https://github.com/ClickHouse/ClickHouse/issues/63666). [#87366](https://github.com/ClickHouse/ClickHouse/pull/87366) ([Jianfei Hu](https://github.com/incfly)).
* Distributed execution: better split tasks by row groups IDs, not by files. [#87508](https://github.com/ClickHouse/ClickHouse/pull/87508) ([scanhex12](https://github.com/scanhex12)).
* Improve LZ4 decompression speed by simplifying the code and tweaking the [selection algorithm](https://clickhouse.com/blog/lz4-compression-in-clickhouse#how-to-choose-the-best-algorithm). [#88360](https://github.com/ClickHouse/ClickHouse/pull/88360) ([Raúl Marín](https://github.com/Algunenano)).
* S3 partitions objects internally based on key-name prefixes and automatically scales to high request rates per partition. This change introduces two new BACKUP settings: data_file_name_generator and data_file_name_prefix_length. When data_file_name_generator=checksum, backup data files are named using a hash of their contents. Example: for a checksum = `abcd1234ef567890abcd1234ef567890` and `data_file_name_prefix_length = 3`, the resulting path will be: `abc/d1234ef567890abcd1234ef567890`. The resulting key distribution enhances load balancing across S3 partitions and reduces the risk of throttling. [#88418](https://github.com/ClickHouse/ClickHouse/pull/88418) ([Julia Kartseva](https://github.com/jkartseva)).
* Implement lazy columns replication in JOIN and ARRAY JOIN. Avoid converting special columns representation like Sparse and Replicated to full columns in some output formats. This avoids unnecessary data copy in memory. [#88752](https://github.com/ClickHouse/ClickHouse/pull/88752) ([Pavel Kruglov](https://github.com/Avogar)).
* Improved text index performance by caching dictionary blocks and using hashtables for token lookups instead of binary search. [#88786](https://github.com/ClickHouse/ClickHouse/pull/88786) ([Elmi Ahmadov](https://github.com/ahmadov)).
* Parquet reader v3 is enabled by default. [#88827](https://github.com/ClickHouse/ClickHouse/pull/88827) ([Michael Kolupaev](https://github.com/al13n321)).
* Queries can now benefit from optimize_read_in_order and query_plan_optimize_lazy_materialization simultaneously. Resolves [#88767](https://github.com/ClickHouse/ClickHouse/issues/88767). [#88866](https://github.com/ClickHouse/ClickHouse/pull/88866) ([Manuel](https://github.com/raimannma)).
* Use aggregate projection for queries with `DISTINCT`. Closes [#86925](https://github.com/ClickHouse/ClickHouse/issues/86925). [#88894](https://github.com/ClickHouse/ClickHouse/pull/88894) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Since posting lists are the largest by the data size, caching them would improve the performance in consecutive runs. [#88912](https://github.com/ClickHouse/ClickHouse/pull/88912) ([Elmi Ahmadov](https://github.com/ahmadov)).
* Run streaming LIMIT BY transform in cases when input sort order matches LIMIT BY keys. [#88969](https://github.com/ClickHouse/ClickHouse/pull/88969) ([Eduard Karacharov](https://github.com/korowa)).
* Disable ThreadFuzzer in non-server binaries by default. [#89115](https://github.com/ClickHouse/ClickHouse/pull/89115) ([Raúl Marín](https://github.com/Algunenano)).
* Allow rewriting ANY LEFT JOIN or ANY RIGHT JOIN to ALL INNER JOIN in some cases. [#89403](https://github.com/ClickHouse/ClickHouse/pull/89403) ([Dmitry Novik](https://github.com/novikd)).
* Less atomic operations per entry during async logging. [#89651](https://github.com/ClickHouse/ClickHouse/pull/89651) ([Sergei Trifonov](https://github.com/serxa)).
* When runtime filters are enabled in a query with multiple joins and multiple runtime filters are added there is a need to pushdown newly added filter steps over other BuildRuntimeFilterStep-s. [#89725](https://github.com/ClickHouse/ClickHouse/pull/89725) ([Alexander Gololobov](https://github.com/davenger)).
* Slightly speed up some countDistinct operations by reducing the overhead of HashSetTable::merge. [#89727](https://github.com/ClickHouse/ClickHouse/pull/89727) ([Raúl Marín](https://github.com/Algunenano)).
* RIGHT and FULL JOINs now use ConcurrentHashJoin; that means that these types of join are now running with a higher degree of parallelism. Improves various cases for RIGHT and FULL JOINs up to 2 times. Resolves [#78027](https://github.com/ClickHouse/ClickHouse/issues/78027). [#89737](https://github.com/ClickHouse/ClickHouse/pull/89737) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* Increase the limit for lazy materialization rows from 10 to 100. [#89772](https://github.com/ClickHouse/ClickHouse/pull/89772) ([Alexey Milovidov](https://github.com/alexey-milovidov)).

#### Improvement
* Allow FETCH PARTITION when there are broken disks in replicated merge tree tables. [#58663](https://github.com/ClickHouse/ClickHouse/pull/58663) ([Duc Canh Le](https://github.com/canhld94)).
* Add h3PolygonToCells function which can fill geometry with h3 hexagons. Resolves [#33991](https://github.com/ClickHouse/ClickHouse/issues/33991). [#66262](https://github.com/ClickHouse/ClickHouse/pull/66262) ([Zacharias Knudsen](https://github.com/zachasme)).
* Fix uncaught exception while getting MySQL table schema in MySQL database engine. [#69358](https://github.com/ClickHouse/ClickHouse/pull/69358) ([Duc Canh Le](https://github.com/canhld94)).
* All DDL `ON CLUSTER` queries now execute with the original query user context for better access validation. [#71334](https://github.com/ClickHouse/ClickHouse/pull/71334) ([pufit](https://github.com/pufit)).
* Added parallelism for ALTER TABLE ... FREEZE queries. [#71743](https://github.com/ClickHouse/ClickHouse/pull/71743) ([Kirill](https://github.com/kirillgarbar)).
* Added support for UUID in Parquet when it is represented by FixedString(16) with the logical type UUID. [#74484](https://github.com/ClickHouse/ClickHouse/pull/74484) ([alekseev-maksim](https://github.com/alekseev-maksim)).
* Add new virtual column `_tags` (`Map(String, String)`) with all the tags associated with the blob in S3 (Note, if blob does not have any tags no extra request will be done). Resolves [#72945](https://github.com/ClickHouse/ClickHouse/issues/72945). [#77773](https://github.com/ClickHouse/ClickHouse/pull/77773) ([Zicong Qu](https://github.com/zicongleoqu)).
* This PR allows using normal projections as a secondary index. When enabled, certain query predicates can be used to read from projection parts and generate bitmaps to filter rows efficiently during the PREWHERE stage. This is the third step to implement projection index, following [#80343](https://github.com/ClickHouse/ClickHouse/issues/80343). [#81021](https://github.com/ClickHouse/ClickHouse/pull/81021) ([Amos Bird](https://github.com/amosbird)).
* Use OpenSSL 3.5.4. [#81389](https://github.com/ClickHouse/ClickHouse/pull/81389) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Enable `enable_shared_storage_snapshot_in_query` by default for better consistency guarantees. There should be no downsides. [#82634](https://github.com/ClickHouse/ClickHouse/pull/82634) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* UNION should unify types with Variant if needed. Resolves [#82772](https://github.com/ClickHouse/ClickHouse/issues/82772). [#83246](https://github.com/ClickHouse/ClickHouse/pull/83246) ([Mithun p](https://github.com/mithunputhusseri)).
* Log internal queries (those executed internally by dictionaries, refreshable materialized views, etc) and add the new `is_internal` column to `system.query_log`. [#83277](https://github.com/ClickHouse/ClickHouse/pull/83277) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* Make query plan optimizations visible to the correlated subquery input subplan by postponing it's materialization. Part of [#79890](https://github.com/ClickHouse/ClickHouse/issues/79890). [#85455](https://github.com/ClickHouse/ClickHouse/pull/85455) ([Dmitry Novik](https://github.com/novikd)).
* Add cache for bcrypt authentication. [#87115](https://github.com/ClickHouse/ClickHouse/pull/87115) ([Nikolay Degterinsky](https://github.com/evillique)).
* You can see a progress bar, logs and performance statistics for `CREATE OR REPLACE TABLE` queries with `SELECT` in clickhouse-client. This query will no longer lead to timeout even if the `SELECT` is quite time consuming. Resolves [#38416](https://github.com/ClickHouse/ClickHouse/issues/38416). [#87247](https://github.com/ClickHouse/ClickHouse/pull/87247) ([Diskein](https://github.com/Diskein)).
* Support JSON and Dynamic types in hash functions. Resolves [#87734](https://github.com/ClickHouse/ClickHouse/issues/87734). [#87791](https://github.com/ClickHouse/ClickHouse/pull/87791) ([Pavel Kruglov](https://github.com/Avogar)).
* Parquet no-timezone timestamps (isAdjustedToUTC=false) are now read as DateTime64(..., 'UTC') instead of DateTime64(...). This is less incorrect as converting such UTC timestamp to string produces a representation of the correct local time. Use input_format_parquet_local_time_as_utc=0 to get the old behavior. Resolves [#87469](https://github.com/ClickHouse/ClickHouse/issues/87469). [#87872](https://github.com/ClickHouse/ClickHouse/pull/87872) ([Michael Kolupaev](https://github.com/al13n321)).
* Implement missing parts of ArrowFlight server. [#88013](https://github.com/ClickHouse/ClickHouse/pull/88013) ([Vitaly Baranov](https://github.com/vitlibar)).
* Roles defined in SQL can now be granted to users defined in `users.xml`. [#88139](https://github.com/ClickHouse/ClickHouse/pull/88139) ([c-end](https://github.com/c-end)).
* Add multiple histogram metrics for the server and the keeper to instrument the durations of the keeper request execution stages. The following metrics will be added to the server: keeper_client_queue_duration_milliseconds, keeper_client_send_duration_milliseconds, keeper_client_roundtrip_duration_milliseconds. The following metrics will be added to the keeper: keeper_server_preprocess_request_duration_milliseconds, keeper_server_process_request_duration_milliseconds, keeper_server_queue_duration_milliseconds, keeper_server_send_duration_milliseconds. [#88158](https://github.com/ClickHouse/ClickHouse/pull/88158) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* Add `input_headers` option to `EXPLAIN` query to add input headers to steps. [#88311](https://github.com/ClickHouse/ClickHouse/pull/88311) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* If a skip index used in a FINAL query is on a column that is part of the primary key, the additional step to check for primary key intersection in other parts is unnecessary and now not performed. Resolves [#85897](https://github.com/ClickHouse/ClickHouse/issues/85897). [#88368](https://github.com/ClickHouse/ClickHouse/pull/88368) ([Shankar Iyer](https://github.com/shankar-iyer)).
* Adds profile events to count the number of S3 and AzureBlobStorage requests delayed by throttlers. Fixes the inconsistency of disk-related and non-disk-related ThrottlerCount profile events. Now AzureBlobStorage HTTP DELETE requests are not throttled. [#88535](https://github.com/ClickHouse/ClickHouse/pull/88535) ([Sergei Trifonov](https://github.com/serxa)).
* Allow inserting into remote and data lake tables when `disable_insertion_and_mutation` is enabled. [#88549](https://github.com/ClickHouse/ClickHouse/pull/88549) ([Alexander Tokmakov](https://github.com/tavplubix)).
* Cache table-level statistics, add two settings: merge tree setting `refresh_statistics_interval` means the interval of refreshing statistics cache, 0 means no cache will be created. Session setting `use_statistics_cache` means whether to use table-level statistics in a query. Sometimes we want better statistics so we choose to ignore it. [#88670](https://github.com/ClickHouse/ClickHouse/pull/88670) ([Han Fei](https://github.com/hanfei1991)).
* Fixed binary deserialization of `Array` and `Map` to use the `max_binary_array_size` setting instead of `max_binary_string_size` when validating size limits. This ensures that the proper limits are applied when reading in `RowBinary` format. [#88744](https://github.com/ClickHouse/ClickHouse/pull/88744) ([Raufs Dunamalijevs](https://github.com/rienath)).
* Introduced a `LockGuardWithStopWatch` class and used it in the background pool for executing merges. In case a mutex was held for a second or some thread was struggling to get it within a second a warning message will be printed. Moved the heavy code from the destructor of `MergeMutateSelectedEntry` to `finalize()` method to avoid holding the lock in `MergeTreeBackground` executor for too long. [#88898](https://github.com/ClickHouse/ClickHouse/pull/88898) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* Allow using opt-in AWS regions for S3 automatically when the region is not specified in the endpoint. Reference: [opt-in AWS regions](https://docs.aws.amazon.com/global-infrastructure/latest/regions/aws-regions.html). [#88930](https://github.com/ClickHouse/ClickHouse/pull/88930) ([Andrey Zvonov](https://github.com/zvonand)).
* User can now cancel the query by pressing Ctrl-C when the pager is running. Resolves [#80778](https://github.com/ClickHouse/ClickHouse/issues/80778). [#88935](https://github.com/ClickHouse/ClickHouse/pull/88935) ([Grigorii Sokolik](https://github.com/GSokol)).
* Web UI will display bars in the table even when the values are negative. So it can display a double-sided bar chart with different colors of bars on the negative and positive sides. [#89016](https://github.com/ClickHouse/ClickHouse/pull/89016) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Disable shared_merge_tree_create_per_replica_metadata_nodes to reduce the amount of metadata SMT stores in Keeper. [#89036](https://github.com/ClickHouse/ClickHouse/pull/89036) ([Alexander Tokmakov](https://github.com/tavplubix)).
* Make s3Queue respect disable_insertion_and_mutation server setting. [#89048](https://github.com/ClickHouse/ClickHouse/pull/89048) ([Raúl Marín](https://github.com/Algunenano)).
* Set default s3_retry_attempts to 500 for 25.6 to make sure backups succeed when there's an S3 repartitioning and S3 responds with slow-down errors for more than 10 minutes. [#89051](https://github.com/ClickHouse/ClickHouse/pull/89051) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* The `kafka_compression_codec` and `kafka_compression_level` settings can now be used to specify the compression for Kafka producers in both Kafka engines. [#89073](https://github.com/ClickHouse/ClickHouse/pull/89073) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Add a new column statistics in system.columns, indicating the types of statistics built on this table. If a type of statistics is automatically created, it will show as (auto) in the suffix. [#89086](https://github.com/ClickHouse/ClickHouse/pull/89086) ([Han Fei](https://github.com/hanfei1991)).
* Improve error message when generic expansion is passed instead of cluster name to a -Cluster table function. [#89093](https://github.com/ClickHouse/ClickHouse/pull/89093) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* YTsaurus: allow using a replicated_table as a data source. [#89107](https://github.com/ClickHouse/ClickHouse/pull/89107) ([MikhailBurdukov](https://github.com/MikhailBurdukov)).
* Queries starting with whitespace are no longer saved to history. [#89116](https://github.com/ClickHouse/ClickHouse/pull/89116) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Support array of string as an input to the `hasAnyTokens` or `hasAllTokens` functions. [#89124](https://github.com/ClickHouse/ClickHouse/pull/89124) ([Elmi Ahmadov](https://github.com/ahmadov)).
* This patch modifies how plain-rewritable disks store their metadata in memory, resolving numerous bugs related to directory nesting and around that. [#89125](https://github.com/ClickHouse/ClickHouse/pull/89125) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Subqueries which take part inside IN expressions when querying Iceberg table will be precomputed in the right way before partition pruning analysis. [#89177](https://github.com/ClickHouse/ClickHouse/pull/89177) ([Daniil Ivanik](https://github.com/divanik)).
* The optimization enable_lazy_columns_replication is now the default, which will save memory usage in joins. [#89316](https://github.com/ClickHouse/ClickHouse/pull/89316) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Enable `create_table_empty_primary_key_by_default` by default. This is better for usability. [#89333](https://github.com/ClickHouse/ClickHouse/pull/89333) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Fix incorrect code in the Backup database engine when it can generate an invalid query with SHOW CREATE DATABASE or when querying engine_full from system.databases. Closes [#89477](https://github.com/ClickHouse/ClickHouse/issues/89477). [#89341](https://github.com/ClickHouse/ClickHouse/pull/89341) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* In previous versions, the setting `create_table_empty_primary_key_by_default` was ineffective when you didn't specify the table engine in the CREATE TABLE query. [#89342](https://github.com/ClickHouse/ClickHouse/pull/89342) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Introduce a per-table cache of `ColumnsDescription` for parts, reducing memory usage when tables contain many parts and many columns. [#89352](https://github.com/ClickHouse/ClickHouse/pull/89352) ([Azat Khuzhin](https://github.com/azat)).
* Update the version of ai-sdk-cpp to include latest models and embeddings support. [#89384](https://github.com/ClickHouse/ClickHouse/pull/89384) ([Kaushik Iska](https://github.com/iskakaushik)).
* Enable setting `allow_special_serialization_kinds_in_output_formats` by default. It will lead to less memory usage and improve query speed of output of Sparse/Replicated columns in some row output formats. [#89402](https://github.com/ClickHouse/ClickHouse/pull/89402) ([Pavel Kruglov](https://github.com/Avogar)).
* Update chdig to v25.10 ([changelog](https://github.com/azat/chdig/releases/tag/v25.10.1)). [#89452](https://github.com/ClickHouse/ClickHouse/pull/89452) ([Azat Khuzhin](https://github.com/azat)).
* Make the resizer of the query textarea in the Web UI full-width, which makes it a little bit more convenient. Also, the browser-native resizer was not available on Safari on iPad, and after this change, you can at least drag the bottom of the textarea if you know. [#89457](https://github.com/ClickHouse/ClickHouse/pull/89457) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Introduced cache for the deserialized header of the text index to reduce I/O and improve query performance. The cache can be configured via new server settings: - `text_index_header_cache_policy` - `text_index_header_cache_size` - `text_index_header_cache_max_entries` - `text_index_header_cache_size_ratio`. [#89513](https://github.com/ClickHouse/ClickHouse/pull/89513) ([Elmi Ahmadov](https://github.com/ahmadov)).
* Improved memory tracking in hash joins result generation. Previously, temporary allocations during generating join result were not properly tracked, which could lead to memory limit overruns. [#89560](https://github.com/ClickHouse/ClickHouse/pull/89560) ([Azat Khuzhin](https://github.com/azat)).
* Async log: Flush earlier and increase default queue size. [#89597](https://github.com/ClickHouse/ClickHouse/pull/89597) ([Raúl Marín](https://github.com/Algunenano)).
* Fix wrong `FilesystemCacheBytes` (and others) in `system.asynchronous_metrics`. Run `SYSTEM` queries on filesystem caches only once. Atomic view for caches that points to the same path in `system.filesystem_caches`. [#89640](https://github.com/ClickHouse/ClickHouse/pull/89640) ([Azat Khuzhin](https://github.com/azat)).
* `clickhouse-client` and `clickhouse-local` in the interactive mode will highlight identifiers in the command line that have the same name as the current one under the cursor. [#89689](https://github.com/ClickHouse/ClickHouse/pull/89689) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Clarified description of some columns in `system.view_refreshes`. [#89701](https://github.com/ClickHouse/ClickHouse/pull/89701) ([Tuan Pham Anh](https://github.com/tuanpach)).
* Cache S3 credentials interacting with STS endpoint so they can be reused for different function calls. Amount of cached credentials can be controlled with `s3_credentials_provider_max_cache_size`. [#89734](https://github.com/ClickHouse/ClickHouse/pull/89734) ([Antonio Andelic](https://github.com/antonio2368)).
* Fix runtime Filter pushdown when there are multiple Expression steps below it. [#89741](https://github.com/ClickHouse/ClickHouse/pull/89741) ([Alexander Gololobov](https://github.com/davenger)).
* If the system memory is lower than 5GB, don't mlock the executable by default. [#89751](https://github.com/ClickHouse/ClickHouse/pull/89751) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Type hints in the Web UI no longer overflow into the table header. Also corrected the tooltips display - they are no longer behind the table header. [#89753](https://github.com/ClickHouse/ClickHouse/pull/89753) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Output format-related settings now don't affect query caching. Also, the query caching will ignore the `http_response_headers` setting. This is needed to allow implementation of features such as downloading the result from the cache in the Web UI. [#89756](https://github.com/ClickHouse/ClickHouse/pull/89756) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* The HTTP interface will provide `Age` and `Expires` headers when the query result cache is used. The presence of the `Age` header tells whether the result is from the cache, while `Expires` is also set at the first write. Introduce new profile events: `QueryCacheAgeSeconds`, `QueryCacheReadRows`, `QueryCacheReadBytes`, `QueryCacheWrittenRows`, `QueryCacheWrittenBytes`. [#89759](https://github.com/ClickHouse/ClickHouse/pull/89759) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Show table properties in Web UI. Clicking on the number of rows or bytes will bring up a query from `system.tables`. Clicking on the table engine will bring up `SHOW TABLES`. [#89771](https://github.com/ClickHouse/ClickHouse/pull/89771) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Support `non_replicated_deduplication_window` for tables with a disk that does not implement writing with append. Resolves [#87281](https://github.com/ClickHouse/ClickHouse/issues/87281). [#89796](https://github.com/ClickHouse/ClickHouse/pull/89796) ([Tuan Pham Anh](https://github.com/tuanpach)).
* Added a possibility to set a list of tables to flush in command `system flush async insert queue`. [#89915](https://github.com/ClickHouse/ClickHouse/pull/89915) ([Sema Checherinda](https://github.com/CheSema)).
* Store deduplication blocks ids in system.part_logs. [#89928](https://github.com/ClickHouse/ClickHouse/pull/89928) ([Sema Checherinda](https://github.com/CheSema)).
* Update chdig to v25.11.1 - includes major improvements to logging and various other enhancements ([release notes](https://github.com/azat/chdig/releases/tag/v25.11.1)). [#89957](https://github.com/ClickHouse/ClickHouse/pull/89957) ([Azat Khuzhin](https://github.com/azat)).
* Changed default of filesystem cache setting `keep_free_space_remove_batch` from 10 to 100, because it is more optimal. [#90030](https://github.com/ClickHouse/ClickHouse/pull/90030) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Introduce the TTL drop merge type, and do not update the next delete TTL merge schedule after this kind of merges. [#90077](https://github.com/ClickHouse/ClickHouse/pull/90077) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Use lower node limit for RemoveRecursive Keeper request during S3Queue cleanup. [#90201](https://github.com/ClickHouse/ClickHouse/pull/90201) ([Antonio Andelic](https://github.com/antonio2368)).
* Backported in [#90642](https://github.com/ClickHouse/ClickHouse/issues/90642): Retry network errors when S3 library parses XML response. [#90216](https://github.com/ClickHouse/ClickHouse/pull/90216) ([Sema Checherinda](https://github.com/CheSema)).
* Backported in [#90730](https://github.com/ClickHouse/ClickHouse/issues/90730): Update warning messages when approaching guardrails limits: show current and throw values. [#90438](https://github.com/ClickHouse/ClickHouse/pull/90438) ([Nikita Fomichev](https://github.com/fm4v)).
* Backported in [#90889](https://github.com/ClickHouse/ClickHouse/issues/90889): Entries in the vector similarity index cache are now removed when table parts are dropped or replaced by newer parts. Prior to this, these would be cleared only lazily by cache eviction. [#90750](https://github.com/ClickHouse/ClickHouse/pull/90750) ([Shankar Iyer](https://github.com/shankar-iyer)).
* Resolved CVE-2025-5318 in ClickHouse's libssh. [#90807](https://github.com/ClickHouse/ClickHouse/pull/90807) ([Robert Schulze](https://github.com/rschu1ze)).

#### Bug Fix (user-visible misbehavior in an official stable release)
* Fix incorrect `rows_before_limit_at_least` when there are multiple remote shards involved in a distributed merging aggregation, or there are subqueries INs. This fixes [#63280](https://github.com/ClickHouse/ClickHouse/issues/63280). [#63511](https://github.com/ClickHouse/ClickHouse/pull/63511) ([Amos Bird](https://github.com/amosbird)).
* Fixed `0 rows in set` appearance after `INSERT INTO ... SELECT` query. Closes [#47800](https://github.com/ClickHouse/ClickHouse/issues/47800). [#79462](https://github.com/ClickHouse/ClickHouse/pull/79462) ([Engel Danila](https://github.com/aaaengel)).
* Fix `multiIf` with constant arguments and short-circuit evaluation. Closes [#72714](https://github.com/ClickHouse/ClickHouse/issues/72714). [#84546](https://github.com/ClickHouse/ClickHouse/pull/84546) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* Fix LogicalError when selecting from a table with a subquery constraint. Resolves [#84190](https://github.com/ClickHouse/ClickHouse/issues/84190). [#85575](https://github.com/ClickHouse/ClickHouse/pull/85575) ([Pervakov Grigorii](https://github.com/GrigoryPervakov)).
* Fixed a bug for special queries using a URI with question marks. [#85663](https://github.com/ClickHouse/ClickHouse/pull/85663) ([Yarik Briukhovetskyi](https://github.com/yariks5s)).
* Fixed sometimes missing columns in EXPLAIN indexes=1 output. Resolves [#86696](https://github.com/ClickHouse/ClickHouse/issues/86696). [#87083](https://github.com/ClickHouse/ClickHouse/pull/87083) ([Michael Kolupaev](https://github.com/al13n321)).
* Fix possible error Cannot add subcolumn with parallel replicas. Closes [#84888](https://github.com/ClickHouse/ClickHouse/issues/84888). [#87514](https://github.com/ClickHouse/ClickHouse/pull/87514) ([Pavel Kruglov](https://github.com/Avogar)).
* In parquet writer, emit `created_by` string in correct format, e.g. `ClickHouse version 25.10.1 (build 5b1dfb14925db8901a4e9202cd5d63c11ecfbb9f)` instead of `ClickHouse v25.9.1.1-testing`. Fix parquet reader compatibility with bad files written by old parquet-mr. [#87735](https://github.com/ClickHouse/ClickHouse/pull/87735) ([Michael Kolupaev](https://github.com/al13n321)).
* Fix phi-squared computation causing incorrect results in `cramersV`, `cramersVBiasCorrected`, `theilsU`, and `contingency`. [#87831](https://github.com/ClickHouse/ClickHouse/pull/87831) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Fix reading mixed array of Floats and Bools in JSON. Previously inserting such data led to an exception. [#88008](https://github.com/ClickHouse/ClickHouse/pull/88008) ([Pavel Kruglov](https://github.com/Avogar)).
* Using shared_ptr for QueryState in TCPHandler to detect if the state is invalid in setProgressCallback, setFileProgressCallback and setBlockMarshallingCallback. [#88201](https://github.com/ClickHouse/ClickHouse/pull/88201) ([Tuan Pham Anh](https://github.com/tuanpach)).
* Fix logical error in cross join reordering when query_plan_optimize_join_order_limit > 1, Close [#89409](https://github.com/ClickHouse/ClickHouse/issues/89409). [#88286](https://github.com/ClickHouse/ClickHouse/pull/88286) ([Vladimir Cherkasov](https://github.com/vdimir)).
* Fix [#88426](https://github.com/ClickHouse/ClickHouse/issues/88426) 1. Disallow explicit column definitions in Alias and columns are automatically load from the target table. This ensures that the alias always matches the target table's schema. 2. Proxy more methods from the IStorage. [#88552](https://github.com/ClickHouse/ClickHouse/pull/88552) ([Kai Zhu](https://github.com/nauu)).
* After recovering, a Replicated database replica might get stuck for a long time printing messages like `Failed to marked query-0004647339 as finished (finished=No node, synced=No node)`, it's fixed. [#88671](https://github.com/ClickHouse/ClickHouse/pull/88671) ([Alexander Tokmakov](https://github.com/tavplubix)).
* Fix possible "Context has expired" with new analyzer with subqueries. [#88694](https://github.com/ClickHouse/ClickHouse/pull/88694) ([Azat Khuzhin](https://github.com/azat)).
* Fixed a segmentation fault in the Parquet reader when input_format_parquet_local_file_min_bytes_for_seek is set to 0. Resolves [#78456](https://github.com/ClickHouse/ClickHouse/issues/78456). [#88784](https://github.com/ClickHouse/ClickHouse/pull/88784) ([Animesh](https://github.com/anibilthare)).
* Fix incorrect min(PK)/max(PK) result when PK is in reverse order. This fixes [#83619](https://github.com/ClickHouse/ClickHouse/issues/83619). [#88796](https://github.com/ClickHouse/ClickHouse/pull/88796) ([Amos Bird](https://github.com/amosbird)).
* Fix propagation of size restrictions by settings max_table_size_to_drop and max_partition_size_to_drop on DROP of inner tables. [#88812](https://github.com/ClickHouse/ClickHouse/pull/88812) ([Nikolay Degterinsky](https://github.com/evillique)).
* Fix `top_k` to respect the threshold parameter when called with a single argument. Closes [#88757](https://github.com/ClickHouse/ClickHouse/issues/88757). [#88867](https://github.com/ClickHouse/ClickHouse/pull/88867) ([Manuel](https://github.com/raimannma)).
* ArrowFlight endpoint sources that required an SSL connection (such as behind an AWS ALB) can now properly request a specific dataset. [#88868](https://github.com/ClickHouse/ClickHouse/pull/88868) ([alex-shchetkov](https://github.com/alex-shchetkov)).
* Fix handling of non materialized Nested(Tuple(...)) (added via ALTER). Fixes [#83133](https://github.com/ClickHouse/ClickHouse/issues/83133). [#88879](https://github.com/ClickHouse/ClickHouse/pull/88879) ([Azat Khuzhin](https://github.com/azat)).
* Fix bug in the function `reverseUTF8`. In previous versions, it mistakenly reversed the bytes of UTF-8 code points of length 4. This closes [#88913](https://github.com/ClickHouse/ClickHouse/issues/88913). [#88914](https://github.com/ClickHouse/ClickHouse/pull/88914) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Fix icebergS3Cluster protocol. Started supporting schema evolution, positional and equality deletes in iceberg cluster function. Resolves [#88287](https://github.com/ClickHouse/ClickHouse/issues/88287). [#88919](https://github.com/ClickHouse/ClickHouse/pull/88919) ([Yang Jiang](https://github.com/Ted-Jiang)).
* Disable parallel_replicas_support_projection for queries with parallel replicas over distributed tables. Closes [#88899](https://github.com/ClickHouse/ClickHouse/issues/88899). [#88922](https://github.com/ClickHouse/ClickHouse/pull/88922) ([zoomxi](https://github.com/zoomxi)).
* Propagate context on internal casts. Fixing multiple issues where cast-settings weren't propagated. Closes [#88873](https://github.com/ClickHouse/ClickHouse/issues/88873). Closes [#78025](https://github.com/ClickHouse/ClickHouse/issues/78025). [#88929](https://github.com/ClickHouse/ClickHouse/pull/88929) ([Manuel](https://github.com/raimannma)).
* Fix getting file format from globs in file() function. Resolves [#88920](https://github.com/ClickHouse/ClickHouse/issues/88920). [#88947](https://github.com/ClickHouse/ClickHouse/pull/88947) ([Vitaly Baranov](https://github.com/vitlibar)).
* Do not check access `SET DEFINER <current_user>:definer` when creating a view with SQL SECURITY DEFINER. [#88968](https://github.com/ClickHouse/ClickHouse/pull/88968) ([pufit](https://github.com/pufit)).
* Fixed `LOGICAL_ERROR` in `L2DistanceTransposed(vec1, vec2, p)` where the optimisation for partial `QBit` reading incorrectly removed `Nullable` from the return type when `p` was `Nullable`. [#88974](https://github.com/ClickHouse/ClickHouse/pull/88974) ([Raufs Dunamalijevs](https://github.com/rienath)).
* Fix crash in unknown catalog type. Resolves [#88819](https://github.com/ClickHouse/ClickHouse/issues/88819). [#88987](https://github.com/ClickHouse/ClickHouse/pull/88987) ([scanhex12](https://github.com/scanhex12)).
* This closes [#88081](https://github.com/ClickHouse/ClickHouse/issues/88081). [#88988](https://github.com/ClickHouse/ClickHouse/pull/88988) ([scanhex12](https://github.com/scanhex12)).
* Fixed performance degradation in analysis of skipping indexes. [#89004](https://github.com/ClickHouse/ClickHouse/pull/89004) ([Anton Popov](https://github.com/CurtizJ)).
* Fix ACCESS_ENTITY_NOT_FOUND error when trying to execute clusterAllReplicas from a user with a non-existing role. Resolves [#87670](https://github.com/ClickHouse/ClickHouse/issues/87670). [#89068](https://github.com/ClickHouse/ClickHouse/pull/89068) ([pufit](https://github.com/pufit)).
* Fix sparse columns processing by CHECK constraint. Closes [#88637](https://github.com/ClickHouse/ClickHouse/issues/88637). [#89076](https://github.com/ClickHouse/ClickHouse/pull/89076) ([Eduard Karacharov](https://github.com/korowa)).
* Fixed incorrect row count when filling virtual columns in MergeTreeReaderTextIndex causing a crash with LOGICAL_ERROR. [#89095](https://github.com/ClickHouse/ClickHouse/pull/89095) ([Peng Jian](https://github.com/fastio)).
* Prevent TTL merge counter leaks when exceptions occur during merge preparation. Resolves [#89019](https://github.com/ClickHouse/ClickHouse/issues/89019). [#89127](https://github.com/ClickHouse/ClickHouse/pull/89127) ([save-my-heart](https://github.com/save-my-heart)).
* Fix calculation of buffer size needed for base32/base58 encoding and decoding operations. [#89133](https://github.com/ClickHouse/ClickHouse/pull/89133) ([Antonio Andelic](https://github.com/antonio2368)).
* Fix use-after-free in Distributed due to race between shutdown and background INSERTs. Resolves [#88640](https://github.com/ClickHouse/ClickHouse/issues/88640). [#89136](https://github.com/ClickHouse/ClickHouse/pull/89136) ([Azat Khuzhin](https://github.com/azat)).
* Avoid possible data-races due to mutable exceptions while parsing Parquet. Fixes [#88385](https://github.com/ClickHouse/ClickHouse/issues/88385). [#89174](https://github.com/ClickHouse/ClickHouse/pull/89174) ([Azat Khuzhin](https://github.com/azat)).
* Refreshable materialized view: fixed rare server crash if source table was fully dropped during a refresh. [#89203](https://github.com/ClickHouse/ClickHouse/pull/89203) ([Michael Kolupaev](https://github.com/al13n321)).
* Flush buffers when sending an error in the middle of compressed stream in HTTP interface. [#89256](https://github.com/ClickHouse/ClickHouse/pull/89256) ([Alexander Tokmakov](https://github.com/tavplubix)).
* Prevent query masking rules from being incorrectly applied to DDL statements. [#89272](https://github.com/ClickHouse/ClickHouse/pull/89272) ([MikhailBurdukov](https://github.com/MikhailBurdukov)).
* Fixed incorrect row count when filling virtual columns in MergeTreeReaderTextIndex causing a crash with LOGICAL_ERROR. Reopens [#89095](https://github.com/ClickHouse/ClickHouse/issues/89095). [#89303](https://github.com/ClickHouse/ClickHouse/pull/89303) ([Jimmy Aguilar Mena](https://github.com/Ergus)).
* Fix Statistics countmin does not support estimate data type of LowCardinality(Nullable(String)) LOGICAL_ERROR. [#89343](https://github.com/ClickHouse/ClickHouse/pull/89343) ([Han Fei](https://github.com/hanfei1991)).
* Possible crash/undefined behavior in IN function where primary key column types are different from IN function right side column types. Example: SELECT string_column, int_column FROM test_table WHERE (string_column, int_column) IN (SELECT '5', 'not a number'). Appears if many rows are selected and there are rows contain not compatible types. [#89367](https://github.com/ClickHouse/ClickHouse/pull/89367) ([Ilya Golshtein](https://github.com/ilejn)).
* Fix truncating arguments of `countIf(*)`. Closes [#89372](https://github.com/ClickHouse/ClickHouse/issues/89372). [#89373](https://github.com/ClickHouse/ClickHouse/pull/89373) ([Manuel](https://github.com/raimannma)).
* Avoid losing uncompressed checksums for statistics on mutations. [#89381](https://github.com/ClickHouse/ClickHouse/pull/89381) ([Azat Khuzhin](https://github.com/azat)).
* Fix LOGICAL_ERROR in L2DistanceTransposed(vec1, vec2, p) where the optimization for partial QBit reading incorrectly removed Nullable from the return type when p was LowCardinality(Nullable(T)). Resolves [#88362](https://github.com/ClickHouse/ClickHouse/issues/88362). [#89397](https://github.com/ClickHouse/ClickHouse/pull/89397) ([Raufs Dunamalijevs](https://github.com/rienath)).
* Fix loading tables with incorrect sparse serialization for tuple itself (that is written by older ClickHouse versions). [#89405](https://github.com/ClickHouse/ClickHouse/pull/89405) ([Azat Khuzhin](https://github.com/azat)).
* Fixed incorrect merge handling of TTL-emptied parts with non-empty projections when using `deduplicate_merge_projection_mode='ignore'`. Resolves [#89430](https://github.com/ClickHouse/ClickHouse/issues/89430). [#89458](https://github.com/ClickHouse/ClickHouse/pull/89458) ([Amos Bird](https://github.com/amosbird)).
* Fix logical error in full_sorting_merge join with duplicate columns. Resolves [#86957](https://github.com/ClickHouse/ClickHouse/issues/86957). [#89495](https://github.com/ClickHouse/ClickHouse/pull/89495) ([Vladimir Cherkasov](https://github.com/vdimir)).
* Fix reading of changelogs during Keeper startup in cases a changelog was not renamed properly during rotation. [#89496](https://github.com/ClickHouse/ClickHouse/pull/89496) ([Antonio Andelic](https://github.com/antonio2368)).
* Fix incorrect JOIN results when using OR conditions with unique right table keys. Resolves [#89391](https://github.com/ClickHouse/ClickHouse/issues/89391). [#89512](https://github.com/ClickHouse/ClickHouse/pull/89512) ([Vladimir Cherkasov](https://github.com/vdimir)).
* Fix possible "Context has expired" with analyzer and PK IN (subquery) (v2). Fixes [#89433](https://github.com/ClickHouse/ClickHouse/issues/89433). [#89527](https://github.com/ClickHouse/ClickHouse/pull/89527) ([Azat Khuzhin](https://github.com/azat)).
* Fix MaterializedPostgreSQL replication for tables with configured uppercase column names. Resolves [#72363](https://github.com/ClickHouse/ClickHouse/issues/72363). [#89530](https://github.com/ClickHouse/ClickHouse/pull/89530) ([Danylo Osipchuk](https://github.com/Lenivaya)).
* Fix a crash in case if a state of an aggregate function contains a serialized value of a column of LowCardinality(String). [#89550](https://github.com/ClickHouse/ClickHouse/pull/89550) ([Pavel Kruglov](https://github.com/Avogar)).
* Fix crash when using `ARRAY JOIN` on the right side of a JOIN with `enable_lazy_columns_replication` setting enabled. [#89551](https://github.com/ClickHouse/ClickHouse/pull/89551) ([Pavel Kruglov](https://github.com/Avogar)).
* Fix logical error with query_plan_convert_join_to_in. Resolves [#89066](https://github.com/ClickHouse/ClickHouse/issues/89066). [#89554](https://github.com/ClickHouse/ClickHouse/pull/89554) ([Vladimir Cherkasov](https://github.com/vdimir)).
* Fixed exception in statistics estimator when trying to estimate conditions with mismatched column and constant types that cannot be converted. [#89596](https://github.com/ClickHouse/ClickHouse/pull/89596) ([Han Fei](https://github.com/hanfei1991)).
* Add runtime filters only for supported join algorithms i.e. hash joins. A filter can only be built when join algorithm first fully reads the right side and then reads the left side, but FullSortingMergeJoin for example reads both sides simultaneously. Fixes [#89220](https://github.com/ClickHouse/ClickHouse/issues/89220). [#89652](https://github.com/ClickHouse/ClickHouse/pull/89652) ([Alexander Gololobov](https://github.com/davenger)).
* Fix `hasAnyTokens`, `hasAllTokens` and `tokens` functions concurrent executions with the `sparseGrams` tokenizer. Resolves [#89605](https://github.com/ClickHouse/ClickHouse/issues/89605). [#89665](https://github.com/ClickHouse/ClickHouse/pull/89665) ([Elmi Ahmadov](https://github.com/ahmadov)).
* Fix logical error/crash with join runtime filter in some cases. Fixes [#89062](https://github.com/ClickHouse/ClickHouse/issues/89062). [#89666](https://github.com/ClickHouse/ClickHouse/pull/89666) ([Alexander Gololobov](https://github.com/davenger)).
* Fix possible logical error during ARRAY JOIN on Map column with enabled `enable_lazy_columns_replication`. Closes [#89705](https://github.com/ClickHouse/ClickHouse/issues/89705). [#89717](https://github.com/ClickHouse/ClickHouse/pull/89717) ([Pavel Kruglov](https://github.com/Avogar)).
* Avoid crash due to reading from remote server after disconnect in remote queries during cancellation. Resolves [#89468](https://github.com/ClickHouse/ClickHouse/issues/89468). [#89740](https://github.com/ClickHouse/ClickHouse/pull/89740) ([Azat Khuzhin](https://github.com/azat)).
* Fix race condition in projection index reading path. Resolves [#89497](https://github.com/ClickHouse/ClickHouse/issues/89497). [#89762](https://github.com/ClickHouse/ClickHouse/pull/89762) ([Peng Jian](https://github.com/fastio)).
* Fix bug in projection index reading that could cause race conditions. Resolves [#89497](https://github.com/ClickHouse/ClickHouse/issues/89497). [#89775](https://github.com/ClickHouse/ClickHouse/pull/89775) ([Amos Bird](https://github.com/amosbird)).
* Fixed Paimon table function handling for tables with no partition. Resolves [#89690](https://github.com/ClickHouse/ClickHouse/issues/89690). [#89793](https://github.com/ClickHouse/ClickHouse/pull/89793) ([JIaQi](https://github.com/JiaQiTang98)).
* Backported in [#90688](https://github.com/ClickHouse/ClickHouse/issues/90688): Fix Alias stability issues: Fix StrictnessLevel with SharedDatabaseCatalog, disallow target is also an alias, and implement additional interfaces (getSerializationHints, supportsReplication, getStoragePolicy, totalBytesUncompressed, lifetimeRows, lifetimeBytes, storesDataOnDisk, tryLockForShare, lockForShare). Resolves [#89106](https://github.com/ClickHouse/ClickHouse/issues/89106). [#89812](https://github.com/ClickHouse/ClickHouse/pull/89812) ([Kai Zhu](https://github.com/nauu)).
* Fix possible logical error during reading of paths and their subcolumns in advanced JSON shared data serialization. Closes [#89805](https://github.com/ClickHouse/ClickHouse/issues/89805). [#89819](https://github.com/ClickHouse/ClickHouse/pull/89819) ([Pavel Kruglov](https://github.com/Avogar)).
* Fix possible stack overflow in data types binary deserialization. Closes [#88710](https://github.com/ClickHouse/ClickHouse/issues/88710). [#89822](https://github.com/ClickHouse/ClickHouse/pull/89822) ([Pavel Kruglov](https://github.com/Avogar)).
* Fix logical error with empty tuple inside `IN` function. Closes [#88343](https://github.com/ClickHouse/ClickHouse/issues/88343). [#89850](https://github.com/ClickHouse/ClickHouse/pull/89850) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Remove injective functions from `GROUP BY` regardless `optimize_injective_functions_in_group_by` in old analyzer for compatibility. Resolves [#89854](https://github.com/ClickHouse/ClickHouse/issues/89854). [#89870](https://github.com/ClickHouse/ClickHouse/pull/89870) ([Raufs Dunamalijevs](https://github.com/rienath)).
* If the merge was interrupted by, for example, a memory limit, the merge mutate background executor will call `cancel` on the merge task without a lock, but, in this case, the partially created resulting part will not be removed (since it was not finished and at this stage was not visible). After that, the merge task will be destroyed, which will trigger the destruction of the resulting part. This will revert the disk transaction and cause the data to be removed from S3. At the end, this garbage cleanup was executed under the merge mutate background executor lock. [#89875](https://github.com/ClickHouse/ClickHouse/pull/89875) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Fix logical error with empty tuple inside `reverse` and `CAST` function. Closes [#89137](https://github.com/ClickHouse/ClickHouse/issues/89137). [#89908](https://github.com/ClickHouse/ClickHouse/pull/89908) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Now ClickHouse will show data lake catalog database in `SHOW DATABASES` query by default. [#89914](https://github.com/ClickHouse/ClickHouse/pull/89914) ([alesapin](https://github.com/alesapin)).
* Fix using native copy on GCS for backups. Because of incorrect client cloning, GCS native copy always failed and used less optimal approach of manual reading and writing the data. [#89923](https://github.com/ClickHouse/ClickHouse/pull/89923) ([Antonio Andelic](https://github.com/antonio2368)).
* Fix buffer size calculation for base32Encode. Calculating base32Encode for column of strings of size smaller than 5 could lead to crashes. Resolves [#89911](https://github.com/ClickHouse/ClickHouse/issues/89911). [#89929](https://github.com/ClickHouse/ClickHouse/pull/89929) ([Antonio Andelic](https://github.com/antonio2368)).
* Fix wrong escaping for `SHOW COLUMNS` and `SHOW FUNCTIONS` queries. [#89942](https://github.com/ClickHouse/ClickHouse/pull/89942) ([alesapin](https://github.com/alesapin)).
* Fix URL validation in MongoDB engine when username contains '@' character. Previously, usernames with '@' would cause an error due to improper encoding. [#89970](https://github.com/ClickHouse/ClickHouse/pull/89970) ([Kai Zhu](https://github.com/nauu)).
* Backported in [#90592](https://github.com/ClickHouse/ClickHouse/issues/90592): Fix possible crash during remote query with `ARRAY JOIN` inside `IN` and enabled `enable_lazy_columns_replication` setting. Resolves [#90361](https://github.com/ClickHouse/ClickHouse/issues/90361). [#89997](https://github.com/ClickHouse/ClickHouse/pull/89997) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#90448](https://github.com/ClickHouse/ClickHouse/issues/90448): Fix inference of bad DateTime64 values from Strings in text formats in some cases. Resolves [#89368](https://github.com/ClickHouse/ClickHouse/issues/89368). [#90013](https://github.com/ClickHouse/ClickHouse/pull/90013) ([Pavel Kruglov](https://github.com/Avogar)).
* Fix logical error caused by empty tuple column in `BSONEachRow` and `MsgPack`. Closes [#89814](https://github.com/ClickHouse/ClickHouse/issues/89814). Closes [#71536](https://github.com/ClickHouse/ClickHouse/issues/71536). [#90018](https://github.com/ClickHouse/ClickHouse/pull/90018) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Backported in [#90457](https://github.com/ClickHouse/ClickHouse/issues/90457): Do size checks when deserializing data from aggregation states and other sources. [#90031](https://github.com/ClickHouse/ClickHouse/pull/90031) ([Raúl Marín](https://github.com/Algunenano)).
* Fix possible 'Invalid number of rows in Chunk' error in JOIN with duplicate columns. Resolves [#89411](https://github.com/ClickHouse/ClickHouse/issues/89411). [#90053](https://github.com/ClickHouse/ClickHouse/pull/90053) ([Vladimir Cherkasov](https://github.com/vdimir)).
* Backported in [#90588](https://github.com/ClickHouse/ClickHouse/issues/90588): Fix possible error `Column with Array type is not represented by ColumnArray column: Replicated` during insertion with usage of `ARRAY JOIN` and enabled `enable_lazy_columns_replication` setting. [#90066](https://github.com/ClickHouse/ClickHouse/pull/90066) ([Pavel Kruglov](https://github.com/Avogar)).
* Allow files starting with dots in user_files. Closes [#89662](https://github.com/ClickHouse/ClickHouse/issues/89662). [#90079](https://github.com/ClickHouse/ClickHouse/pull/90079) ([Raúl Marín](https://github.com/Algunenano)).
* Backported in [#90647](https://github.com/ClickHouse/ClickHouse/issues/90647): Fix logical error and modulo bug in `numbers` system table when big step size is used. Closes [#83398](https://github.com/ClickHouse/ClickHouse/issues/83398). [#90123](https://github.com/ClickHouse/ClickHouse/pull/90123) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Fix integer overflow in dictionary argument parsing. Closes [#78506](https://github.com/ClickHouse/ClickHouse/issues/78506). [#90171](https://github.com/ClickHouse/ClickHouse/pull/90171) ([Raúl Marín](https://github.com/Algunenano)).
* Backported in [#90468](https://github.com/ClickHouse/ClickHouse/issues/90468): Fix hive partitioning incompatibility preventing smooth upgrade in 25.8 (fixes error `All hive partitioning columns must be present in the schema` during upgrade). [#90202](https://github.com/ClickHouse/ClickHouse/pull/90202) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Fixed possible incorrect query results after lightweight updates in `SELECT` queries with the enabled query condition cache. Fixes [#90176](https://github.com/ClickHouse/ClickHouse/issues/90176). Fixes [#90054](https://github.com/ClickHouse/ClickHouse/issues/90054). [#90204](https://github.com/ClickHouse/ClickHouse/pull/90204) ([Anton Popov](https://github.com/CurtizJ)).
* Fix crash in StorageDistributed when parsing malformed shard directory names. [#90243](https://github.com/ClickHouse/ClickHouse/pull/90243) ([Aleksandr Musorin](https://github.com/AVMusorin)).
* Handle implicit conversion from a string to an integer or a boolean in `LogicalExpressionOptimizerPass`. Resolves [#89803](https://github.com/ClickHouse/ClickHouse/issues/89803). [#90245](https://github.com/ClickHouse/ClickHouse/pull/90245) ([Elmi Ahmadov](https://github.com/ahmadov)).
* Fix incorrect formatting of certain skip indexes in the table definition, causing `METADATA_MISMATCH` and breaking creation of new replicas in the Replicated Database. [#90251](https://github.com/ClickHouse/ClickHouse/pull/90251) ([Nikolay Degterinsky](https://github.com/evillique)).
* Backported in [#90381](https://github.com/ClickHouse/ClickHouse/issues/90381): Fixes a row-count mismatch in MergeTreeReaderIndex when the part's only has fewer rows than index_granularity. Resolves [#89691](https://github.com/ClickHouse/ClickHouse/issues/89691). [#90254](https://github.com/ClickHouse/ClickHouse/pull/90254) ([Peng Jian](https://github.com/fastio)).
* Backported in [#90760](https://github.com/ClickHouse/ClickHouse/issues/90760): Fix some queries with aggregated projection optimization. [#90288](https://github.com/ClickHouse/ClickHouse/pull/90288) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Backported in [#90608](https://github.com/ClickHouse/ClickHouse/issues/90608): Fix bug in reading subcolumns from JSON in compact parts that could lead to `CANNOT_READ_ALL_DATA` error. Resolves [#90264](https://github.com/ClickHouse/ClickHouse/issues/90264). [#90302](https://github.com/ClickHouse/ClickHouse/pull/90302) ([Pavel Kruglov](https://github.com/Avogar)).
* Fix `trim`, `ltrim`, `rtrim` functions not working with two arguments. Closes [#90170](https://github.com/ClickHouse/ClickHouse/issues/90170). [#90305](https://github.com/ClickHouse/ClickHouse/pull/90305) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Backported in [#90625](https://github.com/ClickHouse/ClickHouse/issues/90625): Fix possible logical error in prewhere on non-existing JSON path with index_granularity_bytes=0. Resolves [#86924](https://github.com/ClickHouse/ClickHouse/issues/86924). [#90375](https://github.com/ClickHouse/ClickHouse/pull/90375) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#90484](https://github.com/ClickHouse/ClickHouse/issues/90484): Fixed a bug in `L2DistanceTransposed` that caused crashes when the precision argument exceeded valid range. Closes [#90401](https://github.com/ClickHouse/ClickHouse/issues/90401). [#90405](https://github.com/ClickHouse/ClickHouse/pull/90405) ([Raufs Dunamalijevs](https://github.com/rienath)).
* Backported in [#90709](https://github.com/ClickHouse/ClickHouse/issues/90709): Fixed a race condition in Hive partitioning where a static `KeyValuePairExtractor` caused data corruption or crashes during concurrent file reads. [#90474](https://github.com/ClickHouse/ClickHouse/pull/90474) ([Paresh Joshi](https://github.com/pareshjoshij)).
* Backported in [#90577](https://github.com/ClickHouse/ClickHouse/issues/90577): Fixed incorrect distance calculations in `L2DistanceTransposed` when using array reference vectors (which default to `Array(Float64))` with `QBit` columns of non-`Float64` element types (`Float32`, `BFloat16`). The function now automatically casts the reference vector to match the `QBit`'s element type. Resolves [#89976](https://github.com/ClickHouse/ClickHouse/issues/89976). [#90485](https://github.com/ClickHouse/ClickHouse/pull/90485) ([Raufs Dunamalijevs](https://github.com/rienath)).
* Backported in [#90601](https://github.com/ClickHouse/ClickHouse/issues/90601): Fix logical error caused by a rare case in `equals` function. Closes [#88142](https://github.com/ClickHouse/ClickHouse/issues/88142). [#90557](https://github.com/ClickHouse/ClickHouse/pull/90557) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Backported in [#90660](https://github.com/ClickHouse/ClickHouse/issues/90660): Fix logical error in `concatWithSeparator` function when using const non-string column. Closes [#90596](https://github.com/ClickHouse/ClickHouse/issues/90596). [#90655](https://github.com/ClickHouse/ClickHouse/pull/90655) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Backported in [#90674](https://github.com/ClickHouse/ClickHouse/issues/90674): Fix potential crash when executing mutations with subqueries and `allow_statistics_optimize=1`. Resolves [#90626](https://github.com/ClickHouse/ClickHouse/issues/90626). [#90664](https://github.com/ClickHouse/ClickHouse/pull/90664) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#90876](https://github.com/ClickHouse/ClickHouse/issues/90876): Fix named collections hidden secrets to depend on `display_secrets_in_show_and_select` and `format_display_secrets_in_show_and_select`. [#90765](https://github.com/ClickHouse/ClickHouse/pull/90765) ([Pablo Marcos](https://github.com/pamarcos)).
* Backported in [#90842](https://github.com/ClickHouse/ClickHouse/issues/90842): Disable `enable_shared_storage_snapshot_in_query` (leads to memory leaks). [#90770](https://github.com/ClickHouse/ClickHouse/pull/90770) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#90856](https://github.com/ClickHouse/ClickHouse/issues/90856): Fix possible inconsistent state of shared data and dynamic paths in JSON that could lead to logical errors and unexpected results. [#90816](https://github.com/ClickHouse/ClickHouse/pull/90816) ([Pavel Kruglov](https://github.com/Avogar)).

#### Build/Testing/Packaging Improvement
* Fix Connection refused error for running ClickHouse in Docker with initdb SQL scripts and overridden TCP port. [#88042](https://github.com/ClickHouse/ClickHouse/pull/88042) ([Grigorii Sokolik](https://github.com/GSokol)).
* Use mongo-c-driver 2.1.2 and mongo-cxx-driver 4.1.4. [#89013](https://github.com/ClickHouse/ClickHouse/pull/89013) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Remove the remaining use of `FindPackage` from CMake. Builds should not depend on the system packages. [#89380](https://github.com/ClickHouse/ClickHouse/pull/89380) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Use `llvm-project` 21.1.5. [#89533](https://github.com/ClickHouse/ClickHouse/pull/89533) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Use `fmtlib` 12.1.0. [#89534](https://github.com/ClickHouse/ClickHouse/pull/89534) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Use compiler cache in builds during CMake configuration (e.g. `protoc`). [#89613](https://github.com/ClickHouse/ClickHouse/pull/89613) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Use FreeBSD 13.4 sysroot. [#89617](https://github.com/ClickHouse/ClickHouse/pull/89617) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Reduce number of server restarts in stress tests to 5, it does make little sense spending 2 hours by restarting the server 120 times. [#89657](https://github.com/ClickHouse/ClickHouse/pull/89657) ([Alexei Fedotov](https://github.com/leshikus)).
* Use wrapper scripts for `prlimit` check instead of shell command with arguments. [#89704](https://github.com/ClickHouse/ClickHouse/pull/89704) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Bump `icu` from `release-75.1` to `release-78.1`. [#90060](https://github.com/ClickHouse/ClickHouse/pull/90060) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Bump curl from 8.15.0 to 8.17.0. [#90061](https://github.com/ClickHouse/ClickHouse/pull/90061) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Bump `libarchive` from 3.8.1 to 3.8.2. [#90062](https://github.com/ClickHouse/ClickHouse/pull/90062) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Backported in [#90563](https://github.com/ClickHouse/ClickHouse/issues/90563): Remove flaky OS_DARWIN_SDK_VERSION detection. [#90524](https://github.com/ClickHouse/ClickHouse/pull/90524) ([Raúl Marín](https://github.com/Algunenano)).

#### NO CL ENTRY

* NO CL ENTRY:  'Revert "Revert "Intern Task: Text Classification with Ngram Models""'. [#88677](https://github.com/ClickHouse/ClickHouse/pull/88677) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* NO CL ENTRY:  'Revert "Revert "Fix coalescing merge tree for tuple types""'. [#88828](https://github.com/ClickHouse/ClickHouse/pull/88828) ([scanhex12](https://github.com/scanhex12)).
* NO CL ENTRY:  'Revert "Fix assertion when serializing empty tuple to protobuf"'. [#88983](https://github.com/ClickHouse/ClickHouse/pull/88983) ([Pavel Kruglov](https://github.com/Avogar)).
* NO CL ENTRY:  'Revert "Revert "Fix assertion when serializing empty tuple to protobuf""'. [#89000](https://github.com/ClickHouse/ClickHouse/pull/89000) ([Amos Bird](https://github.com/amosbird)).
* NO CL ENTRY:  'Revert "Proper image-library overrides"'. [#89070](https://github.com/ClickHouse/ClickHouse/pull/89070) ([Raúl Marín](https://github.com/Algunenano)).
* NO CL ENTRY:  'Revert "Analyzer: ConstantNode optimization."'. [#89184](https://github.com/ClickHouse/ClickHouse/pull/89184) ([Max Kainov](https://github.com/maxknv)).
* NO CL ENTRY:  'Second attempt: Analyzer: ConstantNode optimization.'. [#89195](https://github.com/ClickHouse/ClickHouse/pull/89195) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* NO CL ENTRY:  'Revert "Fix incorrect row count when filling virtual columns in MergeTreeReaderTextIndex"'. [#89230](https://github.com/ClickHouse/ClickHouse/pull/89230) ([Robert Schulze](https://github.com/rschu1ze)).
* NO CL ENTRY:  'Revert "Set correct default in config.xml (concurrent_threads_soft_limit_ratio_to_cores=0)"'. [#89542](https://github.com/ClickHouse/ClickHouse/pull/89542) ([Raúl Marín](https://github.com/Algunenano)).
* NO CL ENTRY:  'Revert "Update query_plan_optimize_join_order_limit in settings changes"'. [#89581](https://github.com/ClickHouse/ClickHouse/pull/89581) ([Vladimir Cherkasov](https://github.com/vdimir)).
* NO CL ENTRY:  'Revert "Use `ConcurrentHashJoin` algorithm for `RIGHT` and `FULL` JOINs"'. [#89719](https://github.com/ClickHouse/ClickHouse/pull/89719) ([Alexander Tokmakov](https://github.com/tavplubix)).
* NO CL ENTRY:  'Revert "Fix ALTER DATABASE COMMENT/RENAME DATABASE"'. [#89763](https://github.com/ClickHouse/ClickHouse/pull/89763) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* NO CL ENTRY:  'Revert "Support `send_profile_events` settings to reduce network flow"'. [#89792](https://github.com/ClickHouse/ClickHouse/pull/89792) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* NO CL ENTRY:  'Revert "Fix ports conflicts for ytsaurus integration tests v2 "'. [#89919](https://github.com/ClickHouse/ClickHouse/pull/89919) ([Nikita Taranov](https://github.com/nickitat)).
* NO CL ENTRY:  'Revert "Add memory usage to HTTP progress and summary headers"'. [#90136](https://github.com/ClickHouse/ClickHouse/pull/90136) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* NO CL ENTRY:  'Revert "Fix analyzer: fix miltiIf short circuit with constant arguments"'. [#90167](https://github.com/ClickHouse/ClickHouse/pull/90167) ([Alexander Tokmakov](https://github.com/tavplubix)).
* NO CL ENTRY:  'Revert "Resolve CVE-2025-5318"'. [#90862](https://github.com/ClickHouse/ClickHouse/pull/90862) ([Robert Schulze](https://github.com/rschu1ze)).
* NO CL ENTRY:  'Revert "Backport [#90750](https://github.com/ClickHouse/ClickHouse/issues/90750) to 25.11: Eagerly free vector similarity index cache entries when parts are dropped"'. [#90898](https://github.com/ClickHouse/ClickHouse/pull/90898) ([Alexander Tokmakov](https://github.com/tavplubix)).

#### NOT FOR CHANGELOG / INSIGNIFICANT

* Reuse MemoryAccessStorage in DiskAccessStorage. [#74642](https://github.com/ClickHouse/ClickHouse/pull/74642) ([Kirill](https://github.com/kirillgarbar)).
* Fix assertion when serializing empty tuple to protobuf by simply remove the assertion. This fixes [#74214](https://github.com/ClickHouse/ClickHouse/issues/74214). This only happens in DEBUG ASAN build. [#74895](https://github.com/ClickHouse/ClickHouse/pull/74895) ([Amos Bird](https://github.com/amosbird)).
* Settings to write and verify parquet checksums. [#79012](https://github.com/ClickHouse/ClickHouse/pull/79012) ([Michael Kolupaev](https://github.com/al13n321)).
* Updated BuzzHouse CI job script. [#83888](https://github.com/ClickHouse/ClickHouse/pull/83888) ([Pedro Ferreira](https://github.com/PedroTadim)).
* Fixed the credentials leakage detection in integration tests in CI. It now works in a pretty simple way: all the passwords for external systems should have a form `ClickHouse_X_P@s$w0rd` and ClickHouse will crash with a logical error if a substring like this was printed in logs utilizing the feature called "Query Masking Rules". [#85893](https://github.com/ClickHouse/ClickHouse/pull/85893) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* Set correct default in config.xml (concurrent_threads_soft_limit_ratio_to_cores=0). [#86516](https://github.com/ClickHouse/ClickHouse/pull/86516) ([Aleksei Shadrunov](https://github.com/shadrunov)).
* Add more tests for clickhouse-disks with plain_rewritable. [#86780](https://github.com/ClickHouse/ClickHouse/pull/86780) ([thraeka](https://github.com/thraeka)).
* CI: Copilot pr body formatter. [#88161](https://github.com/ClickHouse/ClickHouse/pull/88161) ([Max Kainov](https://github.com/maxknv)).
* Fix query slot release logic. [#88261](https://github.com/ClickHouse/ClickHouse/pull/88261) ([Sergei Trifonov](https://github.com/serxa)).
* Add debug queries to 03212_variant_dynamic_cast_or_default. [#88269](https://github.com/ClickHouse/ClickHouse/pull/88269) ([Mohammad Lareb Zafar](https://github.com/zlareb1)).
* Backporting function firstNonDefault. [#88441](https://github.com/ClickHouse/ClickHouse/pull/88441) ([Vladimir Cherkasov](https://github.com/vdimir)).
* For MergeTree tables using object storage which do not support writing with append, it will not support transactions. Closes [#84669](https://github.com/ClickHouse/ClickHouse/issues/84669). [#88490](https://github.com/ClickHouse/ClickHouse/pull/88490) ([Tuan Pham Anh](https://github.com/tuanpach)).
* Fix explain indexes with use_skip_indexes_on_data_read + use_query_condition_cache. [#88504](https://github.com/ClickHouse/ClickHouse/pull/88504) ([Shankar Iyer](https://github.com/shankar-iyer)).
* WIP: add debug logs to 03373_named_session_try_recreate_before_timeout. [#88521](https://github.com/ClickHouse/ClickHouse/pull/88521) ([Mohammad Lareb Zafar](https://github.com/zlareb1)).
* CI: Integration tests: support setting number of parallel workers for local run. [#88554](https://github.com/ClickHouse/ClickHouse/pull/88554) ([Bharat Nallan](https://github.com/bharatnc)).
* Use `contrib/update_submodules.sh` in CI. [#88575](https://github.com/ClickHouse/ClickHouse/pull/88575) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Better validation on text index creation. [#88612](https://github.com/ClickHouse/ClickHouse/pull/88612) ([Anton Popov](https://github.com/CurtizJ)).
* Fix ALTER DATABASE COMMENT/RENAME DATABASE. [#88708](https://github.com/ClickHouse/ClickHouse/pull/88708) ([Kirill Nikiforov](https://github.com/allmazz)).
* CI: Add job.check_run_id to cidb. [#88745](https://github.com/ClickHouse/ClickHouse/pull/88745) ([Alexei Fedotov](https://github.com/leshikus)).
* Add null check for elem->column. [#88804](https://github.com/ClickHouse/ClickHouse/pull/88804) ([yanglongwei](https://github.com/ylw510)).
* add lock in commit part. [#88806](https://github.com/ClickHouse/ClickHouse/pull/88806) ([Sariel](https://github.com/sarielwxm)).
* When scheduling tasks for materialized views, create a new query context to discard any cached state attached to current context. This is for [#82634](https://github.com/ClickHouse/ClickHouse/issues/82634). This PR also randomizes `enable_shared_storage_snapshot_in_query`. [#88810](https://github.com/ClickHouse/ClickHouse/pull/88810) ([Amos Bird](https://github.com/amosbird)).
* Some cosmetics in text index and text index functions. [#88851](https://github.com/ClickHouse/ClickHouse/pull/88851) ([Robert Schulze](https://github.com/rschu1ze)).
* Do not throw on DatabaseLazy::tryGetTable if the table does not exist. [#88858](https://github.com/ClickHouse/ClickHouse/pull/88858) ([Raúl Marín](https://github.com/Algunenano)).
* Unit tests are in the critical path of the CI, and this one is the slowest. We do not need to run it with the slow sanitizer's. [#88862](https://github.com/ClickHouse/ClickHouse/pull/88862) ([Raúl Marín](https://github.com/Algunenano)).
* fix 03658_joined_block_split_single_row_bytes. [#88871](https://github.com/ClickHouse/ClickHouse/pull/88871) ([Vladimir Cherkasov](https://github.com/vdimir)).
* CI: update job_configs.py to run docs check on changes to functions docs. [#88872](https://github.com/ClickHouse/ClickHouse/pull/88872) ([Shaun Struwig](https://github.com/Blargian)).
* Update version after release. [#88880](https://github.com/ClickHouse/ClickHouse/pull/88880) ([robot-clickhouse](https://github.com/robot-clickhouse)).
* Proper image-library overrides. [#88882](https://github.com/ClickHouse/ClickHouse/pull/88882) ([Grigorii Sokolik](https://github.com/GSokol)).
* Fix bad test `03457_query_cache_log_comment`. [#88915](https://github.com/ClickHouse/ClickHouse/pull/88915) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Update version_date.tsv and changelog after v25.9.4.58-stable. [#88921](https://github.com/ClickHouse/ClickHouse/pull/88921) ([robot-clickhouse](https://github.com/robot-clickhouse)).
* Fix: disable PR for queries with correlated subqueries. [#88923](https://github.com/ClickHouse/ClickHouse/pull/88923) ([Igor Nikonov](https://github.com/devcrafter)).
* Update example docs for FTS. [#88926](https://github.com/ClickHouse/ClickHouse/pull/88926) ([Nikita Fomichev](https://github.com/fm4v)).
* CI: Fix clickhouse-server:head push from master. [#88946](https://github.com/ClickHouse/ClickHouse/pull/88946) ([Max Kainov](https://github.com/maxknv)).
* Fix spelling if setting `s3queue_keeper_fault_injection_probability`. [#88965](https://github.com/ClickHouse/ClickHouse/pull/88965) ([Nikita Fomichev](https://github.com/fm4v)).
* Next fuzzers update. [#88967](https://github.com/ClickHouse/ClickHouse/pull/88967) ([Pedro Ferreira](https://github.com/PedroTadim)).
* *: avoid use of unqualified pow(). [#88970](https://github.com/ClickHouse/ClickHouse/pull/88970) ([Joshua Carp](https://github.com/jmcarp)).
* Don't write extra metadata json file on update. [#88992](https://github.com/ClickHouse/ClickHouse/pull/88992) ([scanhex12](https://github.com/scanhex12)).
* Now, log_comment for test queries starts with f, like `f02989_replicated_merge_tree_invalid_metadata_version.sql-test_kq50vskn`, should be just the name of the test + database. This can break CI history analysis. [#88994](https://github.com/ClickHouse/ClickHouse/pull/88994) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Don't use metadata cache in iceberg history table. [#89003](https://github.com/ClickHouse/ClickHouse/pull/89003) ([scanhex12](https://github.com/scanhex12)).
* Issue-88496: fix limit not pushed down. [#89011](https://github.com/ClickHouse/ClickHouse/pull/89011) ([Nils Sperling](https://github.com/NilSper)).
* This is for https://github.com/ClickHouse/ClickHouse/pull/82634. [#89014](https://github.com/ClickHouse/ClickHouse/pull/89014) ([Amos Bird](https://github.com/amosbird)).
* Replace SchedulePool with a separate thread. [#89040](https://github.com/ClickHouse/ClickHouse/pull/89040) ([Daniil Ivanik](https://github.com/divanik)).
* Now ClickHouse checks for SHOW TABLES table access when running queries like CREATE TABLE table_new AS table. [#89052](https://github.com/ClickHouse/ClickHouse/pull/89052) ([pufit](https://github.com/pufit)).
* Update version_date.tsv and changelog after v25.8.11.66-lts. [#89061](https://github.com/ClickHouse/ClickHouse/pull/89061) ([robot-clickhouse](https://github.com/robot-clickhouse)).
* CI libFuzzer: new strategy for fuzzing with corpus minimization. [#89063](https://github.com/ClickHouse/ClickHouse/pull/89063) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* Remove multitarget build for startWith/endsWith functions. [#89064](https://github.com/ClickHouse/ClickHouse/pull/89064) ([Raúl Marín](https://github.com/Algunenano)).
* Remove wrong `long` tag from a test. [#89065](https://github.com/ClickHouse/ClickHouse/pull/89065) ([pufit](https://github.com/pufit)).
* Disable the new parquet reader in the CI. [#89067](https://github.com/ClickHouse/ClickHouse/pull/89067) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* Avoid unnecessary work during background cleanup of data parts. [#89071](https://github.com/ClickHouse/ClickHouse/pull/89071) ([Anton Popov](https://github.com/CurtizJ)).
* Follow-up for [#88930](https://github.com/ClickHouse/ClickHouse/issues/88930). [#89074](https://github.com/ClickHouse/ClickHouse/pull/89074) ([Andrey Zvonov](https://github.com/zvonand)).
* Refactor text index code a bit. [#89088](https://github.com/ClickHouse/ClickHouse/pull/89088) ([Jimmy Aguilar Mena](https://github.com/Ergus)).
* remove try/catch from `~PooledConnection`. [#89090](https://github.com/ClickHouse/ClickHouse/pull/89090) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* Fix ports conflicts for ytsaurus integration tests. [#89096](https://github.com/ClickHouse/ClickHouse/pull/89096) ([MikhailBurdukov](https://github.com/MikhailBurdukov)).
* Backported in [#90383](https://github.com/ClickHouse/ClickHouse/issues/90383): CI: Fix clickhouse version tweak calculation for the fork with sync. [#89098](https://github.com/ClickHouse/ClickHouse/pull/89098) ([Max Kainov](https://github.com/maxknv)).
* Update delta-kernel-rs to latest main. [#89099](https://github.com/ClickHouse/ClickHouse/pull/89099) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Simplify MergeTreeIndexConditionText. [#89100](https://github.com/ClickHouse/ClickHouse/pull/89100) ([Jimmy Aguilar Mena](https://github.com/Ergus)).
* Fix name conflict between definitions of `Tokens`. [#89103](https://github.com/ClickHouse/ClickHouse/pull/89103) ([Jimmy Aguilar Mena](https://github.com/Ergus)).
* CI: Fix html report. [#89118](https://github.com/ClickHouse/ClickHouse/pull/89118) ([Max Kainov](https://github.com/maxknv)).
* Bump pip from 25.2 to 25.3 in /ci/docker/libfuzzer. [#89119](https://github.com/ClickHouse/ClickHouse/pull/89119) ([dependabot[bot]](https://github.com/apps/dependabot)).
* Fixed typo in CHANGELOG for query plan setting. [#89122](https://github.com/ClickHouse/ClickHouse/pull/89122) ([Todd Dawson](https://github.com/todd-dawson)).
* Remove extremely verbose log. [#89130](https://github.com/ClickHouse/ClickHouse/pull/89130) ([Raúl Marín](https://github.com/Algunenano)).
* tests: fix 01848_http_insert_segfault flakiness (due to Expect 100 Continue). [#89131](https://github.com/ClickHouse/ClickHouse/pull/89131) ([Azat Khuzhin](https://github.com/azat)).
* CI: Improve flaky test issues matching. [#89138](https://github.com/ClickHouse/ClickHouse/pull/89138) ([Max Kainov](https://github.com/maxknv)).
* Fix potential heap-use-after-free in projections analysis after [#72102](https://github.com/ClickHouse/ClickHouse/issues/72102). [#89139](https://github.com/ClickHouse/ClickHouse/pull/89139) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* CI: Use coverage dataset in functional tests job. [#89175](https://github.com/ClickHouse/ClickHouse/pull/89175) ([Max Kainov](https://github.com/maxknv)).
* Fix refresh of Bearer token for GCS. [#89183](https://github.com/ClickHouse/ClickHouse/pull/89183) ([Antonio Andelic](https://github.com/antonio2368)).
* Fix Slack alerts for broken cherry_pick.py, fix broken cherry_pick.py for the PRs from forks. [#89185](https://github.com/ClickHouse/ClickHouse/pull/89185) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* Remove an old tool. [#89186](https://github.com/ClickHouse/ClickHouse/pull/89186) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Fix `~` expansion in client's history file override. [#89188](https://github.com/ClickHouse/ClickHouse/pull/89188) ([Azat Khuzhin](https://github.com/azat)).
* Randomize storage policy for stress tests. [#89190](https://github.com/ClickHouse/ClickHouse/pull/89190) ([Kseniia Sumarokova](https://github.com/kssenii)).
* CI: Add TSAN build for ARM. [#89191](https://github.com/ClickHouse/ClickHouse/pull/89191) ([Alexei Fedotov](https://github.com/leshikus)).
* Reapply docker library tests. [#89192](https://github.com/ClickHouse/ClickHouse/pull/89192) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* Fix submodules. [#89193](https://github.com/ClickHouse/ClickHouse/pull/89193) ([Azat Khuzhin](https://github.com/azat)).
* CI: Change secret name for copilot. [#89194](https://github.com/ClickHouse/ClickHouse/pull/89194) ([Max Kainov](https://github.com/maxknv)).
* Fix ports conflicts for ytsaurus integration tests v2. [#89207](https://github.com/ClickHouse/ClickHouse/pull/89207) ([MikhailBurdukov](https://github.com/MikhailBurdukov)).
* Fix old values for some settings in SettingsChangesHistory. [#89217](https://github.com/ClickHouse/ClickHouse/pull/89217) ([Pavel Kruglov](https://github.com/Avogar)).
* Update version_date.tsv and changelog after v25.9.5.21-stable. [#89218](https://github.com/ClickHouse/ClickHouse/pull/89218) ([robot-clickhouse](https://github.com/robot-clickhouse)).
* Update version_date.tsv and changelog after v25.3.8.23-lts. [#89221](https://github.com/ClickHouse/ClickHouse/pull/89221) ([robot-clickhouse](https://github.com/robot-clickhouse)).
* Fix settings changes history. [#89224](https://github.com/ClickHouse/ClickHouse/pull/89224) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Rename default string serialization version to 'single_stream'. [#89231](https://github.com/ClickHouse/ClickHouse/pull/89231) ([Pavel Kruglov](https://github.com/Avogar)).
* Fix import order for FileLock in cluster.py. [#89248](https://github.com/ClickHouse/ClickHouse/pull/89248) ([Alexander Tokmakov](https://github.com/tavplubix)).
* Fix flaky test `03232_resource_create_and_drop`. [#89250](https://github.com/ClickHouse/ClickHouse/pull/89250) ([Sergei Trifonov](https://github.com/serxa)).
* 03570_limit_by_all.sql: add extended coverage for LIMIT BY and LIMIT BY ALL semantics. [#89255](https://github.com/ClickHouse/ClickHouse/pull/89255) ([Mohammad Lareb Zafar](https://github.com/zlareb1)).
* Bump pip from 25.0.1 to 25.3 in /ci/docker/performance-comparison. [#89257](https://github.com/ClickHouse/ClickHouse/pull/89257) ([dependabot[bot]](https://github.com/apps/dependabot)).
* Only change S3Queue metadata in Keeper on the initial replica. [#89259](https://github.com/ClickHouse/ClickHouse/pull/89259) ([Nikolay Degterinsky](https://github.com/evillique)).
* Use `alter_sync=2` in 00988 instead of `SYNC REPLICA`. [#89276](https://github.com/ClickHouse/ClickHouse/pull/89276) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Fuzzers update. [#89281](https://github.com/ClickHouse/ClickHouse/pull/89281) ([Pedro Ferreira](https://github.com/PedroTadim)).
* Add ability to bypass storage metadata cache. [#89283](https://github.com/ClickHouse/ClickHouse/pull/89283) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Logically separate ObjectInfo and RelativePathWithMetadata in StorageObjectStorage. [#89285](https://github.com/ClickHouse/ClickHouse/pull/89285) ([Daniil Ivanik](https://github.com/divanik)).
* Remove nonexistent feature from the changelog. [#89290](https://github.com/ClickHouse/ClickHouse/pull/89290) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Improve `explain` description for prelimit step. [#89302](https://github.com/ClickHouse/ClickHouse/pull/89302) ([Ahmed Gouda](https://github.com/0xgouda)).
* Don't allow queries with INTO OUTFILE on server side. [#89309](https://github.com/ClickHouse/ClickHouse/pull/89309) ([Pavel Kruglov](https://github.com/Avogar)).
* Better docs for some merge tree settings. [#89330](https://github.com/ClickHouse/ClickHouse/pull/89330) ([Pavel Kruglov](https://github.com/Avogar)).
* Fix something strange. [#89339](https://github.com/ClickHouse/ClickHouse/pull/89339) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Since 25.11, the Azure Blob Storage client uses the new implementation unconditionally. [#89344](https://github.com/ClickHouse/ClickHouse/pull/89344) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Update version_date.tsv and changelog after v25.10.1.3832-stable. [#89353](https://github.com/ClickHouse/ClickHouse/pull/89353) ([robot-clickhouse](https://github.com/robot-clickhouse)).
* Fixes absolute address to symbol conversion in findSymbol (coverage use case). [#89362](https://github.com/ClickHouse/ClickHouse/pull/89362) ([Max Kainov](https://github.com/maxknv)).
* ci: skip debug-symbol tests when debug symbols are missing. [#89364](https://github.com/ClickHouse/ClickHouse/pull/89364) ([Azat Khuzhin](https://github.com/azat)).
* Fix function naiveBayesClassifier version and add performance tests. [#89369](https://github.com/ClickHouse/ClickHouse/pull/89369) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Add uuid column into system.replicas. [#89370](https://github.com/ClickHouse/ClickHouse/pull/89370) ([Azat Khuzhin](https://github.com/azat)).
* More tests for ALTER TABLE REWRITE PARTS. [#89382](https://github.com/ClickHouse/ClickHouse/pull/89382) ([Azat Khuzhin](https://github.com/azat)).
* tests: fix 00900_long_parquet_load_2. [#89383](https://github.com/ClickHouse/ClickHouse/pull/89383) ([Azat Khuzhin](https://github.com/azat)).
* tests: fix 03706_statistics_preserve_checksums_on_mutations flakiness. [#89388](https://github.com/ClickHouse/ClickHouse/pull/89388) ([Azat Khuzhin](https://github.com/azat)).
* CI: Build script should not overwrite job timer set by praktika. [#89390](https://github.com/ClickHouse/ClickHouse/pull/89390) ([Max Kainov](https://github.com/maxknv)).
* Fix multiple dataraces in Context. [#89394](https://github.com/ClickHouse/ClickHouse/pull/89394) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Revert "Do not perform PrimaryKeyExpand step if skip index is already part of primary key". [#89395](https://github.com/ClickHouse/ClickHouse/pull/89395) ([Shankar Iyer](https://github.com/shankar-iyer)).
* fix typo in Settings.cpp. [#89399](https://github.com/ClickHouse/ClickHouse/pull/89399) ([Lin Zhong](https://github.com/linzhongcathy)).
* CI: Improve AI changelog entry prompt. [#89404](https://github.com/ClickHouse/ClickHouse/pull/89404) ([Max Kainov](https://github.com/maxknv)).
* Make `SYSTEM FLUSH LOGS` query wait for table creation even when the logs are empty. [#89408](https://github.com/ClickHouse/ClickHouse/pull/89408) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Add integration and stateless tests for Statistics Cache. [#89427](https://github.com/ClickHouse/ClickHouse/pull/89427) ([Mohammad Lareb Zafar](https://github.com/zlareb1)).
* CI: Docker server local run fix. [#89431](https://github.com/ClickHouse/ClickHouse/pull/89431) ([Max Kainov](https://github.com/maxknv)).
* remove test_keeper_histogram_metrics. [#89447](https://github.com/ClickHouse/ClickHouse/pull/89447) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* CI: Reduce aws ssm querying in perf tests. [#89455](https://github.com/ClickHouse/ClickHouse/pull/89455) ([Max Kainov](https://github.com/maxknv)).
* CI: Set gtest job status to Error on unclear exit status. [#89456](https://github.com/ClickHouse/ClickHouse/pull/89456) ([Max Kainov](https://github.com/maxknv)).
* Reflect primary_index_cache_size/vector_similarity_index_cache_size changes in system.server_settings. [#89469](https://github.com/ClickHouse/ClickHouse/pull/89469) ([Azat Khuzhin](https://github.com/azat)).
* ci: create tables with use_const_adaptive_granularity=1 on ci-logs. [#89470](https://github.com/ClickHouse/ClickHouse/pull/89470) ([Azat Khuzhin](https://github.com/azat)).
* Remove unused curl extension. [#89474](https://github.com/ClickHouse/ClickHouse/pull/89474) ([San Tran](https://github.com/santrancisco)).
* Add `thread_name` column to `system.trace_log` table. [#89475](https://github.com/ClickHouse/ClickHouse/pull/89475) ([Sema Checherinda](https://github.com/CheSema)).
* Fix documentation for bar() function (min/max can be non-const). [#89478](https://github.com/ClickHouse/ClickHouse/pull/89478) ([Azat Khuzhin](https://github.com/azat)).
* tests: fix 02881_system_detached_parts_modification_time flakiness. [#89488](https://github.com/ClickHouse/ClickHouse/pull/89488) ([Azat Khuzhin](https://github.com/azat)).
* Fix `cherry_pick.py` by adding `update:>last_90_days`. [#89498](https://github.com/ClickHouse/ClickHouse/pull/89498) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* CI: Removes duplicate rm/mkdir in yaml generator. [#89510](https://github.com/ClickHouse/ClickHouse/pull/89510) ([Alexei Fedotov](https://github.com/leshikus)).
* `clang-21-tidy`: fix `readability-container-contains`. [#89531](https://github.com/ClickHouse/ClickHouse/pull/89531) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Resolve `clang-21-tidy` warnings. [#89532](https://github.com/ClickHouse/ClickHouse/pull/89532) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Randomize enable_lazy_columns_replication and allow_special_serialization_kinds_in_output_formats in clickhouse-test; enable latter by default in integration tests. [#89538](https://github.com/ClickHouse/ClickHouse/pull/89538) ([Mohammad Lareb Zafar](https://github.com/zlareb1)).
* CI: Add runner clean up in install check job. [#89541](https://github.com/ClickHouse/ClickHouse/pull/89541) ([Max Kainov](https://github.com/maxknv)).
* Plain rewritable disks do not allow the removal of arbitrary directories by design, so removing the `store/` folder is not supported and will not be. [#89546](https://github.com/ClickHouse/ClickHouse/pull/89546) ([Mikhail Artemenko](https://github.com/Michicosun)).
* CI: Update PR formatting assistant configuration. [#89552](https://github.com/ClickHouse/ClickHouse/pull/89552) ([Max Kainov](https://github.com/maxknv)).
* Added test for [#71031](https://github.com/ClickHouse/ClickHouse/issues/71031). [#89556](https://github.com/ClickHouse/ClickHouse/pull/89556) ([Pedro Ferreira](https://github.com/PedroTadim)).
* Fix flaky `test_scheduler_cpu_preemptive/test.py::test_downscaling[cpu-slot-preemption-timeout-1ms]`. [#89559](https://github.com/ClickHouse/ClickHouse/pull/89559) ([Sergei Trifonov](https://github.com/serxa)).
* Fix flaky `03606_nullable_json_group_by`. [#89561](https://github.com/ClickHouse/ClickHouse/pull/89561) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Update README.md. [#89586](https://github.com/ClickHouse/ClickHouse/pull/89586) ([Tyler Hannan](https://github.com/tylerhannan)).
* Increase number of performance batches to 6. [#89598](https://github.com/ClickHouse/ClickHouse/pull/89598) ([Alexei Fedotov](https://github.com/leshikus)).
* Adding correct memory usage for MergeTreeIndexGranuleTextWritable class. [#89610](https://github.com/ClickHouse/ClickHouse/pull/89610) ([George Larionov](https://github.com/george-larionov)).
* Move partition commands check out of the disks. [#89618](https://github.com/ClickHouse/ClickHouse/pull/89618) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Install fatal handler in clickhouse-disks. [#89635](https://github.com/ClickHouse/ClickHouse/pull/89635) ([Azat Khuzhin](https://github.com/azat)).
* Before https://github.com/ClickHouse/ClickHouse/pull/80393, projections were not moved to the resulting directory during part commit. Let's skip these parts during the old parts cleanup. [#89641](https://github.com/ClickHouse/ClickHouse/pull/89641) ([Mikhail Artemenko](https://github.com/Michicosun)).
* ci: disable any caches for ci_logs_sender (avoid poluting caches on ci-logs). [#89642](https://github.com/ClickHouse/ClickHouse/pull/89642) ([Azat Khuzhin](https://github.com/azat)).
* CI: Add stateless tests to release branches workflow. [#89645](https://github.com/ClickHouse/ClickHouse/pull/89645) ([Max Kainov](https://github.com/maxknv)).
* Fix flaky `00076_system_columns_bytes`. [#89659](https://github.com/ClickHouse/ClickHouse/pull/89659) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Segregate MergeTreeIndexTextPreprocessor into its own file. [#89660](https://github.com/ClickHouse/ClickHouse/pull/89660) ([Jimmy Aguilar Mena](https://github.com/Ergus)).
* CI: Collect and export coverage data for Functional tests. [#89671](https://github.com/ClickHouse/ClickHouse/pull/89671) ([Max Kainov](https://github.com/maxknv)).
* Prevent false positive error on empty LowCardinality indexes. [#89680](https://github.com/ClickHouse/ClickHouse/pull/89680) ([Max Kainov](https://github.com/maxknv)).
* Speed up test_refreshable_mv_skip_old_temp_table_ddls. [#89692](https://github.com/ClickHouse/ClickHouse/pull/89692) ([Tuan Pham Anh](https://github.com/tuanpach)).
* Add test for 84476. [#89702](https://github.com/ClickHouse/ClickHouse/pull/89702) ([Pedro Ferreira](https://github.com/PedroTadim)).
* Enable two additional projection index tests for parallel replicas. [#89714](https://github.com/ClickHouse/ClickHouse/pull/89714) ([zoomxi](https://github.com/zoomxi)).
* Fix crash in add attribute. [#89715](https://github.com/ClickHouse/ClickHouse/pull/89715) ([Sergei Trifonov](https://github.com/serxa)).
* CI: Fix functional tests local run with praktika. [#89724](https://github.com/ClickHouse/ClickHouse/pull/89724) ([Max Kainov](https://github.com/maxknv)).
* Fix flaky test `03652_threads_count_insert`. [#89726](https://github.com/ClickHouse/ClickHouse/pull/89726) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* CI: Support --count in functional tests with praktika. [#89735](https://github.com/ClickHouse/ClickHouse/pull/89735) ([Max Kainov](https://github.com/maxknv)).
* CI: Summary comment in backports. [#89738](https://github.com/ClickHouse/ClickHouse/pull/89738) ([Max Kainov](https://github.com/maxknv)).
* Reduce operations in the allocator to speed it up. [#89739](https://github.com/ClickHouse/ClickHouse/pull/89739) ([Raúl Marín](https://github.com/Algunenano)).
* [small doc fix] Fix precision in supported range for DateTime64. [#89746](https://github.com/ClickHouse/ClickHouse/pull/89746) ([Tanin Na Nakorn](https://github.com/tanin47)).
* CI: AST fuzzer job refactoring. [#89747](https://github.com/ClickHouse/ClickHouse/pull/89747) ([Max Kainov](https://github.com/maxknv)).
* Text index: simplify accessing to the postings cache. [#89748](https://github.com/ClickHouse/ClickHouse/pull/89748) ([Elmi Ahmadov](https://github.com/ahmadov)).
* This patch changes how `plain-rewritable` disks store their in-memory files information - the byte size and last modified will be stored in the filesystem tree, which allows disabling the object cache from regular plain disks. [#89754](https://github.com/ClickHouse/ClickHouse/pull/89754) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Synchronize Databases with private. [#89764](https://github.com/ClickHouse/ClickHouse/pull/89764) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Sync setting with private. [#89780](https://github.com/ClickHouse/ClickHouse/pull/89780) ([Nikolay Degterinsky](https://github.com/evillique)).
* Fix ALTER DATABASE COMMENT/RENAME DATABASE (revert revert of [#88708](https://github.com/ClickHouse/ClickHouse/issues/88708)). [#89781](https://github.com/ClickHouse/ClickHouse/pull/89781) ([Kirill Nikiforov](https://github.com/allmazz)).
* Underline is better for highlighting matching identifiers. Kudos to @thevar1able for noting this; the advice was golden!. [#89788](https://github.com/ClickHouse/ClickHouse/pull/89788) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Synchronize dashboards with the cloud. [#89791](https://github.com/ClickHouse/ClickHouse/pull/89791) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* This is for https://github.com/ClickHouse/ClickHouse/pull/82634 . It's interesting that ThreadGroup::query_context might not be a QueryContext. [#89795](https://github.com/ClickHouse/ClickHouse/pull/89795) ([Amos Bird](https://github.com/amosbird)).
* Fix Changes History of Iceberg settings in recent versions. [#89804](https://github.com/ClickHouse/ClickHouse/pull/89804) ([Daniil Ivanik](https://github.com/divanik)).
* Fix 03707_statistics_cache flakiness with parallel replicas. [#89810](https://github.com/ClickHouse/ClickHouse/pull/89810) ([Igor Nikonov](https://github.com/devcrafter)).
* Fix "invalid parse_numprocesses value" error in CI. [#89824](https://github.com/ClickHouse/ClickHouse/pull/89824) ([Alexey Bakharew](https://github.com/alexbakharew)).
* clickhouse-test: pass --client-option and --allow_repeated_settings for .sh tests. [#89827](https://github.com/ClickHouse/ClickHouse/pull/89827) ([Azat Khuzhin](https://github.com/azat)).
* Fix build under clang 21 again. [#89831](https://github.com/ClickHouse/ClickHouse/pull/89831) ([Michael Kolupaev](https://github.com/al13n321)).
* CI: Update PR formatter prompt to preserve code blocks as is. [#89838](https://github.com/ClickHouse/ClickHouse/pull/89838) ([Max Kainov](https://github.com/maxknv)).
* We should skip `read-only` and `write-once` disks during duplicate search. [#89839](https://github.com/ClickHouse/ClickHouse/pull/89839) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Mute `bugprone-sizeof-expression`. [#89846](https://github.com/ClickHouse/ClickHouse/pull/89846) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Update version_date.tsv and changelog after v25.10.2.65-stable. [#89847](https://github.com/ClickHouse/ClickHouse/pull/89847) ([robot-clickhouse](https://github.com/robot-clickhouse)).
* Skip a new assertion on bugfix_validation. [#89873](https://github.com/ClickHouse/ClickHouse/pull/89873) ([Alexei Fedotov](https://github.com/leshikus)).
* Fix flaky test 03712_json_advanced_shared_data_bug. [#89874](https://github.com/ClickHouse/ClickHouse/pull/89874) ([Pavel Kruglov](https://github.com/Avogar)).
* Let's collect all objects that need to be removed after the disk object storage transaction revert into a single removal batch to perform a single S3 interaction. [#89877](https://github.com/ClickHouse/ClickHouse/pull/89877) ([Mikhail Artemenko](https://github.com/Michicosun)).
* Extend 02160 test to verify that `optimize_const_name_size` has no effect. [#89910](https://github.com/ClickHouse/ClickHouse/pull/89910) ([Alexey Bakharew](https://github.com/alexbakharew)).
* Use our own partial_sort implementation in pickWeightedRandom. [#89922](https://github.com/ClickHouse/ClickHouse/pull/89922) ([Raúl Marín](https://github.com/Algunenano)).
* Reshape docker-library tests a bit, test all containers. [#89925](https://github.com/ClickHouse/ClickHouse/pull/89925) ([Mikhail f. Shiryaev](https://github.com/Felixoid)).
* Sync private changes. [#89927](https://github.com/ClickHouse/ClickHouse/pull/89927) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* Use our own nth_element implementation in Aggregator updateStatistics. [#89930](https://github.com/ClickHouse/ClickHouse/pull/89930) ([Raúl Marín](https://github.com/Algunenano)).
* Fuzz update. [#89939](https://github.com/ClickHouse/ClickHouse/pull/89939) ([Pedro Ferreira](https://github.com/PedroTadim)).
* Attempt to fix 02441_alter_delete_and_drop_column. [#89947](https://github.com/ClickHouse/ClickHouse/pull/89947) ([Alexey Bakharew](https://github.com/alexbakharew)).
* Add test for 87400. [#89948](https://github.com/ClickHouse/ClickHouse/pull/89948) ([Pedro Ferreira](https://github.com/PedroTadim)).
* Fix sporadic llvm-project compilation errors. [#89966](https://github.com/ClickHouse/ClickHouse/pull/89966) ([Michael Kolupaev](https://github.com/al13n321)).
* fix rotate in MergeTreeDeduplicationLog. [#89994](https://github.com/ClickHouse/ClickHouse/pull/89994) ([Sema Checherinda](https://github.com/CheSema)).
* Check if encrypted disks support writing with append. Resolves [#84669](https://github.com/ClickHouse/ClickHouse/issues/84669). [#89999](https://github.com/ClickHouse/ClickHouse/pull/89999) ([Tuan Pham Anh](https://github.com/tuanpach)).
* Add debug info. [#90004](https://github.com/ClickHouse/ClickHouse/pull/90004) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Debug nats stream flakyness. [#90005](https://github.com/ClickHouse/ClickHouse/pull/90005) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Halt if ACME client is enabled, but list of served domains is empty. [#90006](https://github.com/ClickHouse/ClickHouse/pull/90006) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Backported in [#90526](https://github.com/ClickHouse/ClickHouse/issues/90526): Fix generic hash calculation for mix of constant and non-constant arguments and types. Resolves [#89883](https://github.com/ClickHouse/ClickHouse/issues/89883). Resolves [#90487](https://github.com/ClickHouse/ClickHouse/issues/90487). [#90009](https://github.com/ClickHouse/ClickHouse/pull/90009) ([Pavel Kruglov](https://github.com/Avogar)).
* Attempt to fix flaky 02441_alter_delete_and_drop_column. [#90032](https://github.com/ClickHouse/ClickHouse/pull/90032) ([Nikita Fomichev](https://github.com/fm4v)).
* Fix flaky `03175_sparse_and_skip_index`. [#90039](https://github.com/ClickHouse/ClickHouse/pull/90039) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Forward declarations for faster incremental building. [#90052](https://github.com/ClickHouse/ClickHouse/pull/90052) ([Azat Khuzhin](https://github.com/azat)).
* CI: Fix status inversion for bugfix validation in functional tests. [#90056](https://github.com/ClickHouse/ClickHouse/pull/90056) ([Max Kainov](https://github.com/maxknv)).
* fix task_query_id in BackgroundSchedulePoolTaskInfo. [#90058](https://github.com/ClickHouse/ClickHouse/pull/90058) ([Sema Checherinda](https://github.com/CheSema)).
* Add test for `ntile` usage without `PARTITION BY`. [#90067](https://github.com/ClickHouse/ClickHouse/pull/90067) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* CI, libfuzzer bugfix. [#90078](https://github.com/ClickHouse/ClickHouse/pull/90078) ([Yakov Olkhovskiy](https://github.com/yakov-olkhovskiy)).
* CI: Fix no logs in ast fuzzer job on failure. [#90080](https://github.com/ClickHouse/ClickHouse/pull/90080) ([Max Kainov](https://github.com/maxknv)).
* Updating BuzzHouse CI job. [#90082](https://github.com/ClickHouse/ClickHouse/pull/90082) ([Pedro Ferreira](https://github.com/PedroTadim)).
* Set compatibility setting to previous version in Upgrade check to avoid falures with known backward-incompatible changes. [#90092](https://github.com/ClickHouse/ClickHouse/pull/90092) ([Pavel Kruglov](https://github.com/Avogar)).
* CI: Improve result banner in praktika local run. [#90098](https://github.com/ClickHouse/ClickHouse/pull/90098) ([Max Kainov](https://github.com/maxknv)).
* no-parallel-replicas for 03711_deduplication_blocks_part_log. [#90101](https://github.com/ClickHouse/ClickHouse/pull/90101) ([Sema Checherinda](https://github.com/CheSema)).
* CI: AST Fuzzer to use capital letters in status names. [#90110](https://github.com/ClickHouse/ClickHouse/pull/90110) ([Max Kainov](https://github.com/maxknv)).
* CI: Add xfail label for bugfix validation job. [#90113](https://github.com/ClickHouse/ClickHouse/pull/90113) ([Max Kainov](https://github.com/maxknv)).
* CI: AST Fuzzer: Fetch commands for reproduction, improve ci report. [#90120](https://github.com/ClickHouse/ClickHouse/pull/90120) ([Max Kainov](https://github.com/maxknv)).
* Un-flake `02346_text_index_hits`. [#90124](https://github.com/ClickHouse/ClickHouse/pull/90124) ([Robert Schulze](https://github.com/rschu1ze)).
* Minor: fix wrong formatting. [#90125](https://github.com/ClickHouse/ClickHouse/pull/90125) ([Robert Schulze](https://github.com/rschu1ze)).
* CI: Stateless tests (arm_asan, targeted) fix sample error. [#90127](https://github.com/ClickHouse/ClickHouse/pull/90127) ([Max Kainov](https://github.com/maxknv)).
* CI: Stateless tests: fix assertion. [#90134](https://github.com/ClickHouse/ClickHouse/pull/90134) ([Max Kainov](https://github.com/maxknv)).
* CI: Add PyYAML dependency to stateless-test docker image. [#90135](https://github.com/ClickHouse/ClickHouse/pull/90135) ([Max Kainov](https://github.com/maxknv)).
* Revert "Revert "Add memory usage to HTTP progress and summary headers"". [#90137](https://github.com/ClickHouse/ClickHouse/pull/90137) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Add test for `ntile` usage with double `ORDER BY`. [#90140](https://github.com/ClickHouse/ClickHouse/pull/90140) ([Nihal Z. Miaji](https://github.com/nihalzp)).
* Improve 03652_memory_usage_headers. [#90142](https://github.com/ClickHouse/ClickHouse/pull/90142) ([Christoph Wurm](https://github.com/cwurm)).
* A few changes in Web UI for clarity. [#90144](https://github.com/ClickHouse/ClickHouse/pull/90144) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Re-introduce [#89207](https://github.com/ClickHouse/ClickHouse/issues/89207). [#90168](https://github.com/ClickHouse/ClickHouse/pull/90168) ([Nikita Taranov](https://github.com/nickitat)).
* Add "database disk" into job names. [#90177](https://github.com/ClickHouse/ClickHouse/pull/90177) ([Azat Khuzhin](https://github.com/azat)).
* Sync private. [#90200](https://github.com/ClickHouse/ClickHouse/pull/90200) ([Mikhail Artemenko](https://github.com/Michicosun)).
* CI: Improve AST fuzzer reproduce commands generation and error reporting. [#90203](https://github.com/ClickHouse/ClickHouse/pull/90203) ([Max Kainov](https://github.com/maxknv)).
* tests: fix flaky 01872_functions_to_subcolumns_analyzer. [#90217](https://github.com/ClickHouse/ClickHouse/pull/90217) ([Azat Khuzhin](https://github.com/azat)).
* do not mark CI as red due to the debug message, part 3. [#90218](https://github.com/ClickHouse/ClickHouse/pull/90218) ([Sema Checherinda](https://github.com/CheSema)).
* CI: Sort failed subresults by status priority in GH comment. [#90222](https://github.com/ClickHouse/ClickHouse/pull/90222) ([Max Kainov](https://github.com/maxknv)).
* Extend test text_index_direct_read to use `EXPLAIN actions = 1`. [#90247](https://github.com/ClickHouse/ClickHouse/pull/90247) ([Jimmy Aguilar Mena](https://github.com/Ergus)).
* Print thread name string, not enum. [#90249](https://github.com/ClickHouse/ClickHouse/pull/90249) ([Raúl Marín](https://github.com/Algunenano)).
* Add test for [#82639](https://github.com/ClickHouse/ClickHouse/issues/82639). [#90258](https://github.com/ClickHouse/ClickHouse/pull/90258) ([Pedro Ferreira](https://github.com/PedroTadim)).
* Small refactoring - split iceberg writes file by classes. [#90262](https://github.com/ClickHouse/ClickHouse/pull/90262) ([scanhex12](https://github.com/scanhex12)).
* Do not assert on unknown job names while building ClickHouse. [#90263](https://github.com/ClickHouse/ClickHouse/pull/90263) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* CI: Improve AST fuzzer table extraction to handle file() functions. [#90267](https://github.com/ClickHouse/ClickHouse/pull/90267) ([Max Kainov](https://github.com/maxknv)).
* Remove unused parameter in skip indexes. [#90277](https://github.com/ClickHouse/ClickHouse/pull/90277) ([Anton Popov](https://github.com/CurtizJ)).
* Backported in [#90537](https://github.com/ClickHouse/ClickHouse/issues/90537): Add more diagnostic to logical error in JSON. [#90286](https://github.com/ClickHouse/ClickHouse/pull/90286) ([Pavel Kruglov](https://github.com/Avogar)).
* Add query `SYSTEM DROP TEXT INDEX CACHES`. [#90287](https://github.com/ClickHouse/ClickHouse/pull/90287) ([Anton Popov](https://github.com/CurtizJ)).
* Backported in [#90571](https://github.com/ClickHouse/ClickHouse/issues/90571): When alter column from `String` to `Nullable(String)`, we will not do mutation to the data. but for `uniq` aggregate function, it use different data strucuture: for nullable column, it will use `AggregateFunctionNull` with a nested uniq aggregator. the `AggregateFunctionNull` will serialize an extra bool flag. This will make the statistics file incompatible. The fix is add a flag to record if it is a nullable column during serialization. [#90311](https://github.com/ClickHouse/ClickHouse/pull/90311) ([Han Fei](https://github.com/hanfei1991)).
* Backported in [#90397](https://github.com/ClickHouse/ClickHouse/issues/90397): Prevent crash with invalid second parameter of File Engine. [#90312](https://github.com/ClickHouse/ClickHouse/pull/90312) ([Raúl Marín](https://github.com/Algunenano)).
* clickhouse default copilot instructions v 0.5. [#90348](https://github.com/ClickHouse/ClickHouse/pull/90348) ([abashkeev](https://github.com/abashkeev)).
* Backported in [#90882](https://github.com/ClickHouse/ClickHouse/issues/90882): Bug in unreleased version. Resolves [#90339](https://github.com/ClickHouse/ClickHouse/issues/90339). [#90573](https://github.com/ClickHouse/ClickHouse/pull/90573) ([Vladimir Cherkasov](https://github.com/vdimir)).

