---
sidebar_position: 1
sidebar_label: 2026
---

# 2026 Changelog

### ClickHouse release v25.11.7.41-stable (d635abf3eae) FIXME as compared to v25.11.6.11-stable (90415175004)

#### Improvement
* Backported in [#94476](https://github.com/ClickHouse/ClickHouse/issues/94476): Introduced `backup_data_from_refreshable_materialized_view_targets` backup setting to control whether to back up data of refreshable materialized views. Targets of RMVs with APPEND refresh strategy are always backed up. [#93658](https://github.com/ClickHouse/ClickHouse/pull/93658) ([Julia Kartseva](https://github.com/jkartseva)).
* Backported in [#94119](https://github.com/ClickHouse/ClickHouse/issues/94119): In some cases we've seen ClickHouse doesn't respect a memory limit when reading from a table. This behaviour is fixed. [#93715](https://github.com/ClickHouse/ClickHouse/pull/93715) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).

#### Bug Fix (user-visible misbehavior in an official stable release)
* Backported in [#93752](https://github.com/ClickHouse/ClickHouse/issues/93752): Fix reading subcolumns from a column with dot in the name in some cases. Resolves [#81261](https://github.com/ClickHouse/ClickHouse/issues/81261), [#82058](https://github.com/ClickHouse/ClickHouse/issues/82058), [#88169](https://github.com/ClickHouse/ClickHouse/issues/88169). [#87205](https://github.com/ClickHouse/ClickHouse/pull/87205) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#90423](https://github.com/ClickHouse/ClickHouse/issues/90423): Fixed a crash during the clean server shutdown due to wrong destruction order. Resolves [#82420](https://github.com/ClickHouse/ClickHouse/issues/82420). [#90076](https://github.com/ClickHouse/ClickHouse/pull/90076) ([Nikita Mikhaylov](https://github.com/nikitamikhaylov)).
* Backported in [#94014](https://github.com/ClickHouse/ClickHouse/issues/94014): Fixed crash on integer overflow in randomStringUTF8. [#90326](https://github.com/ClickHouse/ClickHouse/pull/90326) ([Michael Kolupaev](https://github.com/al13n321)).
* Backported in [#94622](https://github.com/ClickHouse/ClickHouse/issues/94622): Fix possible logical error upon receiving another read request from a replica after a response with the `finish=true` flag was sent. This was possible due to a logical race condition within `MergeTreeReadPoolParallelReplicas`, although it was very unlikely to occur. [#90921](https://github.com/ClickHouse/ClickHouse/pull/90921) ([Nikita Taranov](https://github.com/nickitat)).
* Backported in [#93723](https://github.com/ClickHouse/ClickHouse/issues/93723): Fix dynamic subcolumns resolution in column aliases in analyzer. Previously dynamic subcolumn in column alias was wrapped in `getSubcolumn` and in some cases could be not resolved at all. Closes [#91434](https://github.com/ClickHouse/ClickHouse/issues/91434). [#92583](https://github.com/ClickHouse/ClickHouse/pull/92583) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#93594](https://github.com/ClickHouse/ClickHouse/issues/93594): Fix possible hung on terminating background schedule pool (may lead to server hungs on shutdown). [#93008](https://github.com/ClickHouse/ClickHouse/pull/93008) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#93561](https://github.com/ClickHouse/ClickHouse/issues/93561): Fix crash when deserialising malformed `groupConcat` aggregate state with out-of-bounds offsets. [#93028](https://github.com/ClickHouse/ClickHouse/pull/93028) ([Raufs Dunamalijevs](https://github.com/rienath)).
* Backported in [#93404](https://github.com/ClickHouse/ClickHouse/issues/93404): Fix unused columns removal from subqueries in the presence of a scalar correlated subquery. Before the fix column could have been removed if it was used only in the correlated subquery, and the query would fail with `NOT_FOUND_COLUMN_IN_BLOCK` error. [#93273](https://github.com/ClickHouse/ClickHouse/pull/93273) ([Dmitry Novik](https://github.com/novikd)).
* Backported in [#93474](https://github.com/ClickHouse/ClickHouse/issues/93474): Fixed integer overflow vulnerability in `groupConcat` state deserialisation that could cause memory safety issues with crafted aggregate states. [#93426](https://github.com/ClickHouse/ClickHouse/pull/93426) ([Raufs Dunamalijevs](https://github.com/rienath)).
* Backported in [#93585](https://github.com/ClickHouse/ClickHouse/issues/93585): Fix extracting subcolumn during deserialization directly into Sparse columns. [#93512](https://github.com/ClickHouse/ClickHouse/pull/93512) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#93670](https://github.com/ClickHouse/ClickHouse/issues/93670): Make sure that zookeeper is finalized on shutdown (fix possible hung on shutdown in very unlikely cases). [#93602](https://github.com/ClickHouse/ClickHouse/pull/93602) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#93963](https://github.com/ClickHouse/ClickHouse/issues/93963): Fix LOGICAL_ERROR when restoring ReplicatedMergeTree with deduplication race. [#93612](https://github.com/ClickHouse/ClickHouse/pull/93612) ([Pablo Marcos](https://github.com/pamarcos)).
* Backported in [#93925](https://github.com/ClickHouse/ClickHouse/issues/93925): Fix using Sparse column for TTL update during direct deserialization into Sparse columns in some input formats. It fixes possible logical error `Unexpected type of result TTL column`. [#93619](https://github.com/ClickHouse/ClickHouse/pull/93619) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#93732](https://github.com/ClickHouse/ClickHouse/issues/93732): Validate that the decompressed buffer size is as expected. [#93690](https://github.com/ClickHouse/ClickHouse/pull/93690) ([Raúl Marín](https://github.com/Algunenano)).
* Backported in [#93800](https://github.com/ClickHouse/ClickHouse/issues/93800): Prevent users to get the list of columns from a table without checking `SHOW COLUMNS` permission using the `merge` table engine. [#93695](https://github.com/ClickHouse/ClickHouse/pull/93695) ([János Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Backported in [#93823](https://github.com/ClickHouse/ClickHouse/issues/93823): We store storages' shared pointers in `QueryPipeline::resources::storage_holders` to make sure that the `IStorage` objects are not destroyed while `PipelineExecutor` is alive. [#93746](https://github.com/ClickHouse/ClickHouse/pull/93746) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* Backported in [#94454](https://github.com/ClickHouse/ClickHouse/issues/94454): Fix use-of-uninitialized-value in `ReadWriteBufferFromHTTP`. [#94058](https://github.com/ClickHouse/ClickHouse/pull/94058) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Backported in [#94232](https://github.com/ClickHouse/ClickHouse/issues/94232): Fix accuracy of `uniqTheta` when using UInt8 aggregation keys in parallel (`max_threads` > 1 - default). [#94095](https://github.com/ClickHouse/ClickHouse/pull/94095) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#94165](https://github.com/ClickHouse/ClickHouse/issues/94165): Fixes https://github.com/ClickHouse/clickhouse-core-incidents/issues/1217. Exception was thrown from a `socket.setBlocking(true)` call inside `SCOPE_EXIT`: [logs](https://grafana.clickhouse-prd.com/a/loghouseapp/sysex?thanos_datasource=LightHouse+Thanos+%28production%29&environment=production&sortOrder=Asc&namespace=ns-olive-ae-66&region=us-central1&limit=500&whereExtra=and+level+%3D+%27Fatal%27&tableName=text_log&groupBy=level&extraCols=level&timeFrom=2025-12-29T01%3A13%3A46Z&timeFromCHFormat=2025-12-29+01%3A13%3A46&timeFromUnix=1766970826&timeTo=2025-12-29T02%3A13%3A51Z&timeToCHFormat=2025-12-29+02%3A13%3A51&timeToUnix=1766974431&dateTo=2025-12-29&dateFrom=2025-12-29). Because `SCOPE_EXIT` creates a scope guard object and runs the provided code in the scope guard's destructor, we can't use `SCOPE_EXIT` with functions that throw exceptions and should use `SCOPE_EXIT_SAFE` instead. [#94100](https://github.com/ClickHouse/ClickHouse/pull/94100) ([Miсhael Stetsyuk](https://github.com/mstetsyuk)).
* Backported in [#94636](https://github.com/ClickHouse/ClickHouse/issues/94636): Related issue: [#80315](https://github.com/ClickHouse/ClickHouse/issues/80315) CIDB: [link](https://play.clickhouse.com/play?user=play#U0VMRUNUIGJhc2VfcmVwbywgcHVsbF9yZXF1ZXN0X251bWJlciBhcyBwciwgY2hlY2tfc3RhcnRfdGltZSwgY2hlY2tfbmFtZSwgdGVzdF9uYW1lLCB0ZXN0X3N0YXR1cywgcmVwb3J0X3VybApGUk9NIGNoZWNrcwpXSEVSRSAxCiAgICBBTkQgdGVzdF9zdGF0dXMgSU4gKCdGQUlMJywgJ0VSUk9SJywgJ0JST0tFTicpCiAgICBBTkQgdG9EYXRlKGNoZWNrX3N0YXJ0X3RpbWUpID4gJzIwMjUtMDYtMDEnCiAgICBBTkQgdGVzdF9uYW1lIGxpa2UgJyUwMTE1NF9tb3ZlX3BhcnRpdGlvbl9sb25nJScKICAgIEFORCB0ZXN0X2NvbnRleHRfcmF3IGxpa2UgJyVyZXN1bHQgZGlmZmVycyB3aXRoIHJlZmVyZW5jZSUnCk9SREVSIEJZIGNoZWNrX3N0YXJ0X3RpbWUgREVTQwpTRVRUSU5HUyByZWFkX3Rocm91Z2hfZGlzdHJpYnV0ZWRfY2FjaGU9MA==). [#94123](https://github.com/ClickHouse/ClickHouse/pull/94123) ([Tuan Pham Anh](https://github.com/tuanpach)).
* Backported in [#94330](https://github.com/ClickHouse/ClickHouse/issues/94330): Fixed parquet reader v3 incorrectly handling arrays that cross page boundaries. This happens e.g. for files written by Arrow without enabling page statistics or page index. Affects only columns of Array data type. Likely symptom is that one array every ~1 MB of data gets truncated. Before this fix, use this setting as workaround: `input_format_parquet_use_native_reader_v3 = 0`. [#94125](https://github.com/ClickHouse/ClickHouse/pull/94125) ([Michael Kolupaev](https://github.com/al13n321)).
* Backported in [#94270](https://github.com/ClickHouse/ClickHouse/issues/94270): Fix data race in evaluating table functions in materialized views. [#94171](https://github.com/ClickHouse/ClickHouse/pull/94171) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Backported in [#94259](https://github.com/ClickHouse/ClickHouse/issues/94259): Fix nullptr dereference in `PostgreSQL` database engines (when the query is incorrect). Closes [#92887](https://github.com/ClickHouse/ClickHouse/issues/92887). [#94180](https://github.com/ClickHouse/ClickHouse/pull/94180) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Backported in [#94315](https://github.com/ClickHouse/ClickHouse/issues/94315): Fix memory leak in refreshable materialized views using `SELECT` queries with multiple subqueries. [#94200](https://github.com/ClickHouse/ClickHouse/pull/94200) ([Antonio Andelic](https://github.com/antonio2368)).
* Backported in [#94444](https://github.com/ClickHouse/ClickHouse/issues/94444): Fix data race in `DataPartStorageOnDiskBase::remove` vs `system.parts`. Closes [#49076](https://github.com/ClickHouse/ClickHouse/issues/49076). [#94262](https://github.com/ClickHouse/ClickHouse/pull/94262) ([Alexey Milovidov](https://github.com/alexey-milovidov)).
* Backported in [#94301](https://github.com/ClickHouse/ClickHouse/issues/94301): Remove the wrong `noexcept` specifier at HashTable copy assignment that may lead to crash (`std::terminate`) on memory exceptions. [#94275](https://github.com/ClickHouse/ClickHouse/pull/94275) ([Nikita Taranov](https://github.com/nickitat)).
* Backported in [#94351](https://github.com/ClickHouse/ClickHouse/issues/94351): Fix obscure bug in ZooKeeper client on connect which leads to hungs and crashes. [#94320](https://github.com/ClickHouse/ClickHouse/pull/94320) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#94419](https://github.com/ClickHouse/ClickHouse/issues/94419): Fix possibly incorrect result in nested RIGHT JOINs when `enable_lazy_columns_replication` is enabled. The bug caused all rows in replicated columns to incorrectly return the same value instead of their distinct values. Close [#93891](https://github.com/ClickHouse/ClickHouse/issues/93891). [#94339](https://github.com/ClickHouse/ClickHouse/pull/94339) ([Vladimir Cherkasov](https://github.com/vdimir)).
* Backported in [#94396](https://github.com/ClickHouse/ClickHouse/issues/94396): Fix incorrect value of current metric `FilesystemCacheSizeLimit` in case `SLRU` cache policy was used. [#94363](https://github.com/ClickHouse/ClickHouse/pull/94363) ([Kseniia Sumarokova](https://github.com/kssenii)).
* Backported in [#94463](https://github.com/ClickHouse/ClickHouse/issues/94463): Ignores impossible revokes of global grants on the database level for grants with grant option. [#94386](https://github.com/ClickHouse/ClickHouse/pull/94386) ([pufit](https://github.com/pufit)).
* Backported in [#94488](https://github.com/ClickHouse/ClickHouse/issues/94488): Fix nullptr dereference with disabled `send_profile_events`. This feature was introduced recently for the ClickHouse Python driver. Closes [#92488](https://github.com/ClickHouse/ClickHouse/issues/92488). [#94466](https://github.com/ClickHouse/ClickHouse/pull/94466) ([Alexey Milovidov](https://github.com/alexey-milovidov)).

#### Build/Testing/Packaging Improvement
* Backported in [#94227](https://github.com/ClickHouse/ClickHouse/issues/94227): Bump c-ares from v1.34.5 to v1.34.6. This addresses c-ares' `CVE-2025-62408`, which is not relevant for ClickHouse. [#94129](https://github.com/ClickHouse/ClickHouse/pull/94129) ([Govind R Nair](https://github.com/Revertionist)).

#### NOT FOR CHANGELOG / INSIGNIFICANT

* Backported in [#94054](https://github.com/ClickHouse/ClickHouse/issues/94054): More respect to memory limit from `AggregateFunctionWindowFunnel`. [#93035](https://github.com/ClickHouse/ClickHouse/pull/93035) ([Nikita Taranov](https://github.com/nickitat)).
* Backported in [#93741](https://github.com/ClickHouse/ClickHouse/issues/93741): Remote throttler sleep time no longer dependent on local socket timeouts and capped at 20 seconds by default. [#93410](https://github.com/ClickHouse/ClickHouse/pull/93410) ([Ilya Andreev](https://github.com/andreev-io)).
* Backported in [#93489](https://github.com/ClickHouse/ClickHouse/issues/93489): Add additional validations in JSON column. [#93453](https://github.com/ClickHouse/ClickHouse/pull/93453) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#93644](https://github.com/ClickHouse/ClickHouse/issues/93644): Unflaky test_projection_rebuild_uses_only_required_columns. [#93498](https://github.com/ClickHouse/ClickHouse/pull/93498) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* Backported in [#93947](https://github.com/ClickHouse/ClickHouse/issues/93947): Fix support for Prometheus Remote Read protocol. [#93791](https://github.com/ClickHouse/ClickHouse/pull/93791) ([Vitaly Baranov](https://github.com/vitlibar)).
* Backported in [#93991](https://github.com/ClickHouse/ClickHouse/issues/93991): Fix exception message. [#93915](https://github.com/ClickHouse/ClickHouse/pull/93915) ([Kseniia Sumarokova](https://github.com/kssenii)).

