---
sidebar_position: 1
sidebar_label: 2025
---

# 2025 Changelog

### ClickHouse release v25.11.2.24-stable (d4877847359) FIXME as compared to v25.11.1.558-stable (16f22f3d744)

#### Improvement
* Backported in [#90983](https://github.com/ClickHouse/ClickHouse/issues/90983): Due to https://github.com/ClickHouse/ClickHouse/pull/90311 , the format of statisticis has changed, the server will crash if we have statistics with old format. This PR will fix the crash, and throw exception when the existing statisticis uses lagecy format. To avoid exception, we should run `ALTER TABLE [db.]table MATERIALIZE STATISTICS ALL` to regenerate the statistics` to fix it. [#90904](https://github.com/ClickHouse/ClickHouse/pull/90904) ([Han Fei](https://github.com/hanfei1991)).
* Backported in [#91193](https://github.com/ClickHouse/ClickHouse/issues/91193): Now `HTTP_CONNECTION_LIMIT_REACHED` exception would be thrown when `hard_limit` for the http clients connection is reached. It is set as `20000` for the disk connections. [#91016](https://github.com/ClickHouse/ClickHouse/pull/91016) ([Sema Checherinda](https://github.com/CheSema)).
* Backported in [#91254](https://github.com/ClickHouse/ClickHouse/issues/91254): Fixed potential thread pool starvation when reading column samples for JSON columns with many subcolumns by respecting the `merge_tree_use_prefixes_deserialization_thread_pool` setting instead of unconditionally using the thread pool. [#91208](https://github.com/ClickHouse/ClickHouse/pull/91208) ([Raufs Dunamalijevs](https://github.com/rienath)).

#### Bug Fix (user-visible misbehavior in an official stable release)
* Backported in [#90993](https://github.com/ClickHouse/ClickHouse/issues/90993): Throw exception when temporary_files_buffer_size is set to 0. Resolves [#88900](https://github.com/ClickHouse/ClickHouse/issues/88900). [#88917](https://github.com/ClickHouse/ClickHouse/pull/88917) ([Vladimir Cherkasov](https://github.com/vdimir)).
* Backported in [#90977](https://github.com/ClickHouse/ClickHouse/issues/90977): Fix possible logical error during renaming and modifying the same Nested column in one ALTER. Resolves [#90406](https://github.com/ClickHouse/ClickHouse/issues/90406). [#90412](https://github.com/ClickHouse/ClickHouse/pull/90412) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#91059](https://github.com/ClickHouse/ClickHouse/issues/91059): Fix parsing JSON/Dynamic/Variant values from HTTP parameters. Resolves [#88925](https://github.com/ClickHouse/ClickHouse/issues/88925). [#90430](https://github.com/ClickHouse/ClickHouse/pull/90430) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#91039](https://github.com/ClickHouse/ClickHouse/issues/91039): Fix possible logical error during output of `LowCardinality(Bool/Date32)` in `Arrow` format. Resolves [#83883](https://github.com/ClickHouse/ClickHouse/issues/83883). [#90505](https://github.com/ClickHouse/ClickHouse/pull/90505) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#90792](https://github.com/ClickHouse/ClickHouse/issues/90792): Retry to markReplicasActive when failing to resolve address during local host check: Print a warning log if there is an exception during self host check in DDLTask. In DDLWorker::markReplicasActive, throw an exception to retry if there is no local host found and there are host IDs in clusters. [#90556](https://github.com/ClickHouse/ClickHouse/pull/90556) ([Tuan Pham Anh](https://github.com/tuanpach)).
* Backported in [#90945](https://github.com/ClickHouse/ClickHouse/issues/90945): Fix ALTER MODIFY QUERY with dictGet() and dictionary name in CSE for SharedCatalog (cloud only feature). [#90860](https://github.com/ClickHouse/ClickHouse/pull/90860) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#90937](https://github.com/ClickHouse/ClickHouse/issues/90937): Fix background flush of Buffer in case of frequent INSERTs. [#90892](https://github.com/ClickHouse/ClickHouse/pull/90892) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#91050](https://github.com/ClickHouse/ClickHouse/issues/91050): Fix high memory usage during reading JSON/Dynamic/Variant columns. [#90907](https://github.com/ClickHouse/ClickHouse/pull/90907) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#91225](https://github.com/ClickHouse/ClickHouse/issues/91225): Fix wildcard grants check for partial revoke. Added more tests. [#90922](https://github.com/ClickHouse/ClickHouse/pull/90922) ([pufit](https://github.com/pufit)).
* Backported in [#91081](https://github.com/ClickHouse/ClickHouse/issues/91081): Fix possible infinite loop in azure list blobs. [#90947](https://github.com/ClickHouse/ClickHouse/pull/90947) ([Julia Kartseva](https://github.com/jkartseva)).
* Backported in [#91141](https://github.com/ClickHouse/ClickHouse/issues/91141): Fix excessive Buffer flushes (burns CPU and produce tons of logs). [#91000](https://github.com/ClickHouse/ClickHouse/pull/91000) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#91240](https://github.com/ClickHouse/ClickHouse/issues/91240): ... Don't allow adaptive_write_buffer_initial_size set to 0. [#91001](https://github.com/ClickHouse/ClickHouse/pull/91001) ([Pedro Ferreira](https://github.com/PedroTadim)).
* Backported in [#91077](https://github.com/ClickHouse/ClickHouse/issues/91077): Fix bug in JSON when path can be both in shared data and dynamic paths during sub-object reading in Compact parts with disabled `write_marks_for_substreams_in_compact_parts`. [#91014](https://github.com/ClickHouse/ClickHouse/pull/91014) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#91093](https://github.com/ClickHouse/ClickHouse/issues/91093): Fix std::out_of_range in CTE with dictGet with no arguments. Closes [#91027](https://github.com/ClickHouse/ClickHouse/issues/91027). [#91022](https://github.com/ClickHouse/ClickHouse/pull/91022) ([Pavel Kruglov](https://github.com/Avogar)).
* Backported in [#91269](https://github.com/ClickHouse/ClickHouse/issues/91269): Fix merging JSON columns in Summing/Aggregating/Coalescing MergeTree. Previously it could lead to unexpected dynamic paths durign writing to data parts. [#91151](https://github.com/ClickHouse/ClickHouse/pull/91151) ([Pavel Kruglov](https://github.com/Avogar)).

#### NO CL CATEGORY

* Backported in [#90999](https://github.com/ClickHouse/ClickHouse/issues/90999):. [#90951](https://github.com/ClickHouse/ClickHouse/pull/90951) ([Pablo Marcos](https://github.com/pamarcos)).

#### NOT FOR CHANGELOG / INSIGNIFICANT

* Backported in [#90955](https://github.com/ClickHouse/ClickHouse/issues/90955): CI: Fix tweak calculation in legacy version helper. [#90950](https://github.com/ClickHouse/ClickHouse/pull/90950) ([Max Kainov](https://github.com/maxknv)).
* Backported in [#91100](https://github.com/ClickHouse/ClickHouse/issues/91100): Disable temporary_files_buffer_size randomization. [#91007](https://github.com/ClickHouse/ClickHouse/pull/91007) ([Vladimir Cherkasov](https://github.com/vdimir)).
* Backported in [#91114](https://github.com/ClickHouse/ClickHouse/issues/91114): Fix CI (due to tmpfs permissions changes in runc 1.3.3). [#91094](https://github.com/ClickHouse/ClickHouse/pull/91094) ([Azat Khuzhin](https://github.com/azat)).
* Backported in [#91180](https://github.com/ClickHouse/ClickHouse/issues/91180): Improve DDLDependencyVisitor. [#91159](https://github.com/ClickHouse/ClickHouse/pull/91159) ([Nikolay Degterinsky](https://github.com/evillique)).

