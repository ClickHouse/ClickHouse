---
sidebar_position: 1
sidebar_label: 2025
---

# 2025 Changelog

### ClickHouse release v25.6.7.23-stable (4efdb9097eb) FIXME as compared to v25.6.6.29-stable (63e6c7573e5)

#### Improvement
* Backported in [#85019](https://github.com/ClickHouse/ClickHouse/issues/85019): Add 4LW in Keeper, `lgrq`, for toggling request logging of received requests. [#84719](https://github.com/ClickHouse/ClickHouse/pull/84719) ([Antonio Andelic](https://github.com/antonio2368)).
* Backported in [#84868](https://github.com/ClickHouse/ClickHouse/issues/84868): Reduce contention on storage lock in Keeper. [#84732](https://github.com/ClickHouse/ClickHouse/pull/84732) ([Antonio Andelic](https://github.com/antonio2368)).
* Backported in [#85016](https://github.com/ClickHouse/ClickHouse/issues/85016): Limit Keeper log entry cache size by number of entries using `keeper_server.coordination_settings.latest_logs_cache_entry_count_threshold` and `keeper_server.coordination_settings.commit_logs_cache_entry_count_threshold`. [#84877](https://github.com/ClickHouse/ClickHouse/pull/84877) ([Antonio Andelic](https://github.com/antonio2368)).

#### Bug Fix (user-visible misbehavior in an official stable release)
* Backported in [#84831](https://github.com/ClickHouse/ClickHouse/issues/84831): Fix logger usage in `IAccessStorage`. [#84365](https://github.com/ClickHouse/ClickHouse/pull/84365) ([Konstantin Bogdanov](https://github.com/thevar1able)).
* Backported in [#84879](https://github.com/ClickHouse/ClickHouse/issues/84879): Fix `CORRUPTED_DATA` error when lazy columns are used with external sort. [#84738](https://github.com/ClickHouse/ClickHouse/pull/84738) ([JÃ¡nos Benjamin Antal](https://github.com/antaljanosbenjamin)).
* Backported in [#84993](https://github.com/ClickHouse/ClickHouse/issues/84993): Fix total watches count returned by Keeper. [#84890](https://github.com/ClickHouse/ClickHouse/pull/84890) ([Antonio Andelic](https://github.com/antonio2368)).
* Backported in [#84960](https://github.com/ClickHouse/ClickHouse/issues/84960): Fix memory tracking drift from background schedule pool and executor. [#84946](https://github.com/ClickHouse/ClickHouse/pull/84946) ([Azat Khuzhin](https://github.com/azat)).

#### NOT FOR CHANGELOG / INSIGNIFICANT

* Backported in [#84795](https://github.com/ClickHouse/ClickHouse/issues/84795): Previously, `FilterTransform` could stop reading if the expression for any chunk returned a constant `false`. This can lead to a bug, because constant columns are allowed to appear during the execution, and most function default implementations will preserve constants as well. [#83855](https://github.com/ClickHouse/ClickHouse/pull/83855) ([Nikolai Kochetov](https://github.com/KochetovNicolai)).
* Backported in [#84680](https://github.com/ClickHouse/ClickHouse/issues/84680): Removing temprary parts may take a while (especially with S3), and currently we do it while holding a global lock in `MergeTreeBackgroundExecutor`. When we need to restart all tables due to connection loss and we wait for background tasks to finish - tables may even stuck in readonly mode for an hour. But looks like we don't need this lock for calling `cancel`. [#84311](https://github.com/ClickHouse/ClickHouse/pull/84311) ([Alexander Tokmakov](https://github.com/tavplubix)).
* Backported in [#84837](https://github.com/ClickHouse/ClickHouse/issues/84837): Add ability to lock/unlock `SharedLockGuard` explicitly. [#84687](https://github.com/ClickHouse/ClickHouse/pull/84687) ([Mikhail Artemenko](https://github.com/Michicosun)).

