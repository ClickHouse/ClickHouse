| Setting                                                      | Description                                                                                                                                                                                                                                                                                                                                          | Default value |
|--------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|
| `id`                                                         | ID of backup or restore operation, randomly generated UUID is used if not specified. If there's already a running operation with the same ID, an exception is thrown.                                                                                                                                                                                |               |
| `compression_method`                                         | Specifies the compression method for the backup. See section ["column compression codecs"](/sql-reference/statements/create/table#column_compression_codec)                                                                                                                                                                                          |               |
| `compression_level`                                          | Specifies the compression level for the backup                                                                                                                                                                                                                                                                                                       |               |
| `password`                                                   | Password for the file on disk.                                                                                                                                                                                                                                                                                                                       |               |
| `base_backup`                                                | The destination of the base backup used for incremental backups. For example: `Disk('backups', '1.zip')`                                                                                                                                                                                                                                             |               |
| `use_same_password_for_base_backup`                          | Whether base backup archive should inherit the password from the query.                                                                                                                                                                                                                                                                              |               |
| `structure_only`                                             | If enabled, only backs up or restores the CREATE statements without the actual table data.                                                                                                                                                                                                                                                           |               |
| `storage_policy`                                             | Storage policy for the tables being restored. See ["using multiple block devices for data storage](../../engines/table-engines/mergetree-family/mergetree.md#table_engine-mergetree-multiple-volumes). Only applicable to the `RESTORE` command. Applies only to tables with an engine from the `MergeTree` family.                                  |               |
| `allow_non_empty_tables`                                     | Allows `RESTORE TABLE` to insert data into non-empty tables. This will mix earlier data in the table with the data extracted from the backup. This setting can therefore cause data duplication in the table, use with caution.                                                                                                                      | `0`           |
| `backup_restore_keeper_max_retries`                          | Max retries for [Zoo]Keeper operations in the middle of a BACKUP or RESTORE operation. Should be big enough so the whole operation won't fail because of a temporary [Zoo]Keeper failure.                                                                                                                                                            | `1000`        |
| `backup_restore_keeper_retry_initial_backoff_ms`             | Initial backoff timeout for [Zoo]Keeper operations during backup or restore                                                                                                                                                                                                                                                                          | `100`         |
| `backup_restore_keeper_retry_max_backoff_ms`                 | Max backoff timeout for [Zoo]Keeper operations during backup or restore                                                                                                                                                                                                                                                                              | `5000`        |
| `backup_restore_failure_after_host_disconnected_for_seconds` | If a host during a `BACKUP ON CLUSTER` or `RESTORE ON CLUSTER` operation doesn't recreate its ephemeral 'alive' node in ZooKeeper for this amount of time then the whole backup or restore is considered as failed. This value should be bigger than any reasonable time for a host to reconnect to ZooKeeper after a failure. Zero means unlimited. | `3600`        |
| `backup_restore_keeper_max_retries_while_initializing`       | Max retries for [Zoo]Keeper operations during the initialization of a `BACKUP ON CLUSTER` or `RESTORE ON CLUSTER` operation.                                                                                                                                                                                                                         | `20`          |
| `backup_restore_keeper_max_retries_while_handling_error`     | Max retries for [Zoo]Keeper operations while handling an error of a `BACKUP ON CLUSTER` or `RESTORE ON CLUSTER` operation.                                                                                                                                                                                                                           | `20`          |
| `backup_restore_finish_timeout_after_error_sec`              | How long the initiator should wait for other host to react to the 'error' node and stop their work on the current `BACKUP ON CLUSTER` or `RESTORE ON CLUSTER` operation.                                                                                                                                                                             | `180`         |
| `backup_restore_keeper_value_max_size`                       | Maximum size of data of a [Zoo]Keeper's node during backup                                                                                                                                                                                                                                                                                           | `1048576`     |
| `backup_restore_batch_size_for_keeper_multi`                 | Maximum size of batch for multi request to [Zoo]Keeper during backup or restore                                                                                                                                                                                                                                                                      | `1000`        |
| `backup_restore_batch_size_for_keeper_multiread`             | Maximum size of batch for multiread request to [Zoo]Keeper during backup or restore                                                                                                                                                                                                                                                                  | `10000`       |
| `backup_restore_keeper_fault_injection_probability`          | Approximate probability of failure for a keeper request during backup or restore. Valid value is in interval `[0.0f, 1.0f]`                                                                                                                                                                                                                          | `0`           |
| `backup_restore_keeper_fault_injection_seed`                 | `0` for a random seed, otherwise the setting value                                                                                                                                                                                                                                                                                                   | `0`           |
| `backup_restore_s3_retry_attempts`                           | Setting for Aws::Client::RetryStrategy, Aws::Client does retries itself, 0 means no retries. It takes place only for backup/restore.                                                                                                                                                                                                                 | `1000`        |
| `max_backup_bandwidth`                                       | The maximum read speed in bytes per second for particular backup on server. Zero means unlimited.                                                                                                                                                                                                                                                    | `0`           |
| `max_backups_io_thread_pool_size`                            | ClickHouse uses threads from the Backups IO Thread pool to do S3 backup IO operations. `max_backups_io_thread_pool_size` limits the maximum number of threads in the pool.                                                                                                                                                                           | `1000`        |
| `max_backups_io_thread_pool_free_size`                       | If the number of **idle** threads in the Backups IO Thread pool exceeds `max_backup_io_thread_pool_free_size`, ClickHouse will release resources occupied by idling threads and decrease the pool size. Threads can be created again if necessary.                                                                                                   | `0`           |
| `backups_io_thread_pool_queue_size`                          | The maximum number of jobs that can be scheduled on the Backups IO Thread pool. It is recommended to keep this queue unlimited due to the current S3 backup logic. Note: A value of `0` (default) means unlimited.                                                                                                                                   | `0`           |
| `backup_threads`                                             | The maximum number of threads to execute `BACKUP` requests.                                                                                                                                                                                                                                                                                          |               |
| `max_backup_bandwidth_for_server`                            | The maximum read speed in bytes per second for all backups on server. Zero means unlimited.                                                                                                                                                                                                                                                          | `0`           |
| `shutdown_wait_backups_and_restores`                         | If set to true ClickHouse will wait for running backups and restores to finish before shutdown.                                                                                                                                                                                                                                                      | `1`           |