---
description: 'Formats rows in each group using an output format and returns the formatted data as a string.'
sidebar_label: 'groupFormat'
slug: /sql-reference/aggregate-functions/reference/groupformat
title: 'groupFormat'
doc_type: 'reference'
---

Formats rows in each group using an output format and returns the formatted data as a string. This is similar to `formatRow`, but works on the whole group and can use block-based formats.

**Syntax**

```sql
groupFormat(format)(x, y, ...)
```

**Parameters**

- `format` — Output format name, for example `JSONEachRow`, `CSV`, `TabSeparated`.

**Arguments**

- `x, y, ...` — Expressions to format as rows. At least one argument is required.

**Returned value**

- A [String](../../../sql-reference/data-types/string.md) containing the formatted output for the group.

:::note
Column names in the formatted output are generated as `c1`, `c2`, ... in the order of arguments.

The function is order-dependent. If you need a deterministic order, sort the input before aggregation.

Query-level format settings (for example `format_csv_delimiter`, `output_format_json_quote_64bit_integers`) are applied.
:::

**Examples**

1) Basic usage with `JSONEachRow`:

```sql
SELECT groupFormat('JSONEachRow')(number, toString(number))
FROM numbers(3);
```

Result:

```text
{"c1":0,"c2":"0"}
{"c1":1,"c2":"1"}
{"c1":2,"c2":"2"}
```

2) Deterministic order with a subquery:

```sql
SELECT groupFormat('JSONEachRow')(number)
FROM (SELECT number FROM numbers(3) ORDER BY number DESC);
```

Result:

```text
{"c1":2}
{"c1":1}
{"c1":0}
```

<!--AUTOGENERATED_START-->
<!--AUTOGENERATED_END-->
