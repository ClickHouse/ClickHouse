---
slug: /sql-reference/aggregate-functions/reference/
toc_folder_title: Reference
sidebar_position: 36
toc_hidden: true
title: 'TODO: Add title'
description: 'Learn about TODO: Add title'
---

# Aggregate Functions

ClickHouse supports all standard SQL aggregate functions ([sum](../reference/sum.md), [avg](../reference/avg.md), [min](../reference/min.md), [max](../reference/max.md), [count](../reference/count.md)), as well as a wide range of other aggregate functions.

<!-- The table of contents table for this page is automatically generated by 
https://github.com/ClickHouse/clickhouse-docs/blob/main/scripts/autogenerate-table-of-contents.sh
from the YAML front matter fields: slug, description, title.

If you've spotted an error, please edit the YML frontmatter of the pages themselves.
-->
| Page | Description |
|-----|-----|
| [intervalLengthSum](/sql-reference/aggregate-functions/reference/intervalLengthSum) | Calculates the total length of union of all ranges (segments on numeric axis). |
| [median](/sql-reference/aggregate-functions/reference/median) | The `median*` functions are the aliases for the corresponding `quantile*` functions. They calculate median of a numeric data sample. |
| [welchTTest](/sql-reference/aggregate-functions/reference/welchttest) | Applies Welch's t-test to samples from two populations. |
| [groupArrayMovingSum](/sql-reference/aggregate-functions/reference/grouparraymovingsum) | Calculates the moving sum of input values. |
| [groupBitmapAnd](/sql-reference/aggregate-functions/reference/groupbitmapand) | Calculations the AND of a bitmap column, return cardinality of type UInt64, if add suffix -State, then return a bitmap object. |
| [topKWeighted](/sql-reference/aggregate-functions/reference/topkweighted) | Returns an array of the approximately most frequent values in the specified column. The resulting array is sorted in descending order of approximate frequency of values (not by the values themselves). Additionally, the weight of the value is taken into account. |
| [distinctJSONPaths](/sql-reference/aggregate-functions/reference/distinctjsonpaths) | Calculates a list of distinct paths stored in a JSON column. |
| [kolmogorovSmirnovTest](/sql-reference/aggregate-functions/reference/kolmogorovsmirnovtest) | Applies Kolmogorov-Smirnov's test to samples from two populations. |
| [quantileExactWeightedInterpolated](/sql-reference/aggregate-functions/reference/quantileExactWeightedInterpolated) | Computes quantile of a numeric data sequence using linear interpolation, taking into account the weight of each element. |
| [largestTriangleThreeBuckets](/sql-reference/aggregate-functions/reference/largestTriangleThreeBuckets) | Applies the Largest-Triangle-Three-Buckets algorithm to the input data. |
| [approx_top_sum](/sql-reference/aggregate-functions/reference/approxtopsum) | Returns an array of the approximately most frequent values and their counts in the specified column. |
| [covarSamp](/sql-reference/aggregate-functions/reference/covarsamp) | Calculates the value of `Σ((x - x̅)(y - y̅)) / (n - 1)` |
| [groupBitmapOr](/sql-reference/aggregate-functions/reference/groupbitmapor) | Calculations the OR of a bitmap column, return cardinality of type UInt64, if add suffix -State, then return a bitmap object. This is equivalent to `groupBitmapMerge`. |
| [varSamp](/sql-reference/aggregate-functions/reference/varSamp) | Calculate the sample variance of a data set. |
| [cramersVBiasCorrected](/sql-reference/aggregate-functions/reference/cramersvbiascorrected) | Calculates Cramer's V, but uses a bias correction. |
| [quantiles Functions](/sql-reference/aggregate-functions/reference/quantiles) | quantiles, quantilesExactExclusive, quantilesExactInclusive, quantilesGK |
| [anyLast](/sql-reference/aggregate-functions/reference/anylast) | Selects the last encountered value of a column. |
| [corrStable](/sql-reference/aggregate-functions/reference/corrstable) | Calculates the Pearson correlation coefficient, but uses a numerically stable algorithm. |
| [stddevPopStable](/sql-reference/aggregate-functions/reference/stddevpopstable) | The result is equal to the square root of varPop. Unlike stddevPop, this function uses a numerically stable algorithm. |
| [maxIntersections](/sql-reference/aggregate-functions/reference/maxintersections) | Aggregate function that calculates the maximum number of times that a group of intervals intersects each other (if all the intervals intersect at least once). |
| [flameGraph](/sql-reference/aggregate-functions/reference/flame_graph) | Aggregate function which builds a flamegraph using the list of stacktraces. |
| [min](/sql-reference/aggregate-functions/reference/min) | Aggregate function that calculates the minimum across a group of values. |
| [sumMapWithOverflow](/sql-reference/aggregate-functions/reference/summapwithoverflow) | Totals a `value` array according to the keys specified in the `key` array. Returns a tuple of two arrays: keys in sorted order, and values summed for the corresponding keys. Differs from the sumMap function in that it does summation with overflow. |
| [uniq](/sql-reference/aggregate-functions/reference/uniq) | Calculates the approximate number of different values of the argument. |
| [quantileTDigest](/sql-reference/aggregate-functions/reference/quantiletdigest) | Computes an approximate quantile of a numeric data sequence using the t-digest algorithm. |
| [groupArrayMovingAvg](/sql-reference/aggregate-functions/reference/grouparraymovingavg) | Calculates the moving average of input values. |
| [rankCorr](/sql-reference/aggregate-functions/reference/rankCorr) | Computes a rank correlation coefficient. |
| [covarSampStable](/sql-reference/aggregate-functions/reference/covarsampstable) | Similar to covarSamp but works slower while providing a lower computational error. |
| [avgWeighted](/sql-reference/aggregate-functions/reference/avgweighted) | Calculates the weighted arithmetic mean. |
| [skewSamp](/sql-reference/aggregate-functions/reference/skewsamp) | Computes the sample skewness of a sequence. |
| [groupArrayInsertAt](/sql-reference/aggregate-functions/reference/grouparrayinsertat) | Inserts a value into the array at the specified position. |
| [TODO: Add title](/sql-reference/aggregate-functions/reference/array_concat_agg) | TODO: Add description |
| [entropy](/sql-reference/aggregate-functions/reference/entropy) | Calculates Shannon entropy of for a column of values. |
| [uniqTheta](/sql-reference/aggregate-functions/reference/uniqthetasketch) | Calculates the approximate number of different argument values, using the Theta Sketch Framework. |
| [quantileDeterministic](/sql-reference/aggregate-functions/reference/quantiledeterministic) | Computes an approximate quantile of a numeric data sequence. |
| [simpleLinearRegression](/sql-reference/aggregate-functions/reference/simplelinearregression) | Performs simple (unidimensional) linear regression. |
| [covarPop](/sql-reference/aggregate-functions/reference/covarpop) | Calculates the population covariance |
| [groupBitmapXor](/sql-reference/aggregate-functions/reference/groupbitmapxor) | Calculates the XOR of a bitmap column, and returns the cardinality of type UInt64, if used with suffix -State, then it returns a bitmap object |
| [maxMap](/sql-reference/aggregate-functions/reference/maxmap) | Calculates the maximum from `value` array according to the keys specified in the `key` array. |
| [varPopStable](/sql-reference/aggregate-functions/reference/varpopstable) | Returns the population variance. Unlike varPop , this function uses a numerically stable algorithm. It works slower but provides a lower computational error. |
| [avg](/sql-reference/aggregate-functions/reference/avg) | Calculates the arithmetic mean. |
| [kurtPop](/sql-reference/aggregate-functions/reference/kurtpop) | Computes the kurtosis of a sequence. |
| [aggThrow](/sql-reference/aggregate-functions/reference/aggthrow) | This function can be used for the purpose of testing exception safety. It will throw an exception on creation with the specified probability. |
| [argMin](/sql-reference/aggregate-functions/reference/argmin) | Calculates the `arg` value for a minimum `val` value. If there are multiple rows with equal `val` being the maximum, which of the associated `arg` is returned is not deterministic. |
| [first_value](/sql-reference/aggregate-functions/reference/first_value) | It is an alias for any but it was introduced for compatibility with Window Functions, where sometimes it's necessary to process `NULL` values (by default all ClickHouse aggregate functions ignore NULL values). |
| [sumKahan](/sql-reference/aggregate-functions/reference/sumkahan) | Calculates the sum of the numbers with Kahan compensated summation algorithm |
| [count](/sql-reference/aggregate-functions/reference/count) | Counts the number of rows or not-NULL values. |
| [deltaSumTimestamp](/sql-reference/aggregate-functions/reference/deltasumtimestamp) | Adds the difference between consecutive rows. If the difference is negative, it is ignored. |
| [studentTTest](/sql-reference/aggregate-functions/reference/studentttest) | Applies Student's t-test to samples from two populations. |
| [sumWithOverflow](/sql-reference/aggregate-functions/reference/sumwithoverflow) | Computes the sum of the numbers, using the same data type for the result as for the input parameters. If the sum exceeds the maximum value for this data type, it is calculated with overflow. |
| [sum](/sql-reference/aggregate-functions/reference/sum) | Calculates the sum. Only works for numbers. |
| [boundingRatio](/sql-reference/aggregate-functions/reference/boundingRatio) | Aggregate function that calculates the slope between the leftmost and rightmost points across a group of values. |
| [uniqExact](/sql-reference/aggregate-functions/reference/uniqexact) | Calculates the exact number of different argument values. |
| [exponentialTimeDecayedCount](/sql-reference/aggregate-functions/reference/exponentialTimeDecayedCount) | Returns the cumulative exponential decay over a time series at the index `t` in time. |
| [sumCount](/sql-reference/aggregate-functions/reference/sumcount) | Calculates the sum of the numbers and counts the number of rows at the same time. The function is used by ClickHouse query optimizer: if there are multiple `sum`, `count` or `avg` functions in a query, they can be replaced to single `sumCount` function to reuse the calculations. The function is rarely needed to use explicitly. |
| [varSampStable](/sql-reference/aggregate-functions/reference/varsampstable) | Calculate the sample variance of a data set. Unlike `varSamp` , this function uses a numerically stable algorithm. It works slower but provides a lower computational error. |
| [topK](/sql-reference/aggregate-functions/reference/topk) | Returns an array of the approximately most frequent values in the specified column. The resulting array is sorted in descending order of approximate frequency of values (not by the values themselves). |
| [maxIntersectionsPosition](/sql-reference/aggregate-functions/reference/maxintersectionsposition) | Aggregate function that calculates the positions of the occurrences of the maxIntersections function. |
| [stddevSampStable](/sql-reference/aggregate-functions/reference/stddevsampstable) | The result is equal to the square root of varSamp. Unlike this function uses a numerically stable algorithm. |
| [varPop](/en/sql-reference/aggregate-functions/reference/varPop) | Calculates the population variance. |
| [quantileExactWeighted](/sql-reference/aggregate-functions/reference/quantileexactweighted) | Exactly computes the quantile of a numeric data sequence, taking into account the weight of each element. |
| [covarPopMatrix](/sql-reference/aggregate-functions/reference/covarpopmatrix) | Returns the population covariance matrix over N variables. |
| [sparkbar](/sql-reference/aggregate-functions/reference/sparkbar) | The function plots a frequency histogram for values `x` and the repetition rate `y` of these values over the interval `[min_x, max_x]`. |
| [contingency](/sql-reference/aggregate-functions/reference/contingency) | The `contingency` function calculates the contingency coefficient, a value that measures the association between two columns in a table. The computation is similar to the `cramersV` function but with a different denominator in the square root. |
| [stochasticLinearRegression](/sql-reference/aggregate-functions/reference/stochasticlinearregression) | This function implements stochastic linear regression. It supports custom parameters for learning rate, L2 regularization coefficient, mini-batch size, and has a few methods for updating weights (Adam, simple SGD, Momentum, Nesterov.) |
| [analysisOfVariance](/sql-reference/aggregate-functions/reference/analysis_of_variance) | Provides a statistical test for one-way analysis of variance (ANOVA test). It is a test over several groups of normally distributed observations to find out whether all groups have the same mean or not. |
| [groupConcat](/sql-reference/aggregate-functions/reference/groupconcat) | Calculates a concatenated string from a group of strings, optionally separated by a delimiter, and optionally limited by a maximum number of elements. |
| [exponentialTimeDecayedMax](/sql-reference/aggregate-functions/reference/exponentialTimeDecayedMax) | Returns the maximum of the computed exponentially smoothed moving average at index `t` in time with that at `t-1`.  |
| [any](/sql-reference/aggregate-functions/reference/any) | Selects the first encountered value of a column. |
| [covarSampMatrix](/sql-reference/aggregate-functions/reference/covarsampmatrix) | Returns the sample covariance matrix over N variables. |
| [groupArrayLast](/sql-reference/aggregate-functions/reference/grouparraylast) | Creates an array of the last argument values. |
| [singleValueOrNull](/sql-reference/aggregate-functions/reference/singlevalueornull) | The aggregate function `singleValueOrNull` is used to implement subquery operators, such as `x = ALL (SELECT ...)`. It checks if there is only one unique non-NULL value in the data. |
| [theilsU](/sql-reference/aggregate-functions/reference/theilsu) | The `theilsU` function calculates the Theil's U uncertainty coefficient, a value that measures the association between two columns in a table. |
| [cramersV](/sql-reference/aggregate-functions/reference/cramersv) | The result of the `cramersV` function ranges from 0 (corresponding to no association between the variables) to 1 and can reach 1 only when each value is completely determined by the other. It may be viewed as the association between two variables as a percentage of their maximum possible variation. |
| [last_value](/sql-reference/aggregate-functions/reference/last_value) | Selects the last encountered value, similar to `anyLast`, but could accept NULL. |
| [quantileTiming](/sql-reference/aggregate-functions/reference/quantiletiming) | With the determined precision computes the quantile of a numeric data sequence. |
| [groupBitmap](/sql-reference/aggregate-functions/reference/groupbitmap) | Bitmap or Aggregate calculations from a unsigned integer column, return cardinality of type UInt64, if add suffix -State, then return a bitmap object |
| [minMap](/sql-reference/aggregate-functions/reference/minmap) | Calculates the minimum from `value` array according to the keys specified in the `key` array. |
| [exponentialTimeDecayedAvg](/sql-reference/aggregate-functions/reference/exponentialTimeDecayedAvg) | Returns the exponentially smoothed weighted moving average of values of a time series at point `t` in time. |
| [skewPop](/sql-reference/aggregate-functions/reference/skewpop) | Computes the skewness of a sequence. |
| [mannWhitneyUTest](/sql-reference/aggregate-functions/reference/mannwhitneyutest) | Applies the Mann-Whitney rank test to samples from two populations. |
| [quantileGK](/sql-reference/aggregate-functions/reference/quantileGK) | Computes the quantile of a numeric data sequence using the Greenwald-Khanna algorithm. |
| [groupArrayIntersect](/sql-reference/aggregate-functions/reference/grouparrayintersect) | Return an intersection of given arrays (Return all items of arrays, that are in all given arrays). |
| [estimateCompressionRatio](/sql-reference/aggregate-functions/reference/estimateCompressionRatio) | Estimates the compression ratio of a given column without compressing it. |
| [groupArraySample](/sql-reference/aggregate-functions/reference/grouparraysample) | Creates an array of sample argument values. The size of the resulting array is limited to `max_size` elements. Argument values are selected and added to the array randomly. |
| [stddevSamp](/sql-reference/aggregate-functions/reference/stddevsamp) | The result is equal to the square root of varSamp |
| [quantile](/sql-reference/aggregate-functions/reference/quantile) | Computes an approximate quantile of a numeric data sequence. |
| [groupArray](/sql-reference/aggregate-functions/reference/grouparray) | Creates an array of argument values. Values can be added to the array in any (indeterminate) order. |
| [exponentialTimeDecayedSum](/sql-reference/aggregate-functions/reference/exponentialTimeDecayedSum) | Returns the sum of exponentially smoothed moving average values of a time series at the index `t` in time. |
| [categoricalInformationValue](/sql-reference/aggregate-functions/reference/categoricalinformationvalue) | Calculates the value of `(P(tag = 1) - P(tag = 0))(log(P(tag = 1)) - log(P(tag = 0)))` for each category. |
| [corr](/sql-reference/aggregate-functions/reference/corr) | Calculates the Pearson correlation coefficient. |
| [approx_top_k](/sql-reference/aggregate-functions/reference/approxtopk) | Returns an array of the approximately most frequent values and their counts in the specified column. |
| [corrMatrix](/sql-reference/aggregate-functions/reference/corrmatrix) | Computes the correlation matrix over N variables. |
| [quantileDD](/sql-reference/aggregate-functions/reference/quantileddsketch) | Computes an approximate quantile of a sample with relative-error guarantees. |
| [anyHeavy](/sql-reference/aggregate-functions/reference/anyheavy) | Selects a frequently occurring value using the heavy hitters algorithm. If there is a value that occurs more than in half the cases in each of the query's execution threads, this value is returned. Normally, the result is nondeterministic. |
| [quantileBFloat16](/sql-reference/aggregate-functions/reference/quantilebfloat16) | Computes an approximate quantile of a sample consisting of bfloat16 numbers. |
| [max](/sql-reference/aggregate-functions/reference/max) | Aggregate function that calculates the maximum across a group of values. |
| [groupBitXor](/sql-reference/aggregate-functions/reference/groupbitxor) | Applies bit-wise `XOR` for series of numbers. |
| [quantileTimingWeighted](/sql-reference/aggregate-functions/reference/quantiletimingweighted) | With the determined precision computes the quantile of a numeric data sequence according to the weight of each sequence member. |
| [quantileInterpolatedWeighted](/sql-reference/aggregate-functions/reference/quantileInterpolatedWeighted) | Computes quantile of a numeric data sequence using linear interpolation, taking into account the weight of each element. |
| [stddevPop](/sql-reference/aggregate-functions/reference/stddevpop) | The result is equal to the square root of varPop. |
| [uniqCombined](/sql-reference/aggregate-functions/reference/uniqcombined) | Calculates the approximate number of different argument values. |
| [covarPopStable](/sql-reference/aggregate-functions/reference/covarpopstable) | Calculates the value of the population covariance |
| [argMax](/sql-reference/aggregate-functions/reference/argmax) | Calculates the `arg` value for a maximum `val` value. |
| [groupBitOr](/sql-reference/aggregate-functions/reference/groupbitor) | Applies bit-wise `OR` to a series of numbers. |
| [quantileTDigestWeighted](/sql-reference/aggregate-functions/reference/quantiletdigestweighted) | Computes an approximate quantile of a numeric data sequence using the t-digest algorithm. |
| [distinctDynamicTypes](/sql-reference/aggregate-functions/reference/distinctdynamictypes) | Calculates the list of distinct data types stored in Dynamic column. |
| [sumMap](/sql-reference/aggregate-functions/reference/summap) | Totals a `value` array according to the keys specified in the `key` array. Returns a tuple of two arrays: keys in sorted order, and values summed for the corresponding keys without overflow. |
| [kurtSamp](/sql-reference/aggregate-functions/reference/kurtsamp) | Computes the sample kurtosis of a sequence. |
| [stochasticLogisticRegression](/sql-reference/aggregate-functions/reference/stochasticlogisticregression) | This function implements stochastic logistic regression. It can be used for binary classification problem, supports the same custom parameters as stochasticLinearRegression and works the same way. |
| [exponentialMovingAverage](/sql-reference/aggregate-functions/reference/exponentialMovingAverage) | Calculates the exponential moving average of values for the determined time. |
| [uniqCombined64](/sql-reference/aggregate-functions/reference/uniqcombined64) | Calculates the approximate number of different argument values. It is the same as uniqCombined, but uses a 64-bit hash for all data types rather than just for the String data type. |
| [meanZTest](/sql-reference/aggregate-functions/reference/meanztest) | Applies mean z-test to samples from two populations. |
| [uniqHLL12](/sql-reference/aggregate-functions/reference/uniqhll12) | Calculates the approximate number of different argument values, using the HyperLogLog algorithm. |
| [groupArrayArray](/sql-reference/aggregate-functions/reference/grouparrayarray) | Aggregates arrays into a larger array of those arrays. |
| [groupUniqArray](/sql-reference/aggregate-functions/reference/groupuniqarray) | Creates an array from different argument values. |
| [groupBitAnd](/sql-reference/aggregate-functions/reference/groupbitand) | Applies bit-wise `AND` for series of numbers. |
| [deltaSum](/sql-reference/aggregate-functions/reference/deltasum) | Sums the arithmetic difference between consecutive rows. |
| [groupArraySorted](/sql-reference/aggregate-functions/reference/grouparraysorted) | Returns an array with the first N items in ascending order. |
| [quantileExact Functions](/sql-reference/aggregate-functions/reference/quantileexact) | quantileExact, quantileExactLow, quantileExactHigh, quantileExactExclusive, quantileExactInclusive functions |
