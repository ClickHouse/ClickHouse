include("${ClickHouse_SOURCE_DIR}/cmake/dbms_glob_sources.cmake")
add_headers_and_sources(clickhouse_functions_extractkeyvaluepairs .)
add_headers_and_sources(clickhouse_functions_extractkeyvaluepairs impl)
add_headers_and_sources(clickhouse_functions_extractkeyvaluepairs impl/state)

add_library(clickhouse_functions_extractkeyvaluepairs ${clickhouse_functions_extractkeyvaluepairs_sources} ${clickhouse_functions_extractkeyvaluepairs_headers} impl/CHKeyValuePairExtractor.h impl/state/InlineEscapingKeyStateHandler.h impl/state/InlineEscapingValueStateHandler.h KeyValuePairExtractorBuilder.cpp KeyValuePairExtractorBuilder.h impl/state/NoEscapingKeyStateHandler.h impl/state/NoEscapingValueStateHandler.h impl/state/InlineEscapingKeyStateHandler.cpp impl/state/InlineEscapingValueStateHandler.cpp impl/state/NoEscapingKeyStateHandler.cpp impl/state/NoEscapingValueStateHandler.cpp)

target_link_libraries(clickhouse_functions_extractkeyvaluepairs PRIVATE dbms)