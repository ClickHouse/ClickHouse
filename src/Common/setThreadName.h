#pragma once
#include <string>

namespace DB
{

enum class ThreadName : uint8_t
{
    UNKNOWN = 0,
    AGGREGATED_ZOOKEEPER_LOG,
    AGGREGATOR_DESTRUCTION,
    AGGREGATOR_POOL,
    ARROW_FILE,
    ARROW_FLIGHT,
    ARROW_FLIGHT_EXPR,
    ARROW_FLIGHT_SERVER,
    ASYNC_COPY,
    ASYNC_INSERT_QUEUE,
    ASYNC_LOGGER,
    ASYNC_METRICS,
    ASYNC_TABLE_LOADER,
    ASYNC_TEXT_LOG,
    AZURE_BACKUP_READER,
    AZURE_BACKUP_WRITER,
    AZURE_COPY_POOL,
    AZURE_LIST_POOL,
    BACKGROUND_SCHEDULE_POOL,
    BACKGROUND_BUFFER_FLUSH_SCHEDULE_POOL,
    BACKUP_ASYNC,
    BACKUP_ASYNC_INTERNAL,
    BACKUP_COLLECTOR,
    BACKUP_COORDINATION,
    BACKUP_COORDINATION_INTERNAL,
    BACKUP_WORKER,
    CACHE_DICTIONARY_UPDATE_QUEUE,
    CGROUP_MEMORY_OBSERVER,
    CLICKHOUSE_WATCH,
    CLUSTER_DISCOVERY,
    COMPLETED_PIPELINE_EXECUTOR,
    CONFIG_RELOADER,
    CONCURRENT_JOIN,
    CREATE_TABLES,
    CUSTOM_RESOURCE_MANAGER,
    DATABASE_BACKUP,
    DATABASE_ON_DISK,
    DATABASE_REPLICAS,
    DEFAULT_THREAD_POOL,
    DETACHED_PARTS_BYTES,
    DICT_RELOAD,
    DISTRIBUTED_FLUSH,
    DISTRIBUTED_INIT,
    DISTRIBUTED_SCHEDULE_POOL,
    DISTRIBUTED_SINK,
    DDL_WORKER,
    DDL_WORKER_CLEANUP,
    DDL_WORKER_EXECUTER,
    DROP_TABLES,
    DATALAKE_REST_CATALOG,
    DATALAKE_TABLE_SNAPSHOT,
    DWARF_DECODER,
    ERROR_LOG,
    EXTERNAL_LOADER,
    GRPC_SERVER_CALL,
    GRPC_SERVER_QUEUE,
    HASHED_DICT_DTOR,
    HASHED_DICT_LOAD,
    HTTP_HANDLER,
    INTERSERVER_HANDLER,
    IO_URING_MONITOR,
    KAFKA_BACKGROUND,
    KAFKA_BROKER,
    KAFKA_CLEANUP,
    KAFKA_MAIN,
    KEEPER_HANDLER,
    KEEPER_REQUEST,
    KEEPER_RESPONSE,
    KEEPER_SNAPSHOT,
    KEEPER_SNAPSHOT_S3,
    LOAD_MARKS,
    LOCAL_SERVER_PTY,
    MEMORY_WORKER,
    MERGE_MUTATE,
    MERGETREE_COMMON,
    MERGETREE_FETCH,
    MERGETREE_FETCH_PARTITION,
    MERGETREE_FREEZE_PART,
    MERGETREE_INDEX,
    MERGETREE_LOAD_ACTIVE_PARTS,
    MERGETREE_LOAD_OUTDATED_PARTS,
    MERGETREE_LOAD_UNEXPECTED_PARTS,
    MERGETREE_MOVE,
    MERGETREE_PARTS_CLEANUP,
    MERGETREE_PREWARM_CACHE,
    MERGETREE_READ,
    MERGETREE_VECTOR_SIM_INDEX,
    METRIC_LOG,
    METRICS_TRANSMITTER,
    MSG_BROKER_SCHEDULE_POOL,
    MYSQL_DATABASE_CLEANUP,
    MYSQL_HANDLER,
    OBJECT_STORAGE_SHUTDOWN,
    ORC_FILE,
    PARALLEL_COMPRESSORS_POOL,
    PARALLEL_FORMATER,
    PARALLEL_FORMATER_COLLECTOR,
    PARALLEL_FORMATER_PARSER,
    PARALLEL_PARSING_SEGMENTATOR,
    PARALLEL_READ,
    PARALLEL_WITH_QUERY,
    PARQUET_DECODER,
    PARQUET_ENCODER,
    PARQUET_PREFETCH,
    PLAIN_REWRITABLE_META_LOAD,
    POOL_DELAYED_EXECUTION,
    POSTGRES_HANDLER,
    POLYGON_DICT_LOAD,
    PREFIX_READER,
    PREFETCH_READER,
    PRETTY_WRITER,
    PROMETHEUS_HANDLER,
    PUSHING_ASYNC_EXECUTOR,
    PULLING_ASYNC_EXECUTOR,
    QUERY_ASYNC_EXECUTOR,
    READER_POOL,
    READ_TASK_ITERATOR,
    READ_THREAD_POOL,
    REMOTE_FS_READ_THREAD_POOL,
    REMOTE_FS_WRITE_THREAD_POOL,
    RESTORE_COORDINATION_INTERNAL,
    RESTORE_COORDINATION,
    RESTORE_FIND_TABLE,
    RESTORE_MAKE_DATABASE,
    RESTORE_MAKE_TABLE,
    RESTORE_TABLE_DATA,
    RESTORE_TABLE_TASK,
    RUNTIME_DATA,
    S3_BACKUP_READER,
    S3_BACKUP_WRITER,
    S3_COPY_POOL,
    S3_LIST_POOL,
    SEND_TO_SHELL_CMD,
    SESSION_CLEANUP,
    SUGGEST,
    SYSTEM_LOG_FLUSH,
    SYSTEM_REPLICAS,
    TCP_HANDLER,
    TEST_KEEPER_PROC,
    TEST_SCHEDULER,
    TRACE_COLLECTOR,
    TRANSPOSED_METRIC_LOG,
    TRUNCATE_TABLE,
    UNIQ_EXACT_CONVERT,
    UNIQ_EXACT_MERGER,
    USER_DEFINED_WATCH,
    WORKLOAD_ENTRY_WATCH,
    WORKLOAD_RESOURCE_MANAGER,
    ZOOKEEPER_ACL_WATCHER,
    ZOOKEEPER_RECV,
    ZOOKEEPER_SEND,
};

static_assert(sizeof(enum ThreadName) == 1, "ThreadName enum size is larger than 1 byte");

/** Sets the thread name (maximum length is 15 bytes),
  *  which will be visible in ps, gdb, /proc,
  *  for convenience of observation and debugging.
  *
  */
void setThreadName(ThreadName name);
ThreadName getThreadName();

std::string toString(ThreadName name);
ThreadName parseThreadName(const std::string & name);

}
