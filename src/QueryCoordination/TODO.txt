1. initial query send other node and fragments

2. tree rewrite with local table, need new distributed table interpreter. replace distributed to local and cluster
   if remote table function, initial query location may not has local table need create StorageNull ?


3. join fragment build: d join d, d join l, l join d, l join l. If d join l or l join d, remote not exists l table throw exception

4. every source step need cluster or local information

5. maybe distributed table replace to local table. local table replace to local table, if not exists create StorageNull, columns getStructureOfRemoteTable.

6. consider cluster A (A,B,C)  cluster D (D,E,F)

   select * from d1(A) join (select * from d2(D) join l)

   sql will send to (A,B,C,D,E,F), but l only in (D,E,F), then (A,B,C) will exception, so when local table not exists, we create StorageNull



IStorageCluster (DB)
    StorageS3Cluster (DB)
IStorageSystemOneBlock (DB)
    StorageSystemAggregateFunctionCombinators (DB)
    StorageSystemAsynchronousInserts (DB)
    StorageSystemAsynchronousMetrics (DB)
    StorageSystemBackups (DB)
    StorageSystemBuildOptions (DB)
    StorageSystemCertificates (DB)
    StorageSystemClusters (DB)
    StorageSystemCollations (DB)
    StorageSystemContributors (DB)
    StorageSystemCurrentRoles (DB)
    StorageSystemDatabases (DB)
    StorageSystemDataTypeFamilies (DB)
    StorageSystemDDLWorkerQueue (DB)
    StorageSystemDictionaries (DB)
    StorageSystemDistributionQueue (DB)
    StorageSystemDroppedTables (DB)
    StorageSystemEnabledRoles (DB)
    StorageSystemErrors (DB)
    StorageSystemEvents (DB)
    StorageSystemFilesystemCache (DB)
    StorageSystemFormats (DB)
    StorageSystemFunctions (DB)
    StorageSystemGrants (DB)
    StorageSystemGraphite (DB)
    StorageSystemLicenses (DB)
    StorageSystemMacros (DB)
    StorageSystemMerges (DB)
    StorageSystemMergeTreeMetadataCache (DB)
    StorageSystemMetrics (DB)
    StorageSystemModels (DB)
    StorageSystemMoves (DB)
    StorageSystemMutations (DB)
    StorageSystemNamedCollections (DB)
    StorageSystemPartMovesBetweenShards (DB)
    StorageSystemPrivileges (DB)
    StorageSystemProcesses (DB)
    StorageSystemQueryCache (DB)
    StorageSystemQuotaLimits (DB)
    StorageSystemQuotas (DB)
    StorageSystemQuotasUsage (DB)
    StorageSystemQuotaUsage (DB)
    StorageSystemReplicatedFetches (DB)
    StorageSystemReplicationQueue (DB)
    StorageSystemRocksDB (DB)
    StorageSystemRoleGrants (DB)
    StorageSystemRoles (DB)
    StorageSystemRowPolicies (DB)
    StorageSystemSchemaInferenceCache (DB)
    StorageSystemServerSettings (DB)
    StorageSystemSettings (DB)
    StorageSystemSettingsChanges (DB)
    StorageSystemSettingsProfileElements (DB)
    StorageSystemSettingsProfiles (DB)
    StorageSystemTableEngines (DB)
    StorageSystemTableFunctions (DB)
    StorageSystemTimeZones (DB)
    StorageSystemTransactions (DB)
    StorageSystemUserDirectories (DB)
    StorageSystemUsers (DB)
    StorageSystemWarnings (DB)
    SystemMergeTreeSettings (DB)
IStorageURLBase (DB)
    StorageURL (DB)
    StorageXDBC (DB)
MergeTreeData (DB)
    StorageMergeTree (DB)
    StorageReplicatedMergeTree (DB)
StorageBlocks (DB)
StorageBuffer (DB)
StorageDictionary (DB)
StorageDistributed (DB)
StorageDummy (DB)
StorageEmbeddedRocksDB (DB)
StorageExecutable (DB)
StorageExternalDistributed (DB)
StorageFile (DB)
StorageFromMergeTreeDataPart (DB)
StorageGenerateRandom (DB)
StorageInput (DB)
StorageKafka (DB)
StorageKeeperMap (DB)
StorageLiveView (DB)
StorageLog (DB)
StorageMaterializedPostgreSQL (DB)
StorageMaterializedView (DB)
StorageMeiliSearch (DB)
StorageMemory (DB)
StorageMerge (DB)
StorageMongoDB (DB)
StorageNATS (DB)
StorageNull (DB)
StoragePostgreSQL (DB)
StorageProxy (DB)
    StorageTableFunctionProxy (DB)
StorageRabbitMQ (DB)
StorageS3 (DB)
StorageSetOrJoinBase (DB)
    StorageJoin (DB)
    StorageSet (DB)
StorageSQLite (DB)
StorageStripeLog (DB)
StorageSystemColumns (DB)
StorageSystemDataSkippingIndices (DB)
StorageSystemDetachedParts (DB)
StorageSystemDisks (DB)
StorageSystemNumbers (DB)
StorageSystemOne (DB)
StorageSystemPartsBase (DB)
StorageSystemRemoteDataPaths (DB)
StorageSystemReplicas (DB)
StorageSystemStoragePolicies (DB)
StorageSystemTables (DB)
StorageSystemZeros (DB)
StorageSystemZooKeeper (DB)
StorageValues (DB)
StorageView (DB)
StorageWindowView (DB)
