{% if page and page.meta %}
<script type="application/ld+json">[{
"@context": "http://schema.org",
"@type": "{% if is_blog %}BlogPosting{% else %}TechArticle{% endif %}",
"headline": "{{ title }}",
"mainEntityOfPage": "{{ url or 'https://clickhouse.tech/' }}",
{% if page.meta.date %}
"datePublished": "{{ page.meta.date }}",
"dateModified": "{{ page.meta.date }}",
{% else %}
{% if page.meta.published_date %}"datePublished": "{{ page.meta.published_date.isoformat() }}",{% endif %}
{% if page.meta.modified_date %}"dateModified": "{{ page.meta.modified_date.isoformat() }}",{% endif %}
{% endif %}
"image": "{{ page.meta.image or 'https://clickhouse.tech/images/logo-209x60.png' }}",
"author": {
  "@type": "Project",
  "name": "ClickHouse"
},
"publisher": {
  "@type": "Organization",
  "name": "Yandex LLC",
  "logo": {
    "@type": "ImageObject",
    "url": "https://clickhouse.tech/images/yandex.png",
    "width": 163,
    "height": 60
  }
}}{% if not is_blog %}, {
"@context": "http://schema.org",
"@type": "Episode",
"name": "{{ title }}",
"aggregateRating": {
  "@type": "AggregateRating",
  "ratingValue": RATING_VALUE,
  "ratingCount": RATING_COUNT
}
}{% endif %}]</script>
{% endif %}
