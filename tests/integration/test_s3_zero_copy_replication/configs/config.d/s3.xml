<clickhouse>
    <enable_system_unfreeze>true</enable_system_unfreeze>
    <storage_configuration>
        <disks>
            <s31>
                <type>s3</type>
                <endpoint>http://minio1:9001/root/data/</endpoint>
                <access_key_id>minio</access_key_id>
                <secret_access_key>minio123</secret_access_key>
                <send_metadata>true</send_metadata>
            </s31>
            <s31_again>
                <type>s3</type>
                <endpoint>http://minio1:9001/root/data/</endpoint>
                <access_key_id>minio</access_key_id>
                <secret_access_key>minio123</secret_access_key>
                <send_metadata>true</send_metadata>
            </s31_again>
            <s32>
                <type>s3</type>
                <endpoint>http://minio1:9001/root/data2/</endpoint>
                <access_key_id>minio</access_key_id>
                <secret_access_key>minio123</secret_access_key>
                <send_metadata>true</send_metadata>
            </s32>
        </disks>
        <policies>
            <s3>
                <volumes>
                    <main>
                        <disk>s31</disk>
                    </main>
                </volumes>
            </s3>
            <hybrid>
                <volumes>
                    <main>
                        <disk>default</disk>
                    </main>
                    <external>
                        <disk>s31</disk>
                    </external>
                </volumes>
                <move_factor>0.0</move_factor>
            </hybrid>
            <tiered>
                <volumes>
                    <main>
                        <disk>s31</disk>
                    </main>
                    <external>
                        <disk>s32</disk>
                    </external>
                </volumes>
            </tiered>
            <tiered_copy>
                <volumes>
                    <main>
                        <disk>s31</disk>
                    </main>
                    <external>
                        <disk>s31_again</disk>
                    </external>
                </volumes>
            </tiered_copy>
        </policies>
    </storage_configuration>

    <merge_tree>
        <min_bytes_for_wide_part>1024</min_bytes_for_wide_part>
        <old_parts_lifetime>1</old_parts_lifetime>
        <disable_freeze_partition_for_zero_copy_replication>0</disable_freeze_partition_for_zero_copy_replication>
        <disable_detach_partition_for_zero_copy_replication>0</disable_detach_partition_for_zero_copy_replication>
        <disable_fetch_partition_for_zero_copy_replication>0</disable_fetch_partition_for_zero_copy_replication>
        <allow_remote_fs_zero_copy_replication>true</allow_remote_fs_zero_copy_replication>
        <ratio_of_defaults_for_sparse_serialization>1.0</ratio_of_defaults_for_sparse_serialization>
    </merge_tree>

    <remote_servers>
        <test_cluster>
            <shard>
                <replica>
                    <host>node1</host>
                    <port>9000</port>
                </replica>
            </shard>
            <shard>
                <replica>
                    <host>node2</host>
                    <port>9000</port>
                </replica>
            </shard>
        </test_cluster>
    </remote_servers>

    <macros>
        <cluster>test_cluster</cluster>
    </macros>

    <allow_remove_stale_moving_parts>true</allow_remove_stale_moving_parts>
</clickhouse>
