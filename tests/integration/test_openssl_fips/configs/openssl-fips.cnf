# OpenSSL configuration file to enable FIPS in applications.
# See the fips_module(7) manual page.
#
# Usage: set environment variable: OPENSSL_CONF=/etc/ssl/openssl-fips.cnf

# Prevent accidental use of non-FIPS validated algorithms via broken or mistaken
# configuration. See config(5).
config_diagnostics = 1
openssl_conf = openssl_init

# For FIPS
# Include a file that is generated by the OpenSSL fipsinstall application. This
# file contains configuration data required by the OpenSSL fips provider. It
# contains a named section e.g. [fips_sect] which is referenced from the
# [provider_sect] below.  Refer to the OpenSSL security policy for more
# information.
.include /etc/ssl/fipsmodule.cnf

[openssl_init]
providers = provider_sect
alg_section = algorithm_sect
ssl_conf = ssl_sect

[provider_sect]
fips = fips_sect
base = base_sect

[base_sect]
activate = 1

[algorithm_sect]
default_properties = fips=yes

[ssl_sect]
system_default = tls_curves_sect

[tls_curves_sect]
# Explicitly set curve preferences to:
# - Disable X25519 in FIPS mode. This workaround won't be needed anymore once
#   OpenSSL FIPS provider 3.4.0 or newer is validated and in use.
Curves = P-256:P-384:P-521
