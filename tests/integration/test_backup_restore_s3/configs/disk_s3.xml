<?xml version="1.0"?>
<clickhouse>
    <storage_configuration>
        <disks>
            <disk_s3>
                <type>s3</type>
                <endpoint>http://minio1:9001/root/data/disks/disk_s3/</endpoint>
                <access_key_id>minio</access_key_id>
                <secret_access_key>minio123</secret_access_key>
            </disk_s3>
            <disk_s3_other_bucket>
                <type>s3</type>
                <endpoint>http://minio1:9001/root2/data/disks/disk_s3/</endpoint>
                <access_key_id>minio</access_key_id>
                <secret_access_key>minio123</secret_access_key>
            </disk_s3_other_bucket>
            <disk_s3_plain>
                <type>s3_plain</type>
                <endpoint>http://minio1:9001/root/data/disks/disk_s3_plain/</endpoint>
                <access_key_id>minio</access_key_id>
                <secret_access_key>minio123</secret_access_key>
                <s3_max_single_part_upload_size>33554432</s3_max_single_part_upload_size>
            </disk_s3_plain>
            <disk_s3_plain_rewritable>
                <type>s3_plain_rewritable</type>
                <endpoint>http://minio1:9001/root/data/disks/disk_s3_plain_rewritable/</endpoint>
                <access_key_id>minio</access_key_id>
                <secret_access_key>minio123</secret_access_key>
                <s3_max_single_part_upload_size>33554432</s3_max_single_part_upload_size>
            </disk_s3_plain_rewritable>
            <disk_s3_cache>
                <type>cache</type>
                <disk>disk_s3</disk>
                <path>/tmp/s3_cache/</path>
                <max_size>1000000000</max_size>
                <cache_on_write_operations>1</cache_on_write_operations>
            </disk_s3_cache>
        </disks>
        <policies>
            <policy_s3>
                <volumes>
                    <main>
                        <disk>disk_s3</disk>
                    </main>
                </volumes>
            </policy_s3>
            <policy_s3_plain>
                <volumes>
                    <main>
                        <disk>disk_s3_plain</disk>
                    </main>
                </volumes>
            </policy_s3_plain>
            <policy_s3_plain_rewritable>
                <volumes>
                    <main>
                        <disk>disk_s3_plain_rewritable</disk>
                    </main>
                </volumes>
            </policy_s3_plain_rewritable>
            <policy_s3_other_bucket>
                <volumes>
                    <main>
                        <disk>disk_s3_other_bucket</disk>
                    </main>
                </volumes>
            </policy_s3_other_bucket>
            <policy_s3_cache>
                <volumes>
                    <main>
                        <disk>disk_s3_cache</disk>
                    </main>
                </volumes>
            </policy_s3_cache>
        </policies>
    </storage_configuration>
    <backups>
        <allowed_disk>default</allowed_disk>
        <allowed_disk>disk_s3</allowed_disk>
        <allowed_disk>disk_s3_plain</allowed_disk>
        <allowed_disk>disk_s3_plain_rewritable</allowed_disk>
        <allowed_disk>disk_s3_cache</allowed_disk>
        <allowed_disk>disk_s3_other_bucket</allowed_disk>
    </backups>
</clickhouse>
