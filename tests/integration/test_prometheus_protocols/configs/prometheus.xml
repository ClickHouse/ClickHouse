<clickhouse>
    <prometheus>
        <port>9093</port>
        <handlers>
            <my_rule_1>
                <url>/write</url>
                <handler>
                    <type>remote_write</type>
                    <table>default.prometheus</table>
                </handler>
            </my_rule_1>
            <my_rule_2>
                <url>/read</url>
                <handler>
                    <type>remote_read</type>
                    <table>default.prometheus</table>
                </handler>
            </my_rule_2>

            <my_rule_3>
                <url>/read_auth_ok</url>
                <handler>
                    <type>remote_read</type>
                    <table>default.prometheus</table>
                    <user>default</user>
                </handler>
            </my_rule_3>

            <my_rule_4>
                <url>/read_auth_fail</url>
                <handler>
                    <type>remote_read</type>
                    <table>default.prometheus</table>
                    <user>no_such_user</user>
                </handler>
            </my_rule_4>

            <!-- Query API endpoints -->
            <my_rule_5>
                <url>/api/v1/query</url>
                <handler>
                    <type>query_api</type>
                    <table>default.prometheus</table>
                </handler>
            </my_rule_5>
            <my_rule_6>
                <url>/api/v1/query_range</url>
                <handler>
                    <type>query_api</type>
                    <table>default.prometheus</table>
                </handler>
            </my_rule_6>
            <my_rule_7>
                <url>/api/v1/series</url>
                <handler>
                    <type>query_api</type>
                    <table>default.prometheus</table>
                </handler>
            </my_rule_7>
            <my_rule_8>
                <url>/api/v1/labels</url>
                <handler>
                    <type>query_api</type>
                    <table>default.prometheus</table>
                </handler>
            </my_rule_8>
            <my_rule_9>
                <url>/api/v1/label/*/values</url>
                <handler>
                    <type>query_api</type>
                    <table>default.prometheus</table>
                </handler>
            </my_rule_9>
        </handlers>
    </prometheus>
</clickhouse>
