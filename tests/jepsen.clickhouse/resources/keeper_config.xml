<clickhouse>
    <listen_host>::</listen_host>

    <logger>
        <level>trace</level>
        <log>/var/log/clickhouse-keeper/clickhouse-keeper.log</log>
        <errorlog>/var/log/clickhouse-keeper/clickhouse-keeper.err.log</errorlog>
        <size>never</size>
    </logger>


    <storage_configuration>
        <disks>
            <log_local>
                <type>local</type>
                <path>/home/robot-clickhouse/db/coordination/logs/</path>
            </log_local>
            <latest_log_local>
                <type>local</type>
                <path>/home/robot-clickhouse/db/coordination/latest_log/</path>
            </latest_log_local>
            <snapshot_local>
                <type>local</type>
                <path>/home/robot-clickhouse/db/coordination/snapshots/</path>
            </snapshot_local>
            <latest_snapshot_local>
                <type>local</type>
                <path>/home/robot-clickhouse/db/coordination/latest_snapshot/</path>
            </latest_snapshot_local>
        </disks>
    </storage_configuration>

    <keeper_server>
        <tcp_port>9181</tcp_port>
        <server_id>{id}</server_id>
        <digest_enabled>1</digest_enabled>
        <use_xid_64>1</use_xid_64>

        <coordination_settings>
            <operation_timeout_ms>10000</operation_timeout_ms>
            <session_timeout_ms>30000</session_timeout_ms>
            <force_sync>false</force_sync>
            <startup_timeout>120000</startup_timeout>
            <raft_logs_level>trace</raft_logs_level>
            <heart_beat_interval_ms>1000</heart_beat_interval_ms>
            <election_timeout_lower_bound_ms>2000</election_timeout_lower_bound_ms>
            <election_timeout_upper_bound_ms>4000</election_timeout_upper_bound_ms>
            <quorum_reads>{quorum_reads}</quorum_reads>
            <snapshot_distance>{snapshot_distance}</snapshot_distance>
            <stale_log_gap>{stale_log_gap}</stale_log_gap>
            <reserved_log_items>{reserved_log_items}</reserved_log_items>
            <async_replication>1</async_replication>
        </coordination_settings>

        <raft_configuration>
            <server>
                <id>1</id>
                <hostname>{srv1}</hostname>
                <port>9444</port>
            </server>
            <server>
                <id>2</id>
                <hostname>{srv2}</hostname>
                <port>9444</port>
            </server>
            <server>
                <id>3</id>
                <hostname>{srv3}</hostname>
                <port>9444</port>
            </server>
        </raft_configuration>
    </keeper_server>
</clickhouse>
