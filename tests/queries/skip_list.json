/** List of tests which should be skipped depending on clickhouse build options.
  * This file in json format, but javascript-style comments are allowed.
  */
{
    "thread-sanitizer": [
        "00281",
        "00877",
        "00985",
        "avx2",
        "query_profiler",
        "memory_profiler",
        /// 01083 and 00505 and 00505 are critical and temproray disabled
        "01083_expressions_in_engine_arguments",
        "00505_shard_secure",
        "00505_secure",
        "01103_check_cpu_instructions_at_startup",
        "01098_temporary_and_external_tables", /// race in openssl (should be enabled as fast as possible)
        "00152_insert_different_granularity",
        "00151_replace_partition_with_different_granularity",
        "00157_cache_dictionary",
        "01193_metadata_loading"
    ],
    "address-sanitizer": [
        "00281",
        "00877",
        "avx2",
        "query_profiler",
        "memory_profiler",
        "odbc_roundtrip",
        "01103_check_cpu_instructions_at_startup",
        "01193_metadata_loading"
    ],
    "ub-sanitizer": [
        "00281",
        "capnproto",
        "avx2",
        "query_profiler",
        "memory_profiler",
        "01103_check_cpu_instructions_at_startup",
        "00900_orc_load",
        "01193_metadata_loading"
    ],
    "memory-sanitizer": [
        "00281",
        "capnproto",
        "avx2",
        "query_profiler",
        "memory_profiler",
        "01103_check_cpu_instructions_at_startup",
        "01086_odbc_roundtrip", /// can't pass because odbc libraries are not instrumented
        "00877_memory_limit_for_new_delete", /// memory limits don't work correctly under msan because it replaces malloc/free
        "01114_mysql_database_engine_segfault", /// it fails in _nss_files_parse_servent while using NSS from GLibc to authenticate (need to get rid of it)
        "01193_metadata_loading"
    ],
    "debug-build": [
        "00281",
        "avx2",
        "query_profiler",
        "memory_profiler",
        "00899_long_attach",
        "00980_alter_settings_race",
        "00834_kill_mutation_replicated_zookeeper",
        "00834_kill_mutation",
        "01200_mutations_memory_consumption",
        "01103_check_cpu_instructions_at_startup",
        "01037_polygon_dicts_",
        "hyperscan",
        "01193_metadata_loading",
        "01396_inactive_replica_cleanup_nodes"
    ],
    "unbundled-build": [
        "00429",
        "00428",
        "00877",
        "pocopatch",
        "parquet",
        "xxhash",
        "avx2",
        "_h3",
        "query_profiler",
        "memory_profiler",
        "orc_load",
        "01033_storage_odbc_parsing_exception_check",
        "avro",
        "01072_optimize_skip_unused_shards_const_expr_eval",
        "00505_secure",
        "00505_shard_secure",
        "odbc_roundtrip",
        "01103_check_cpu_instructions_at_startup",
        "01114_mysql_database_engine_segfault",
        "00834_cancel_http_readonly_queries_on_client_close",
        "_arrow",
        "01099_parallel_distributed_insert_select",
        "01300_client_save_history_when_terminated",
        "orc_output",
        "01370_client_autocomplete_word_break_characters",
        "01193_metadata_loading",
        "01455_time_zones"
    ],
    "release-build": [
        "avx2"
    ],
    "database-atomic": [
        "00065_loyalty_with_storage_join",
        "avx",
        /// Inner tables of materialized views have different names
        "00738_lock_for_inner_table",
        "00699_materialized_view_mutations",
        "00609_mv_index_in_in",
        "00510_materizlized_view_and_deduplication_zookeeper",
        /// Create queries contain UUID
        "00604_show_create_database",
        "00080_show_tables_and_system_tables",
        "01272_suspicious_codecs",
        /// UUID must be specified in ATTACH TABLE
        "01249_bad_arguments_for_bloom_filter",
        "00423_storage_log_single_thread",
        "00311_array_primary_key",
        "00226_zookeeper_deduplication_and_unexpected_parts",
        "00180_attach_materialized_view",
        "00116_storage_set",
        /// Assumes blocking DROP
        "00816_long_concurrent_alter_column",
        "00992_system_parts_race_condition_zookeeper", /// FIXME
        "01320_create_sync_race_condition",
        "01305_replica_create_drop_zookeeper",
        "01130_in_memory_parts_partitons",
        "01225_show_create_table_from_dictionary",
        "01231_distributed_aggregation_memory_efficient_mix_levels",
        "01232_extremes",
        "01238_http_memory_tracking",
        "01249_bad_arguments_for_bloom_filter",
        "01251_dict_is_in_infinite_loop",
        "01254_dict_create_without_db",
        "01254_dict_load_after_detach_attach",
        "01257_dictionary_mismatch_types",
        "01259_dictionary_custom_settings_ddl",
        "01267_alter_default_key_columns_zookeeper",
        "01268_dictionary_direct_layout",
        "01269_alias_type_differs",
        "01272_suspicious_codecs",
        "01277_alter_rename_column_constraint_zookeeper",
        "01280_ssd_complex_key_dictionary",
        "01280_ttl_where_group_by",
        "01281_group_by_limit_memory_tracking",
        "01281_unsucceeded_insert_select_queries_counter",
        "01293_system_distribution_queue",
        "01294_lazy_database_concurrent",
        "01294_lazy_database_concurrent_recreate_reattach_and_show_tables",
        "01294_system_distributed_on_cluster",
        "01296_create_row_policy_in_current_database",
        "01305_replica_create_drop_zookeeper",
        "01307_multiple_leaders_zookeeper",
        "01318_long_unsuccessful_mutation_zookeeper",
        "01319_manual_write_to_replicas",
        "01320_create_sync_race_condition_zookeeper",
        "01338_long_select_and_alter",
        "01338_long_select_and_alter_zookeeper",
        "01355_alter_column_with_order",
        "01355_ilike",
        "01357_version_collapsing_attach_detach_zookeeper",
        "01375_compact_parts_codecs",
        "01376_GROUP_BY_injective_elimination_dictGet",
        "01378_alter_rename_with_ttl_zookeeper",
        "01383_remote_ambiguous_column_shard",
        "01388_clear_all_columns",
        "01391_join_on_dict_crash",
        "01392_column_resolve",
        "01396_inactive_replica_cleanup_nodes_zookeeper",
        "01412_cache_dictionary_race",
        "01414_mutations_and_errors_zookeeper",
        "01415_inconsistent_merge_tree_settings",
        "01415_sticking_mutations",
        "01417_freeze_partition_verbose",
        "01417_freeze_partition_verbose_zookeeper",
        "01430_modify_sample_by_zookeeper",
        "01444_create_table_drop_database_race",
        "01454_storagememory_data_race_challenge",
        "01455_rank_correlation_spearman",
        "01456_modify_column_type_via_add_drop_update",
        "01457_create_as_table_function_structure",
        "01459_manual_write_to_replicas",
        "01460_DistributedFilesToInsert",
        "01465_ttl_recompression",
        "01470_show_databases_like",
        "01471_calculate_ttl_during_merge",
        "01487_distributed_in_not_default_db",
        "01493_alter_remove_properties_zookeeper",
        "01493_storage_set_persistency",
        "01494_storage_join_persistency",
        "01501_cache_dictionary_all_fields",
        "01507_clickhouse_server_start_with_embedded_config",
        "01509_dictionary_preallocate",
        "01516_create_table_primary_key",
        "01516_drop_table_stress",
        "01517_drop_mv_with_inner_table",
        "01526_complex_key_dict_direct_layout",
        "01527_clickhouse_local_optimize",
        "01527_dist_sharding_key_dictGet_reload",
        "01530_drop_database_atomic_sync",
        "01541_max_memory_usage_for_user",
        "01542_dictionary_load_exception_race",
        "01575_disable_detach_table_of_dictionary",
        "01593_concurrent_alter_mutations_kill",
        "01593_concurrent_alter_mutations_kill_many_replicas",
        "01600_count_of_parts_metrics", // tests global system metrics
        "01600_detach_permanently",
        "01600_log_queries_with_extensive_info",
        "01600_multiple_left_join_with_aliases",
        "01601_detach_permanently",
        "01602_show_create_view",
        "01603_rename_overwrite_bug",
        "01646_system_restart_replicas_smoke", // system restart replicas is a global query
        "attach",
        "ddl_dictionaries",
        "dictionary",
        "limit_memory",
        "live_view",
        "memory_leak",
        "memory_limit",
        "polygon_dicts", // they use an explicitly specified database
        "01224_no_superfluous_dict_reload"
    ],
    "polymorphic-parts": [
        /// These tests fail with compact parts, because they
        /// check some implementation defined things
        /// like checksums, computed granularity, ProfileEvents, etc.
        "avx",
        "01045_order_by_pk_special_storages",
        "01042_check_query_and_last_granule_size",
        "00961_checksums_in_system_parts_columns_table",
        "00933_test_fix_extra_seek_on_compressed_cache",
        "00926_adaptive_index_granularity_collapsing_merge_tree",
        "00926_adaptive_index_granularity_merge_tree",
        "00926_adaptive_index_granularity_replacing_merge_tree",
        "00926_adaptive_index_granularity_versioned_collapsing_merge_tree",
        "00804_test_delta_codec_compression",
        "00731_long_merge_tree_select_opened_files",
        "00653_verification_monotonic_data_load",
        "00484_preferred_max_column_in_block_size_bytes",
        "00446_clear_column_in_partition_zookeeper",
        "00443_preferred_block_size_bytes",
        "00160_merge_and_index_in_in",
        "01055_compact_parts",
        "01039_mergetree_exec_time",
        "00933_ttl_simple", /// Maybe it's worth to fix it
        "00753_system_columns_and_system_tables",
        "01343_min_bytes_to_use_mmap_io",
        "01344_min_bytes_to_use_mmap_io_index"
    ]
}
