-- disable optimize_sorting_for_input_stream
-- PIPELINE: sorting order is NOT propagated from subquery -> full sort
MergeSortingTransform
LimitsCheckingTransform
PartialSortingTransform
-- enable optimize_sorting_for_input_stream
-- PIPELINE: sorting order is propagated from subquery -> merge sort
MergeSortingTransform
-- PLAN: ExpressionStep preserves sort mode
Sort Mode: Stream: a ASC
Sort Mode: Stream: a ASC
Sort Mode: Port: a ASC
Sort Mode: Port: a ASC
-- PLAN: ExpressionStep breaks sort mode
Sort Mode: Stream: plus(a, 1) ASC
Sort Mode: Stream: plus(a, 1) ASC
Sort Mode: None
Sort Mode: Chunk: a ASC
-- PLAN: FilterStep preserves sort mode
Sort Mode: Chunk: a ASC
Sort Mode: Chunk: a ASC
Sort Mode: Chunk: a ASC
-- PLAN: FilterStep breaks sort mode
Sort Mode: None
Sort Mode: None
Sort Mode: Chunk: a ASC
-- PLAN: aliases break sorting order
Sort Mode: Stream: a ASC
Sort Mode: Stream: a ASC
Sort Mode: None
Sort Mode: Stream: a ASC
Sort Mode: Port: a ASC
Sort Mode: Port: a ASC
-- PLAN: aliases DONT break sorting order
Sort Mode: Stream: x ASC, y ASC
Sort Mode: Stream: x ASC, y ASC
Sort Mode: Chunk: a ASC, b ASC
Sort Mode: Chunk: a ASC, b ASC
-- PLAN: actions chain breaks sorting order: input(column a)->sipHash64(column a)->alias(sipHash64(column a), a)->plus(alias a, 1)
Sort Mode: None
Sort Mode: Stream: plus(a, 1) ASC
Sort Mode: None
Sort Mode: Stream: plus(a, 1) ASC
Sort Mode: Chunk: a ASC
Sort Mode: Chunk: a ASC
