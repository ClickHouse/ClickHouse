-- { echo }
SELECT count(*)
FROM 03772_table_match
WHERE NOT match(url, '^https?://clickhouse[.]com/');
1
EXPLAIN indexes = 1
SELECT count(*)
FROM 03772_table_match
WHERE NOT match(url, '^https?://clickhouse[.]com/');
Expression ((Project names + Projection))
  Aggregating
    Expression (Before GROUP BY)
      Filter ((WHERE + Change column names to column identifiers))
        ReadFromMergeTree (default.03772_table_match)
        Indexes:
          PrimaryKey
            Keys:
              url
            Condition: not((url in [\'http\', \'httq\')))
            Parts: 1/1
            Granules: 1/1
            Search Algorithm: generic exclusion search
          Ranges: 1
SELECT count(*)
FROM 03772_table_match
WHERE NOT match(url, '^abcd');
1
EXPLAIN indexes = 1
SELECT count(*)
FROM 03772_table_match
WHERE NOT match(url, '^abcd');
Expression ((Project names + Projection))
  Aggregating
    Expression (Before GROUP BY)
      Filter ((WHERE + Change column names to column identifiers))
        ReadFromMergeTree (default.03772_table_match)
        Indexes:
          PrimaryKey
            Keys:
              url
            Condition: not((url in [\'abcd\', \'abce\')))
            Parts: 1/1
            Granules: 1/1
            Search Algorithm: generic exclusion search
          Ranges: 1
SELECT count(*)
FROM 03772_table_match
WHERE match(url, '^abcd');
0
EXPLAIN indexes = 1
SELECT count(*)
FROM 03772_table_match
WHERE match(url, '^abcd');
Expression ((Project names + Projection))
  Aggregating
    Expression (Before GROUP BY)
      Filter ((WHERE + Change column names to column identifiers))
        ReadFromMergeTree (default.03772_table_match)
        Indexes:
          PrimaryKey
            Keys:
              url
            Condition: (url in [\'abcd\', \'abce\'))
            Parts: 0/1
            Granules: 0/1
            Search Algorithm: binary search
          Ranges: 0
SELECT count(*)
FROM 03772_table_match
WHERE match(url, '^https?://clickhouse[.]com/') = false;
1
EXPLAIN indexes = 1
SELECT count(*)
FROM 03772_table_match
WHERE match(url, '^https?://clickhouse[.]com/') = false;
Expression ((Project names + Projection))
  Aggregating
    Expression (Before GROUP BY)
      Filter ((WHERE + Change column names to column identifiers))
        ReadFromMergeTree (default.03772_table_match)
        Indexes:
          PrimaryKey
            Condition: true
            Parts: 1/1
            Granules: 1/1
          Ranges: 1
