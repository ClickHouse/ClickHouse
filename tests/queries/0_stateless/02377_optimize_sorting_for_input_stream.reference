-- { echoOn }
SELECT a from optimize_sorting order by a;
0
1
2
3
4
5
6
7
8
9
-- queries with unary function in order by
SELECT a from optimize_sorting order by -a;
9
8
7
6
5
4
3
2
1
0
SELECT a from optimize_sorting order by toFloat64(a);
0
1
2
3
4
5
6
7
8
9
-- queries with non-unary function in order by
SELECT a from optimize_sorting order by a+1;
0
1
2
3
4
5
6
7
8
9
SELECT a from optimize_sorting order by a-1;
0
1
2
3
4
5
6
7
8
9
SELECT a from optimize_sorting order by sipHash64(a, 'a');
3
8
0
9
5
1
2
6
4
7
-- queries with aliases
SELECT a as a from optimize_sorting order by a;
0
1
2
3
4
5
6
7
8
9
SELECT a+1 as a from optimize_sorting order by a;
1
2
3
4
5
6
7
8
9
10
SELECT toFloat64(a) as a from optimize_sorting order by a;
0
1
2
3
4
5
6
7
8
9
SELECT sipHash64(a) as a from optimize_sorting order by a;
9140302661501632497
9199082625845137542
9224715256000962398
13180436571133193200
13251804803629934096
13686418376000424449
14247234200463187066
14454559127837024772
14848019510572519333
16738165381834614119
-- queries with filter+expression
SELECT a FROM optimize_sorting WHERE a > 0 ORDER BY a;
1
2
3
4
5
6
7
8
9
SELECT a > 0 FROM optimize_sorting WHERE a > 0;
1
1
1
1
1
1
1
1
1
SELECT a FROM (SELECT a FROM optimize_sorting) WHERE a != 0 ORDER BY a;
1
2
3
4
5
6
7
8
9
SELECT a FROM (SELECT sipHash64(a) AS a FROM optimize_sorting) WHERE a != 0 ORDER BY a;
9140302661501632497
9199082625845137542
9224715256000962398
13180436571133193200
13251804803629934096
13686418376000424449
14247234200463187066
14454559127837024772
14848019510572519333
16738165381834614119
