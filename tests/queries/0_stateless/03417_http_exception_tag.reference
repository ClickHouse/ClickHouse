Test 1: Check that X-ClickHouse-Exception-Tag header is present
X-ClickHouse-Exception-Tag:
Test 2: Verify exception tag is alphanumeric
Tag is 16-char alphanumeric: OK
Test 3: Check exception marker format on error
Tagged exception marker found: OK
Test 4: Check reverse marker format (length + tag + __exception__)
Reverse marker found: OK
Test 5: Verify exception message handling
exception message handling: OK
Test 6: Verify no final zero chunk on exception without compression
No final zero chunk on exception: OK
Test 7: Verify no final zero chunk on exception with gzip compression
No final zero chunk on exception with compression: OK
Test 8: Verify final zero chunk IS present on successful query with compression
Final zero chunk present on success: OK
