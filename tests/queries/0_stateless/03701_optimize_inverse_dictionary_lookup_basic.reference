Equality, LHS - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name = \'red\')
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
Equality, LHS
1	a
3	c
Equality, RHS - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE \'red\' = __table1.name)
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
Equality, RHS
1	a
3	c
Inequality <, LHS - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.n < 10)
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
Inequality <, LHS
1	a
2	b
4	d
5	R
Inequality <, RHS - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE 10 > __table1.n)
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
Inequality <, RHS
1	a
2	b
4	d
5	R
Type variant cast, >= Int32 - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE _CAST(__table1.n, \'Int32\') >= 2)
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
Type variant cast, >= Int32
1	a
2	b
3	c
5	R
LIKE - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name LIKE \'r%\')
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
LIKE
1	a
3	c
ILIKE - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name ILIKE \'r%\')
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
ILIKE
1	a
3	c
5	R
NOT recursion - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE NOT (__table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name = \'red\'))
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
NOT recursion
2	b
4	d
5	R
AND/OR recursion - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE ((__table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name = \'red\')) AND (__table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.n < 10))) OR (__table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name = \'green\'))
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
AND/OR recursion
1	a
4	d
NULL constant - plan
SELECT
    __table1.color_id AS color_id,
    __table1.payload AS payload
FROM default.t AS __table1
WHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name = _CAST(NULL, \'Nullable(Nothing)\'))
ORDER BY
    __table1.color_id ASC,
    __table1.payload ASC
NULL constant
PREWHERE - plan
SELECT __table1.color_id AS color_id
FROM default.t AS __table1
PREWHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name = \'red\')
ORDER BY __table1.color_id ASC
PREWHERE
1
3
QUALIFY - plan
SELECT
    __table1.color_id AS color_id,
    row_number() OVER (PARTITION BY 1 ORDER BY __table1.color_id ASC) AS rn
FROM default.t AS __table1
QUALIFY __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name = \'red\')
ORDER BY
    __table1.color_id ASC,
    row_number() OVER (PARTITION BY 1 ORDER BY __table1.color_id ASC) ASC
QUALIFY
1	1
3	3
Empty result set - plan
SELECT __table1.color_id AS color_id
FROM default.t AS __table1
WHERE __table1.color_id IN (SELECT __table1.id AS id
FROM dictionary(\'colors\') AS __table1
WHERE __table1.name = \'nonexistent_color\')
ORDER BY __table1.color_id ASC
Empty result set
Negative: non-constant RHS - plan
SELECT __table1.color_id AS color_id
FROM default.t AS __table1
WHERE dictGetString(\'colors\', \'name\', __table1.color_id) = __table1.payload
ORDER BY __table1.color_id ASC
Negative: non-constant RHS
