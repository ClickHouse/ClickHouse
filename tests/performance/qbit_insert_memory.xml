<test>
    <settings>
        <allow_experimental_qbit_type>1</allow_experimental_qbit_type>
    </settings>
    <substitutions>
        <substitution>
            <name>vector_size</name>
            <values>
                <value>100</value>
            </values>
        </substitution>

        <substitution>
            <name>elements</name>
            <values>
                <value>100000</value>
            </values>
        </substitution>

        <substitution>
            <name>type</name>
            <values>
                <value>BFloat16</value>
                <value>Float32</value>
                <value>Float64</value>
            </values>
        </substitution>
    </substitutions>

    <create_query>DROP TABLE IF EXISTS tab_{type}</create_query>
    <create_query>CREATE TABLE tab_{type} (id UInt32, vec QBit({type}, {vector_size})) ENGINE = Memory</create_query>

    <query>INSERT INTO tab_{type} SELECT number + 1 AS id, arrayMap(i -> to{type}(id + i - 1), range({vector_size})) AS vec FROM numbers({elements})</query>

    <drop_query>DROP TABLE tab_{type}</drop_query>
</test>
