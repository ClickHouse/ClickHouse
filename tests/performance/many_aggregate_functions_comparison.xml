<test>
    <name>many_aggregate_functions_comparison</name>
    <substitutions>
        <substitution>
            <name>group_scale</name>
            <values>
                <value>1000000</value>
            </values>
        </substitution>
    </substitutions>

    <!-- Single complex query using multiple aggregation functions -->
    <query>
        SELECT
        count(),
        uniqExact(UserID),
        sum(JavaEnable),
        avg(WindowClientWidth),
        max(EventTime),
        count(BY CounterID % {group_scale}),
        sum(JavaEnable BY UserID % {group_scale})
        FROM
        hits_100m_single
        GROUP BY
        UserID % {group_scale},
        CounterID % {group_scale}
        FORMAT Null
    </query>

    <!-- Query using grouping sets -->
    <query>
        SELECT
        count(),
        uniqExact(UserID),
        sum(JavaEnable),
        avg(WindowClientWidth),
        max(EventTime)
        FROM
        hits_100m_single
        GROUP BY
        GROUPING SETS(
            (UserID % {group_scale}, CounterID % {group_scale}),
            (UserID % {group_scale}),
            (CounterID % {group_scale})
        )
        FORMAT Null
    </query>
</test>
