<test>
<query>
WITH
    2001  AS side,
    -1000 AS min_coord
SELECT count()
FROM
(
    SELECT number
    FROM numbers(side * side)
) AS grid
WHERE NOT ignore
(
    pointInPolygon
    (
        (min_coord + (number % side),
         min_coord + (number / side)),
        [
            [
                [(100,100),(900,100),(900,900),(100,900)],
                [(300,300),(500,300),(500,500),(300,500)],
                [(600,600),(800,600),(800,800),(600,800)]
            ],
            [
                [(-900,100),(-100,100),(-100,900),(-900,900)],
                [(-700,300),(-500,300),(-500,500),(-700,500)],
                [(-400,600),(-200,600),(-200,800),(-400,800)]
            ],
            [
                [(-900,-900),(-100,-900),(-100,-100),(-900,-100)],
                [(-700,-700),(-500,-700),(-500,-500),(-700,-500)],
                [(-400,-400),(-200,-400),(-200,-200),(-400,-200)]
            ]
        ]
    )
);
</query>
</test>
