<test>
    <create_query>CREATE TABLE test_shared_data_compact ENGINE=MergeTree ORDER BY tuple() SETTINGS min_bytes_for_wide_part='200G'</create_query>
    <create_query>CREATE TABLE test_shared_data_wide ENGINE=MergeTree ORDER BY tuple() SETTINGS min_bytes_for_wide_part=1, min_rows_for_wide_part=1</create_query>

    <fill_query>INSERT INTO test_shared_data_compact SELECT arrayMap(x -> tuple('key' || x, x + number), range(1000))::Map(String, UInt32) FROM numbers(1000000)</fill_query>
    <fill_query>INSERT INTO test_shared_data_wide SELECT arrayMap(x -> tuple('key' || x, x + number), range(1000))::Map(String, UInt32) FROM numbers(1000000)</fill_query>
    <fill_query>OPTIMIZE TABLE test_shared_data_compact FINAL SETTINGS mutations_sync=1</fill_query>
    <fill_query>OPTIMIZE TABLE test_shared_data_wide FINAL SETTINGS mutations_sync=1</fill_query>

    <query>SELECT json FROM test_shared_data_compact FORMAT Null</query>
    <query>SELECT json FROM test_shared_data_wide FORMAT Null</query>
    <query>SELECT json.key0 FROM test_shared_data_compact FORMAT Null</query>
    <query>SELECT json.key0 FROM test_shared_data_wide FORMAT Null</query>
    <query>SELECT json.non_existing_key FROM test_shared_data_compact FORMAT Null</query>
    <query>SELECT json.non_existing_key FROM test_shared_data_wide FORMAT Null</query>
    <query>SELECT json.key0, json.key1, json.key2, json.key3, json.key4 FROM test_shared_data_compact FORMAT Null</query>
    <query>SELECT json.key0, json.key1, json.key2, json.key3, json.key4 FROM test_shared_data_wide FORMAT Null</query>

    <drop_query>DROP TABLE IF EXISTS test_shared_data_compact</drop_query>
    <drop_query>DROP TABLE IF EXISTS test_shared_data_wide</drop_query>
</test>
