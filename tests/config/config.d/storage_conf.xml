<clickhouse>
    <storage_configuration>
        <disks>
            <s3_disk>
                <type>s3</type>
                <path>s3_disk/</path>
                <endpoint>http://localhost:11111/test/common/</endpoint>
                <access_key_id>clickhouse</access_key_id>
                <secret_access_key>clickhouse</secret_access_key>
                <request_timeout_ms>20000</request_timeout_ms>
            </s3_disk>
            <s3_cache>
                <type>cache</type>
                <disk>s3_disk</disk>
                <path>s3_cache/</path>
                <max_size>128Mi</max_size>
                <cache_on_write_operations>1</cache_on_write_operations>
                <delayed_cleanup_interval_ms>100</delayed_cleanup_interval_ms>
            </s3_cache>
            <!-- local disks -->
            <local_disk>
                <type>local_blob_storage</type>
                <path>local_disk/</path>
            </local_disk>
            <local_disk_2>
                <type>local_blob_storage</type>
                <path>local_disk_2/</path>
            </local_disk_2>
            <local_disk_3>
                <type>local_blob_storage</type>
                <path>local_disk_3/</path>
            </local_disk_3>
            <!-- cache for local disks -->
            <local_cache>
                <type>cache</type>
                <disk>local_disk</disk>
                <path>local_cache/</path>
                <max_size>22548578304</max_size>
                <cache_on_write_operations>1</cache_on_write_operations>
                <delayed_cleanup_interval_ms>100</delayed_cleanup_interval_ms>
            </local_cache>
            <local_cache_2>
                <type>cache</type>
                <disk>local_disk</disk>
                <path>local_cache_2/</path>
                <max_size>22548578304</max_size>
                <delayed_cleanup_interval_ms>100</delayed_cleanup_interval_ms>
            </local_cache_2>
            <local_cache_3>
                <type>cache</type>
                <disk>local_disk_3</disk>
                <path>local_cache_3/</path>
                <max_size>22548578304</max_size>
                <cache_on_write_operations>1</cache_on_write_operations>
                <enable_cache_hits_threshold>1</enable_cache_hits_threshold>
                <delayed_cleanup_interval_ms>100</delayed_cleanup_interval_ms>
            </local_cache_3>
            <!-- multi layer cache -->
            <s3_cache_multi>
                <type>cache</type>
                <disk>s3_cache</disk>
                <path>s3_cache_multi/</path>
                <max_size>22548578304</max_size>
                <delayed_cleanup_interval_ms>100</delayed_cleanup_interval_ms>
            </s3_cache_multi>
            <s3_cache_multi_2>
                <type>cache</type>
                <disk>s3_cache_multi</disk>
                <path>s3_cache_multi_2/</path>
                <max_size>22548578304</max_size>
                <delayed_cleanup_interval_ms>100</delayed_cleanup_interval_ms>
            </s3_cache_multi_2>
            <!-- OS encryption -->
            <locobj_encrypted_cached>
                <type>local_blob_storage</type>
                <path>encrypted_cached/</path>
            </locobj_encrypted_cached>
            <encrypted_cache>
                <type>encrypted_os</type>
                <disk>locobj_encrypted_cached</disk>
                <algorithm>AES_128_CTR</algorithm>
                <key_hex id="0">41414141414141414141414141414141</key_hex>
                <current_key_id>0</current_key_id>
            </encrypted_cache>
            <encrypted_cached>
                <type>cache</type>
                <disk>encrypted_cache</disk>
                <path>encrypted_cached_2/</path>
                <max_size>22548578304</max_size>
                <cache_on_write_operations>1</cache_on_write_operations>
                <delayed_cleanup_interval_ms>100</delayed_cleanup_interval_ms>
            </encrypted_cached>
            <s3obj_encrypted_cached_disk>
                <type>s3</type>
                <endpoint>http://localhost:11111/test/00170_test/</endpoint>
                <access_key_id>minio</access_key_id>
                <secret_access_key>minio123</secret_access_key>
            </s3obj_encrypted_cached_disk>
            <s3encrypted_cached_enc>
                <type>encrypted_os</type>
                <disk>s3obj_encrypted_cached_disk</disk>
                <algorithm>AES_128_CTR</algorithm>
                <key_hex id="0">41414141414141414141414141414141</key_hex>
                <current_key_id>0</current_key_id>
            </s3encrypted_cached_enc>
            <s3_encrypted_cached>
                <type>cache</type>
                <disk>s3encrypted_cached_enc</disk>
                <path>s3encrypted_cached/</path>
                <max_size>22548578304</max_size>
                <cache_on_write_operations>1</cache_on_write_operations>
                <delayed_cleanup_interval_ms>100</delayed_cleanup_interval_ms>
            </s3_encrypted_cached>
        </disks>
        <policies>
            <s3_cache>
                <volumes>
                    <main>
                        <disk>s3_cache</disk>
                    </main>
                </volumes>
            </s3_cache>
            <s3_cache_multi>
                <volumes>
                    <main>
                        <disk>s3_cache_multi_2</disk>
                    </main>
                </volumes>
            </s3_cache_multi>
            <local_cache>
                <volumes>
                    <main>
                        <disk>local_cache</disk>
                    </main>
                </volumes>
            </local_cache>
            <local_cache_2>
                <volumes>
                    <main>
                        <disk>local_cache_2</disk>
                    </main>
                </volumes>
            </local_cache_2>
            <local_cache_3>
                <volumes>
                    <main>
                        <disk>local_cache_3</disk>
                    </main>
                </volumes>
            </local_cache_3>
            <s3_cache_small_segment_size>
                <volumes>
                    <main>
                        <disk>s3_cache_small_segment_size</disk>
                    </main>
                </volumes>
            </s3_cache_small_segment_size>
            <s3_encrypted_cached>
                <volumes>
                    <main>
                        <disk>s3_encrypted_cached</disk>
                    </main>
                </volumes>
            </s3_encrypted_cached>
            <encrypted_cached>
                <volumes>
                    <main>
                        <disk>encrypted_cached</disk>
                    </main>
                </volumes>
            </encrypted_cached>
        </policies>
    </storage_configuration>
</clickhouse>
