<clickhouse>
<graphite_rollup>
	<pattern>
        <rule_type>plain</rule_type>
 		<regexp>\.sum$</regexp>
 		<function>sum</function>
 		<retention>
 			<age>0</age>
 			<precision>60</precision>
 		</retention>
 		<retention>
 			<age>86400</age>
 			<precision>3600</precision>
 		</retention>
	</pattern>
	<pattern>
        <rule_type>tagged</rule_type>
		<regexp>^((.*)|.)sum\?</regexp>
		<function>sum</function>
		<retention>
 			<age>0</age>
 			<precision>60</precision>
 		</retention>
 		<retention>
 			<age>86400</age>
 			<precision>3600</precision>
 		</retention>
	</pattern>
	<pattern>
        <rule_type>plain</rule_type>
 		<regexp>\.max$</regexp>
 		<function>max</function>
 		<retention>
 			<age>0</age>
 			<precision>60</precision>
 		</retention>
 		<retention>
 			<age>86400</age>
 			<precision>3600</precision>
 		</retention>
	</pattern>
	<pattern>
        <rule_type>tagged</rule_type>
		<regexp>^((.*)|.)max\?</regexp>
		<function>max</function>
		<retention>
 			<age>0</age>
 			<precision>60</precision>
 		</retention>
 		<retention>
 			<age>86400</age>
 			<precision>3600</precision>
 		</retention>
	</pattern>
	<pattern>
        <rule_type>plain</rule_type>
 		<regexp>\.min$</regexp>
 		<function>min</function>
 		<retention>
 			<age>0</age>
 			<precision>60</precision>
 		</retention>
 		<retention>
 			<age>86400</age>
 			<precision>3600</precision>
 		</retention>
	</pattern>
	<pattern>
    <rule_type>tagged</rule_type>
 		<regexp>^((.*)|.)min\?</regexp>
 		<function>min</function>
 		<retention>
 			<age>0</age>
 			<precision>60</precision>
 		</retention>
 		<retention>
 			<age>86400</age>
 			<precision>3600</precision>
 		</retention>
	</pattern>
	<pattern>
        <rule_type>plain</rule_type>
		<regexp>\.fake1\..*\.Fake1\.</regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>tagged</rule_type>
		<regexp><![CDATA[^fake1\?(.*&)*tag=Fake1(&|$)]]></regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>plain</rule_type>
		<regexp>\.fake2\..*\.Fake2\.</regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>tagged</rule_type>
		<regexp><![CDATA[^fake2\?(.*&)*tag=Fake2(&|$)]]></regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>plain</rule_type>
		<regexp>\.fake3\..*\.Fake3\.</regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>tagged</rule_type>
		<regexp><![CDATA[^fake3\?(.*&)*tag=Fake3(&|$)]]></regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>plain</rule_type>
		<regexp>\.fake4\..*\.Fake4\.</regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>tagged</rule_type>
		<regexp><![CDATA[^fake4\?(.*&)*tag=Fake4(&|$)]]></regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>plain</rule_type>
		<regexp>\.fake5\..*\.Fake5\.</regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>tagged</rule_type>
		<regexp><![CDATA[^fake5\?(.*&)*tag=Fake5(&|$)]]></regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>plain</rule_type>
		<regexp>\.fake6\..*\.Fake6\.</regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>tagged</rule_type>
		<regexp><![CDATA[^fake6\?(.*&)*tag=Fake6(&|$)]]></regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>plain</rule_type>
		<regexp>\.fake7\..*\.Fake7\.</regexp>
		<function>sum</function>
	</pattern>
	<pattern>
        <rule_type>tagged</rule_type>
		<regexp><![CDATA[^fake7\?(.*&)*tag=Fake7(&|$)]]></regexp>
		<function>sum</function>
	</pattern>
 	<default>
 		<function>avg</function>
 		<retention>
 			<age>0</age>
 			<precision>60</precision>
 		</retention>
 		<retention>
 			<age>3600</age>
 			<precision>300</precision>
 		</retention>
 		<retention>
 			<age>86400</age>
 			<precision>3600</precision>
 		</retention>
 	</default>
</graphite_rollup>
</clickhouse>
