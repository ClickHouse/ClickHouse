CREATE TABLE ip(
    a FixedString(16)
) ENGINE = Memory;



INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0db8:0000:85a3:0000:0000:ac1f:8001'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0db8:0000:85a3:0000:0000:ac1f:8001'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0db8:0000:85a3:0000:0000:ac1f:8001'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0db8:0000:85a3:0000:0000:ac1f:8001'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0db8:0000:85a3:0000:0000:ac1f:8001'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0db8:0000:85a3:0000:0000:ac1f:8001'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0db8:0000:85a3:0000:0000:ac1f:8001'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0db8:0000:85a3:0000:0000:ac1f:8001'));
INSERT INTO ip(a) VALUES(IPv6StringToNum('2001:0db8:0000:85a3:0000:0000:ac1f:8001'));

WITH IPv6CIDRtoIPv6Range(IPv6StringToNum('2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D'), 40) as test SELECT IPv6NumToString(a) FROM ip WHERE a BETWEEN tupleElement(test, 1) AND tupleElement(test, 2) ;
