<?xml version="1.0"?>
<yandex>
	<!-- Профили настроек. -->
	<profiles>
		<!-- Настройки по-умолчанию -->
		<default>
			<!-- Максимальное потребление оперативки одним запросом (байт). -->
			<max_memory_usage>10000000000</max_memory_usage>

			<!-- Использовать ли кэш разжатых блоков. Имеет смысл только для большого количества мелких запросов. -->
			<use_uncompressed_cache>0</use_uncompressed_cache>

			<!-- Как выбирать реплику ClickHouse.
			     random - среди реплик с минимальным количеством ошибок выбирается случайная
			     nearest_hostname - среди реплик с минимальным количеством ошибок выбирается реплика
			      с минимальным количеством отличающихся символов между именем реплики и именем локального хоста.
				 in_order - реплики перебираются в точности в таком порядке, в каком они указаны.
			-->
			<load_balancing>random</load_balancing>
		</default>

		<!-- Разрешает запросы только на чтение. -->
		<readonly>
			<readonly>1</readonly>
		</readonly>
	</profiles>

	<!-- Пользователи и ACL. -->
	<users>
		<!-- Если имя пользователя не указано, используется пользователь default. -->
		<default>
			<!-- Пароль можно указать либо в открытом виде, либо в виде SHA256 (в hex формате).

			     Если вы хотите указать пароль в открытом виде (не рекомендуется), то укажите его в элементе password.
			     Пример: <password>qwerty</password>.
			     Пароль может быть пустым.

			     Если вы хотите указать SHA256, то укажите его в элементе password_sha256_hex.
			     Пример: <password_sha256_hex>65e84be33532fb784c48129675f9eff3a682b27168c0ea744b2cf58ee02337c5</password_sha256_hex>

			     Как сгенерировать хороший пароль:
			     Выполните: PASSWORD=$(base64 < /dev/urandom | head -c8); echo "$PASSWORD"; echo -n "$PASSWORD" | sha256sum | tr -d '-'
				 На первой строке будет пароль, а на второй - его SHA256.
			-->
			<password></password>

			<!-- Список сетей, из которых разрешён доступ.

				 Для доступа отовсюду, пропишите:
					<ip>::/0</ip>

				 Для доступа только с localhost, пропишите:
					<ip>::1</ip>
					<ip>127.0.0.1</ip>

				 Каждый элемент списка имеет одну из следующих форм:
				 <ip> IP-адрес или маска подсети. Например, 213.180.204.3 или 10.0.0.1/8 или 2a02:6b8::3 или 2a02:6b8::3/64.
				 <host> Имя хоста. Например: mtcalc01. Для проверки делается DNS-запрос, и все полученные адреса сравниваются с адресом клиента.
				 <host_regexp> Регексп для имён хостов. Например, ^example\d\d-\d\d-\d\.yandex\.ru$
					 Для проверки, для адреса клиента делается DNS PTR-запрос и к результату применяется регексп.
					 Потом для результата PTR-запроса делается снова DNS-запрос, и все полученные адреса сравниваются с адресом клиента.
					 Настоятельно рекомендуется, чтобы регексп заканчивался на \.yandex\.ru$.
			-->
			<networks incl="networks" replace="replace">
				<ip>::/0</ip>
			</networks>

			<!-- Профиль настроек, использующийся для пользователя. -->
			<profile>default</profile>

			<!-- Квота, использующаяся для пользователя. -->
			<quota>default</quota>
		</default>

		<readonly>
			<password></password>
			<networks incl="networks" replace="replace">
				<ip>::1</ip>
				<ip>127.0.0.1</ip>
			</networks>
			<profile>readonly</profile>
			<quota>default</quota>
		</readonly>
	</users>

	<!-- Квоты. -->
	<quotas>
		<!-- Имя квоты. -->
		<default>
			<!-- Ограничения за интервал времени. Можно задать много интервалов с разными ограничениями. -->
			<interval>
				<!-- Длина интервала. -->
				<duration>3600</duration>

				<!-- Без ограничений. Просто считать соответствующие данные за указанный интервал. -->
				<queries>0</queries>
				<errors>0</errors>
				<result_rows>0</result_rows>
				<read_rows>0</read_rows>
				<execution_time>0</execution_time>
			</interval>
		</default>
	</quotas>
</yandex>
